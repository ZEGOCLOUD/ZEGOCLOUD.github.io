var ar=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ur=ar((exports,module)=>{const p$1=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const v of c.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&d(v)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerpolicy&&(c.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?c.credentials="include":u.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function d(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}};p$1();function makeMap(e,t){const r=Object.create(null),d=e.split(",");for(let u=0;u<d.length;u++)r[d[u]]=!0;return t?u=>!!r[u.toLowerCase()]:u=>!!r[u]}function normalizeStyle(e){if(isArray$2(e)){const t={};for(let r=0;r<e.length;r++){const d=e[r],u=isString$1(d)?parseStringStyle(d):normalizeStyle(d);if(u)for(const c in u)t[c]=u[c]}return t}else{if(isString$1(e))return e;if(isObject$1(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const d=r.split(propertyDelimiterRE);d.length>1&&(t[d[0].trim()]=d[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$1(e))t=e;else if(isArray$2(e))for(let r=0;r<e.length;r++){const d=normalizeClass(e[r]);d&&(t+=d+" ")}else if(isObject$1(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:r}=e;return t&&!isString$1(t)&&(e.class=normalizeClass(t)),r&&(e.style=normalizeStyle(r)),e}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let r=!0;for(let d=0;r&&d<e.length;d++)r=looseEqual(e[d],t[d]);return r}function looseEqual(e,t){if(e===t)return!0;let r=isDate(e),d=isDate(t);if(r||d)return r&&d?e.getTime()===t.getTime():!1;if(r=isSymbol$1(e),d=isSymbol$1(t),r||d)return e===t;if(r=isArray$2(e),d=isArray$2(t),r||d)return r&&d?looseCompareArrays(e,t):!1;if(r=isObject$1(e),d=isObject$1(t),r||d){if(!r||!d)return!1;const u=Object.keys(e).length,c=Object.keys(t).length;if(u!==c)return!1;for(const v in e){const g=e.hasOwnProperty(v),y=t.hasOwnProperty(v);if(g&&!y||!g&&y||!looseEqual(e[v],t[v]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(r=>looseEqual(r,t))}const toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$2(e)||isObject$1(e)&&(e.toString===objectToString$1||!isFunction$1(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[d,u])=>(r[`${d} =>`]=u,r),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$1(t)&&!isArray$2(t)&&!isPlainObject$1(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},hasOwnProperty$9=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$9.call(e,t),isArray$2=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate=e=>toTypeString(e)==="[object Date]",isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol$1=e=>typeof e=="symbol",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>isObject$1(e)&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString$1=Object.prototype.toString,toTypeString=e=>objectToString$1.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$1=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},def=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},toNumber$1=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(t){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this.active){let r,d;for(r=0,d=this.effects.length;r<d;r++)this.effects[r].stop();for(r=0,d=this.cleanups.length;r<d;r++)this.cleanups[r]();if(this.scopes)for(r=0,d=this.scopes.length;r<d;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this.active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope&&activeEffectScope.cleanups.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let r=0;for(let d=0;d<t.length;d++){const u=t[d];wasTracked(u)&&!newTracked(u)?u.delete(e):t[r++]=u,u.w&=~trackOpBit,u.n&=~trackOpBit}t.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,r=null,d){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,d)}run(){if(!this.active)return this.fn();let t=activeEffect,r=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,r){if(shouldTrack&&activeEffect){let d=targetMap.get(e);d||targetMap.set(e,d=new Map);let u=d.get(r);u||d.set(r,u=createDep()),trackEffects(u)}}function trackEffects(e,t){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,r=!wasTracked(e)):r=!e.has(activeEffect),r&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,r,d,u,c){const v=targetMap.get(e);if(!v)return;let g=[];if(t==="clear")g=[...v.values()];else if(r==="length"&&isArray$2(e)){const y=toNumber$1(d);v.forEach((o,n)=>{(n==="length"||n>=y)&&g.push(o)})}else switch(r!==void 0&&g.push(v.get(r)),t){case"add":isArray$2(e)?isIntegerKey(r)&&g.push(v.get("length")):(g.push(v.get(ITERATE_KEY)),isMap(e)&&g.push(v.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(e)||(g.push(v.get(ITERATE_KEY)),isMap(e)&&g.push(v.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&g.push(v.get(ITERATE_KEY));break}if(g.length===1)g[0]&&triggerEffects(g[0]);else{const y=[];for(const o of g)o&&y.push(...o);triggerEffects(createDep(y))}}function triggerEffects(e,t){const r=isArray$2(e)?e:[...e];for(const d of r)d.computed&&triggerEffect(d);for(const d of r)d.computed||triggerEffect(d)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol$1)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const d=toRaw(this);for(let c=0,v=this.length;c<v;c++)track(d,"get",c+"");const u=d[t](...r);return u===-1||u===!1?d[t](...r.map(toRaw)):u}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){pauseTracking();const d=toRaw(this)[t].apply(this,r);return resetTracking(),d}}),e}function createGetter(e=!1,t=!1){return function(d,u,c){if(u==="__v_isReactive")return!e;if(u==="__v_isReadonly")return e;if(u==="__v_isShallow")return t;if(u==="__v_raw"&&c===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(d))return d;const v=isArray$2(d);if(!e&&v&&hasOwn(arrayInstrumentations,u))return Reflect.get(arrayInstrumentations,u,c);const g=Reflect.get(d,u,c);return(isSymbol$1(u)?builtInSymbols.has(u):isNonTrackableKeys(u))||(e||track(d,"get",u),t)?g:isRef(g)?v&&isIntegerKey(u)?g:g.value:isObject$1(g)?e?readonly(g):reactive(g):g}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(r,d,u,c){let v=r[d];if(isReadonly(v)&&isRef(v)&&!isRef(u))return!1;if(!e&&(!isShallow(u)&&!isReadonly(u)&&(v=toRaw(v),u=toRaw(u)),!isArray$2(r)&&isRef(v)&&!isRef(u)))return v.value=u,!0;const g=isArray$2(r)&&isIntegerKey(d)?Number(d)<r.length:hasOwn(r,d),y=Reflect.set(r,d,u,c);return r===toRaw(c)&&(g?hasChanged(u,v)&&trigger(r,"set",d,u):trigger(r,"add",d,u)),y}}function deleteProperty(e,t){const r=hasOwn(e,t);e[t];const d=Reflect.deleteProperty(e,t);return d&&r&&trigger(e,"delete",t,void 0),d}function has(e,t){const r=Reflect.has(e,t);return(!isSymbol$1(t)||!builtInSymbols.has(t))&&track(e,"has",t),r}function ownKeys(e){return track(e,"iterate",isArray$2(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1$1(e,t,r=!1,d=!1){e=e.__v_raw;const u=toRaw(e),c=toRaw(t);r||(t!==c&&track(u,"get",t),track(u,"get",c));const{has:v}=getProto(u),g=d?toShallow:r?toReadonly:toReactive;if(v.call(u,t))return g(e.get(t));if(v.call(u,c))return g(e.get(c));e!==u&&e.get(t)}function has$1(e,t=!1){const r=this.__v_raw,d=toRaw(r),u=toRaw(e);return t||(e!==u&&track(d,"has",e),track(d,"has",u)),e===u?r.has(e):r.has(e)||r.has(u)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$1(e,t){t=toRaw(t);const r=toRaw(this),{has:d,get:u}=getProto(r);let c=d.call(r,e);c||(e=toRaw(e),c=d.call(r,e));const v=u.call(r,e);return r.set(e,t),c?hasChanged(t,v)&&trigger(r,"set",e,t):trigger(r,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:d}=getProto(t);let u=r.call(t,e);u||(e=toRaw(e),u=r.call(t,e)),d&&d.call(t,e);const c=t.delete(e);return u&&trigger(t,"delete",e,void 0),c}function clear(){const e=toRaw(this),t=e.size!==0,r=e.clear();return t&&trigger(e,"clear",void 0,void 0),r}function createForEach(e,t){return function(d,u){const c=this,v=c.__v_raw,g=toRaw(v),y=t?toShallow:e?toReadonly:toReactive;return!e&&track(g,"iterate",ITERATE_KEY),v.forEach((o,n)=>d.call(u,y(o),y(n),c))}}function createIterableMethod(e,t,r){return function(...d){const u=this.__v_raw,c=toRaw(u),v=isMap(c),g=e==="entries"||e===Symbol.iterator&&v,y=e==="keys"&&v,o=u[e](...d),n=r?toShallow:t?toReadonly:toReactive;return!t&&track(c,"iterate",y?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:s,done:i}=o.next();return i?{value:s,done:i}:{value:g?[n(s[0]),n(s[1])]:n(s),done:i}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(c){return get$1$1(this,c)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(c){return get$1$1(this,c,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(c){return get$1$1(this,c,!0)},get size(){return size(this,!0)},has(c){return has$1.call(this,c,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},d={get(c){return get$1$1(this,c,!0,!0)},get size(){return size(this,!0)},has(c){return has$1.call(this,c,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(c=>{e[c]=createIterableMethod(c,!1,!1),r[c]=createIterableMethod(c,!0,!1),t[c]=createIterableMethod(c,!1,!0),d[c]=createIterableMethod(c,!0,!0)}),[e,r,t,d]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(d,u,c)=>u==="__v_isReactive"?!e:u==="__v_isReadonly"?e:u==="__v_raw"?d:Reflect.get(hasOwn(r,u)&&u in d?r:d,u,c)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,r,d,u){if(!isObject$1(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const c=u.get(e);if(c)return c;const v=getTargetType(e);if(v===0)return e;const g=new Proxy(e,v===2?d:r);return u.set(e,g),g}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$1(e)?reactive(e):e,toReadonly=e=>isObject$1(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e),e.dep&&triggerEffects(e.dep)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const r=this.__v_isShallow||isShallow(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:toReactive(t),triggerRefValue(this))}}function triggerRef(e){triggerRefValue(e)}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,r)=>unref(Reflect.get(e,t,r)),set:(e,t,r,d)=>{const u=e[t];return isRef(u)&&!isRef(r)?(u.value=r,!0):Reflect.set(e,t,r,d)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray$2(e)?new Array(e.length):{};for(const r in e)t[r]=toRef(e,r);return t}class ObjectRefImpl{constructor(t,r,d){this._object=t,this._key=r,this._defaultValue=d,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function toRef(e,t,r){const d=e[t];return isRef(d)?d:new ObjectRefImpl(e,t,r)}var _a$1;class ComputedRefImpl{constructor(t,r,d,u){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=d}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a$1="__v_isReadonly";function computed$1(e,t,r=!1){let d,u;const c=isFunction$1(e);return c?(d=e,u=NOOP):(d=e.get,u=e.set),new ComputedRefImpl(d,u,c||!u,r)}function warn(e,...t){}function callWithErrorHandling(e,t,r,d){let u;try{u=d?e(...d):e()}catch(c){handleError(c,t,r)}return u}function callWithAsyncErrorHandling(e,t,r,d){if(isFunction$1(e)){const c=callWithErrorHandling(e,t,r,d);return c&&isPromise(c)&&c.catch(v=>{handleError(v,t,r)}),c}const u=[];for(let c=0;c<e.length;c++)u.push(callWithAsyncErrorHandling(e[c],t,r,d));return u}function handleError(e,t,r,d=!0){const u=t?t.vnode:null;if(t){let c=t.parent;const v=t.proxy,g=r;for(;c;){const o=c.ec;if(o){for(let n=0;n<o.length;n++)if(o[n](e,v,g)===!1)return}c=c.parent}const y=t.appContext.config.errorHandler;if(y){callWithErrorHandling(y,null,10,[e,v,g]);return}}logError(e,r,u,d)}function logError(e,t,r,d=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,r=queue.length;for(;t<r;){const d=t+r>>>1;getId(queue[d])<e?t=d+1:r=d}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$2(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const r=queue[t];r&&r.pre&&(queue.splice(t,1),t--,r())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((r,d)=>getId(r)-getId(d)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const r=getId(e)-getId(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(e,t,...r){if(e.isUnmounted)return;const d=e.vnode.props||EMPTY_OBJ;let u=r;const c=t.startsWith("update:"),v=c&&t.slice(7);if(v&&v in d){const n=`${v==="modelValue"?"model":v}Modifiers`,{number:s,trim:i}=d[n]||EMPTY_OBJ;i&&(u=r.map(a=>isString$1(a)?a.trim():a)),s&&(u=r.map(toNumber$1))}let g,y=d[g=toHandlerKey(t)]||d[g=toHandlerKey(camelize(t))];!y&&c&&(y=d[g=toHandlerKey(hyphenate(t))]),y&&callWithAsyncErrorHandling(y,e,6,u);const o=d[g+"Once"];if(o){if(!e.emitted)e.emitted={};else if(e.emitted[g])return;e.emitted[g]=!0,callWithAsyncErrorHandling(o,e,6,u)}}function normalizeEmitsOptions(e,t,r=!1){const d=t.emitsCache,u=d.get(e);if(u!==void 0)return u;const c=e.emits;let v={},g=!1;if(!isFunction$1(e)){const y=o=>{const n=normalizeEmitsOptions(o,t,!0);n&&(g=!0,extend(v,n))};!r&&t.mixins.length&&t.mixins.forEach(y),e.extends&&y(e.extends),e.mixins&&e.mixins.forEach(y)}return!c&&!g?(isObject$1(e)&&d.set(e,null),null):(isArray$2(c)?c.forEach(y=>v[y]=null):extend(v,c),isObject$1(e)&&d.set(e,v),v)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,r){if(!t||e._n)return e;const d=(...u)=>{d._d&&setBlockTracking(-1);const c=setCurrentRenderingInstance(t);let v;try{v=e(...u)}finally{setCurrentRenderingInstance(c),d._d&&setBlockTracking(1)}return v};return d._n=!0,d._c=!0,d._d=!0,d}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:r,proxy:d,withProxy:u,props:c,propsOptions:[v],slots:g,attrs:y,emit:o,render:n,renderCache:s,data:i,setupState:a,ctx:m,inheritAttrs:f}=e;let b,C;const _=setCurrentRenderingInstance(e);try{if(r.shapeFlag&4){const M=u||d;b=normalizeVNode(n.call(M,M,s,c,a,i,m)),C=y}else{const M=t;b=normalizeVNode(M.length>1?M(c,{attrs:y,slots:g,emit:o}):M(c,null)),C=t.props?y:getFunctionalFallthrough(y)}}catch(M){blockStack.length=0,handleError(M,e,1),b=createVNode(Comment)}let w=b;if(C&&f!==!1){const M=Object.keys(C),{shapeFlag:S}=w;M.length&&S&7&&(v&&M.some(isModelListener)&&(C=filterModelListeners(C,v)),w=cloneVNode(w,C))}return r.dirs&&(w=cloneVNode(w),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&(w.transition=r.transition),b=w,setCurrentRenderingInstance(_),b}const getFunctionalFallthrough=e=>{let t;for(const r in e)(r==="class"||r==="style"||isOn(r))&&((t||(t={}))[r]=e[r]);return t},filterModelListeners=(e,t)=>{const r={};for(const d in e)(!isModelListener(d)||!(d.slice(9)in t))&&(r[d]=e[d]);return r};function shouldUpdateComponent(e,t,r){const{props:d,children:u,component:c}=e,{props:v,children:g,patchFlag:y}=t,o=c.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&y>=0){if(y&1024)return!0;if(y&16)return d?hasPropsChanged(d,v,o):!!v;if(y&8){const n=t.dynamicProps;for(let s=0;s<n.length;s++){const i=n[s];if(v[i]!==d[i]&&!isEmitListener(o,i))return!0}}}else return(u||g)&&(!g||!g.$stable)?!0:d===v?!1:d?v?hasPropsChanged(d,v,o):!0:!!v;return!1}function hasPropsChanged(e,t,r){const d=Object.keys(t);if(d.length!==Object.keys(e).length)return!0;for(let u=0;u<d.length;u++){const c=d[u];if(t[c]!==e[c]&&!isEmitListener(r,c))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$2(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function provide(e,t){if(currentInstance){let r=currentInstance.provides;const d=currentInstance.parent&&currentInstance.parent.provides;d===r&&(r=currentInstance.provides=Object.create(d)),r[e]=t}}function inject(e,t,r=!1){const d=currentInstance||currentRenderingInstance;if(d){const u=d.parent==null?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides;if(u&&e in u)return u[e];if(arguments.length>1)return r&&isFunction$1(t)?t.call(d.proxy):t}}function watchEffect(e,t){return doWatch(e,null,t)}const INITIAL_WATCHER_VALUE={};function watch(e,t,r){return doWatch(e,t,r)}function doWatch(e,t,{immediate:r,deep:d,flush:u,onTrack:c,onTrigger:v}=EMPTY_OBJ){const g=currentInstance;let y,o=!1,n=!1;if(isRef(e)?(y=()=>e.value,o=isShallow(e)):isReactive(e)?(y=()=>e,d=!0):isArray$2(e)?(n=!0,o=e.some(w=>isReactive(w)||isShallow(w)),y=()=>e.map(w=>{if(isRef(w))return w.value;if(isReactive(w))return traverse(w);if(isFunction$1(w))return callWithErrorHandling(w,g,2)})):isFunction$1(e)?t?y=()=>callWithErrorHandling(e,g,2):y=()=>{if(!(g&&g.isUnmounted))return s&&s(),callWithAsyncErrorHandling(e,g,3,[i])}:y=NOOP,t&&d){const w=y;y=()=>traverse(w())}let s,i=w=>{s=C.onStop=()=>{callWithErrorHandling(w,g,4)}},a;if(isInSSRComponentSetup)if(i=NOOP,t?r&&callWithAsyncErrorHandling(t,g,3,[y(),n?[]:void 0,i]):y(),u==="sync"){const w=useSSRContext();a=w.__watcherHandles||(w.__watcherHandles=[])}else return NOOP;let m=n?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const f=()=>{if(!!C.active)if(t){const w=C.run();(d||o||(n?w.some((M,S)=>hasChanged(M,m[S])):hasChanged(w,m)))&&(s&&s(),callWithAsyncErrorHandling(t,g,3,[w,m===INITIAL_WATCHER_VALUE?void 0:n&&m[0]===INITIAL_WATCHER_VALUE?[]:m,i]),m=w)}else C.run()};f.allowRecurse=!!t;let b;u==="sync"?b=f:u==="post"?b=()=>queuePostRenderEffect(f,g&&g.suspense):(f.pre=!0,g&&(f.id=g.uid),b=()=>queueJob(f));const C=new ReactiveEffect(y,b);t?r?f():m=C.run():u==="post"?queuePostRenderEffect(C.run.bind(C),g&&g.suspense):C.run();const _=()=>{C.stop(),g&&g.scope&&remove(g.scope.effects,C)};return a&&a.push(_),_}function instanceWatch(e,t,r){const d=this.proxy,u=isString$1(e)?e.includes(".")?createPathGetter(d,e):()=>d[e]:e.bind(d,d);let c;isFunction$1(t)?c=t:(c=t.handler,r=t);const v=currentInstance;setCurrentInstance(this);const g=doWatch(u,c.bind(d),r);return v?setCurrentInstance(v):unsetCurrentInstance(),g}function createPathGetter(e,t){const r=t.split(".");return()=>{let d=e;for(let u=0;u<r.length&&d;u++)d=d[r[u]];return d}}function traverse(e,t){if(!isObject$1(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$2(e))for(let r=0;r<e.length;r++)traverse(e[r],t);else if(isSet(e)||isMap(e))e.forEach(r=>{traverse(r,t)});else if(isPlainObject$1(e))for(const r in e)traverse(e[r],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const r=getCurrentInstance(),d=useTransitionState();let u;return()=>{const c=t.default&&getTransitionRawChildren(t.default(),!0);if(!c||!c.length)return;let v=c[0];if(c.length>1){for(const f of c)if(f.type!==Comment){v=f;break}}const g=toRaw(e),{mode:y}=g;if(d.isLeaving)return emptyPlaceholder(v);const o=getKeepAliveChild(v);if(!o)return emptyPlaceholder(v);const n=resolveTransitionHooks(o,g,d,r);setTransitionHooks(o,n);const s=r.subTree,i=s&&getKeepAliveChild(s);let a=!1;const{getTransitionKey:m}=o.type;if(m){const f=m();u===void 0?u=f:f!==u&&(u=f,a=!0)}if(i&&i.type!==Comment&&(!isSameVNodeType(o,i)||a)){const f=resolveTransitionHooks(i,g,d,r);if(setTransitionHooks(i,f),y==="out-in")return d.isLeaving=!0,f.afterLeave=()=>{d.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(v);y==="in-out"&&o.type!==Comment&&(f.delayLeave=(b,C,_)=>{const w=getLeavingNodesForType(d,i);w[String(i.key)]=i,b._leaveCb=()=>{C(),b._leaveCb=void 0,delete n.delayedLeave},n.delayedLeave=_})}return v}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:r}=e;let d=r.get(t.type);return d||(d=Object.create(null),r.set(t.type,d)),d}function resolveTransitionHooks(e,t,r,d){const{appear:u,mode:c,persisted:v=!1,onBeforeEnter:g,onEnter:y,onAfterEnter:o,onEnterCancelled:n,onBeforeLeave:s,onLeave:i,onAfterLeave:a,onLeaveCancelled:m,onBeforeAppear:f,onAppear:b,onAfterAppear:C,onAppearCancelled:_}=t,w=String(e.key),M=getLeavingNodesForType(r,e),S=(E,D)=>{E&&callWithAsyncErrorHandling(E,d,9,D)},I=(E,D)=>{const R=D[1];S(E,D),isArray$2(E)?E.every(q=>q.length<=1)&&R():E.length<=1&&R()},x={mode:c,persisted:v,beforeEnter(E){let D=g;if(!r.isMounted)if(u)D=f||g;else return;E._leaveCb&&E._leaveCb(!0);const R=M[w];R&&isSameVNodeType(e,R)&&R.el._leaveCb&&R.el._leaveCb(),S(D,[E])},enter(E){let D=y,R=o,q=n;if(!r.isMounted)if(u)D=b||y,R=C||o,q=_||n;else return;let A=!1;const j=E._enterCb=H=>{A||(A=!0,H?S(q,[E]):S(R,[E]),x.delayedLeave&&x.delayedLeave(),E._enterCb=void 0)};D?I(D,[E,j]):j()},leave(E,D){const R=String(e.key);if(E._enterCb&&E._enterCb(!0),r.isUnmounting)return D();S(s,[E]);let q=!1;const A=E._leaveCb=j=>{q||(q=!0,D(),j?S(m,[E]):S(a,[E]),E._leaveCb=void 0,M[R]===e&&delete M[R])};M[R]=e,i?I(i,[E,A]):A()},clone(E){return resolveTransitionHooks(E,t,r,d)}};return x}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,r){let d=[],u=0;for(let c=0;c<e.length;c++){let v=e[c];const g=r==null?v.key:String(r)+String(v.key!=null?v.key:c);v.type===Fragment?(v.patchFlag&128&&u++,d=d.concat(getTransitionRawChildren(v.children,t,g))):(t||v.type!==Comment)&&d.push(g!=null?cloneVNode(v,{key:g}):v)}if(u>1)for(let c=0;c<d.length;c++)d[c].patchFlag=-2;return d}function defineComponent(e){return isFunction$1(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,r=currentInstance){const d=e.__wdc||(e.__wdc=()=>{let u=r;for(;u;){if(u.isDeactivated)return;u=u.parent}return e()});if(injectHook(t,d,r),r){let u=r.parent;for(;u&&u.parent;)isKeepAlive(u.parent.vnode)&&injectToKeepAliveRoot(d,t,r,u),u=u.parent}}function injectToKeepAliveRoot(e,t,r,d){const u=injectHook(t,e,d,!0);onUnmounted(()=>{remove(d[t],u)},r)}function injectHook(e,t,r=currentInstance,d=!1){if(r){const u=r[e]||(r[e]=[]),c=t.__weh||(t.__weh=(...v)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const g=callWithAsyncErrorHandling(t,r,e,v);return unsetCurrentInstance(),resetTracking(),g});return d?u.unshift(c):u.push(c),c}}const createHook=e=>(t,r=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...d)=>t(...d),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function withDirectives(e,t){const r=currentRenderingInstance;if(r===null)return e;const d=getExposeProxy(r)||r.proxy,u=e.dirs||(e.dirs=[]);for(let c=0;c<t.length;c++){let[v,g,y,o=EMPTY_OBJ]=t[c];v&&(isFunction$1(v)&&(v={mounted:v,updated:v}),v.deep&&traverse(g),u.push({dir:v,instance:d,value:g,oldValue:void 0,arg:y,modifiers:o}))}return e}function invokeDirectiveHook(e,t,r,d){const u=e.dirs,c=t&&t.dirs;for(let v=0;v<u.length;v++){const g=u[v];c&&(g.oldValue=c[v].value);let y=g.dir[d];y&&(pauseTracking(),callWithAsyncErrorHandling(y,r,8,[e.el,g,e,t]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(e){return isString$1(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,r=!0,d=!1){const u=currentRenderingInstance||currentInstance;if(u){const c=u.type;if(e===COMPONENTS){const g=getComponentName(c,!1);if(g&&(g===t||g===camelize(t)||g===capitalize(camelize(t))))return c}const v=resolve(u[e]||c[e],t)||resolve(u.appContext[e],t);return!v&&d?c:v}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderList(e,t,r,d){let u;const c=r&&r[d];if(isArray$2(e)||isString$1(e)){u=new Array(e.length);for(let v=0,g=e.length;v<g;v++)u[v]=t(e[v],v,void 0,c&&c[v])}else if(typeof e=="number"){u=new Array(e);for(let v=0;v<e;v++)u[v]=t(v+1,v,void 0,c&&c[v])}else if(isObject$1(e))if(e[Symbol.iterator])u=Array.from(e,(v,g)=>t(v,g,void 0,c&&c[g]));else{const v=Object.keys(e);u=new Array(v.length);for(let g=0,y=v.length;g<y;g++){const o=v[g];u[g]=t(e[o],o,g,c&&c[g])}}else u=[];return r&&(r[d]=u),u}function createSlots(e,t){for(let r=0;r<t.length;r++){const d=t[r];if(isArray$2(d))for(let u=0;u<d.length;u++)e[d[u].name]=d[u].fn;else d&&(e[d.name]=d.key?(...u)=>{const c=d.fn(...u);return c&&(c.key=d.key),c}:d.fn)}return e}function renderSlot(e,t,r={},d,u){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(r.name=t),createVNode("slot",r,d&&d());let c=e[t];c&&c._c&&(c._d=!1),openBlock();const v=c&&ensureValidVNode(c(r)),g=createBlock(Fragment,{key:r.key||v&&v.key||`_${t}`},v||(d?d():[]),v&&e._===1?64:-2);return!u&&g.scopeId&&(g.slotScopeIds=[g.scopeId+"-s"]),c&&c._c&&(c._d=!0),g}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:r,setupState:d,data:u,props:c,accessCache:v,type:g,appContext:y}=e;let o;if(t[0]!=="$"){const a=v[t];if(a!==void 0)switch(a){case 1:return d[t];case 2:return u[t];case 4:return r[t];case 3:return c[t]}else{if(hasSetupBinding(d,t))return v[t]=1,d[t];if(u!==EMPTY_OBJ&&hasOwn(u,t))return v[t]=2,u[t];if((o=e.propsOptions[0])&&hasOwn(o,t))return v[t]=3,c[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return v[t]=4,r[t];shouldCacheAccess&&(v[t]=0)}}const n=publicPropertiesMap[t];let s,i;if(n)return t==="$attrs"&&track(e,"get",t),n(e);if((s=g.__cssModules)&&(s=s[t]))return s;if(r!==EMPTY_OBJ&&hasOwn(r,t))return v[t]=4,r[t];if(i=y.config.globalProperties,hasOwn(i,t))return i[t]},set({_:e},t,r){const{data:d,setupState:u,ctx:c}=e;return hasSetupBinding(u,t)?(u[t]=r,!0):d!==EMPTY_OBJ&&hasOwn(d,t)?(d[t]=r,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(c[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:d,appContext:u,propsOptions:c}},v){let g;return!!r[v]||e!==EMPTY_OBJ&&hasOwn(e,v)||hasSetupBinding(t,v)||(g=c[0])&&hasOwn(g,v)||hasOwn(d,v)||hasOwn(publicPropertiesMap,v)||hasOwn(u.config.globalProperties,v)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:hasOwn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),r=e.proxy,d=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:u,computed:c,methods:v,watch:g,provide:y,inject:o,created:n,beforeMount:s,mounted:i,beforeUpdate:a,updated:m,activated:f,deactivated:b,beforeDestroy:C,beforeUnmount:_,destroyed:w,unmounted:M,render:S,renderTracked:I,renderTriggered:x,errorCaptured:E,serverPrefetch:D,expose:R,inheritAttrs:q,components:A,directives:j,filters:H}=t;if(o&&resolveInjections(o,d,null,e.appContext.config.unwrapInjectedRef),v)for(const ee in v){const ae=v[ee];isFunction$1(ae)&&(d[ee]=ae.bind(r))}if(u){const ee=u.call(r,r);isObject$1(ee)&&(e.data=reactive(ee))}if(shouldCacheAccess=!0,c)for(const ee in c){const ae=c[ee],N=isFunction$1(ae)?ae.bind(r,r):isFunction$1(ae.get)?ae.get.bind(r,r):NOOP,k=!isFunction$1(ae)&&isFunction$1(ae.set)?ae.set.bind(r):NOOP,L=computed({get:N,set:k});Object.defineProperty(d,ee,{enumerable:!0,configurable:!0,get:()=>L.value,set:$=>L.value=$})}if(g)for(const ee in g)createWatcher(g[ee],d,r,ee);if(y){const ee=isFunction$1(y)?y.call(r):y;Reflect.ownKeys(ee).forEach(ae=>{provide(ae,ee[ae])})}n&&callHook$1(n,e,"c");function X(ee,ae){isArray$2(ae)?ae.forEach(N=>ee(N.bind(r))):ae&&ee(ae.bind(r))}if(X(onBeforeMount,s),X(onMounted,i),X(onBeforeUpdate,a),X(onUpdated,m),X(onActivated,f),X(onDeactivated,b),X(onErrorCaptured,E),X(onRenderTracked,I),X(onRenderTriggered,x),X(onBeforeUnmount,_),X(onUnmounted,M),X(onServerPrefetch,D),isArray$2(R))if(R.length){const ee=e.exposed||(e.exposed={});R.forEach(ae=>{Object.defineProperty(ee,ae,{get:()=>r[ae],set:N=>r[ae]=N})})}else e.exposed||(e.exposed={});S&&e.render===NOOP&&(e.render=S),q!=null&&(e.inheritAttrs=q),A&&(e.components=A),j&&(e.directives=j)}function resolveInjections(e,t,r=NOOP,d=!1){isArray$2(e)&&(e=normalizeInject(e));for(const u in e){const c=e[u];let v;isObject$1(c)?"default"in c?v=inject(c.from||u,c.default,!0):v=inject(c.from||u):v=inject(c),isRef(v)&&d?Object.defineProperty(t,u,{enumerable:!0,configurable:!0,get:()=>v.value,set:g=>v.value=g}):t[u]=v}}function callHook$1(e,t,r){callWithAsyncErrorHandling(isArray$2(e)?e.map(d=>d.bind(t.proxy)):e.bind(t.proxy),t,r)}function createWatcher(e,t,r,d){const u=d.includes(".")?createPathGetter(r,d):()=>r[d];if(isString$1(e)){const c=t[e];isFunction$1(c)&&watch(u,c)}else if(isFunction$1(e))watch(u,e.bind(r));else if(isObject$1(e))if(isArray$2(e))e.forEach(c=>createWatcher(c,t,r,d));else{const c=isFunction$1(e.handler)?e.handler.bind(r):t[e.handler];isFunction$1(c)&&watch(u,c,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:r,extends:d}=t,{mixins:u,optionsCache:c,config:{optionMergeStrategies:v}}=e.appContext,g=c.get(t);let y;return g?y=g:!u.length&&!r&&!d?y=t:(y={},u.length&&u.forEach(o=>mergeOptions(y,o,v,!0)),mergeOptions(y,t,v)),isObject$1(t)&&c.set(t,y),y}function mergeOptions(e,t,r,d=!1){const{mixins:u,extends:c}=t;c&&mergeOptions(e,c,r,!0),u&&u.forEach(v=>mergeOptions(e,v,r,!0));for(const v in t)if(!(d&&v==="expose")){const g=internalOptionMergeStrats[v]||r&&r[v];e[v]=g?g(e[v],t[v]):t[v]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction$1(e)?e.call(this,this):e,isFunction$1(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$2(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(extend(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const r=extend(Object.create(null),e);for(const d in t)r[d]=mergeAsArray(e[d],t[d]);return r}function initProps(e,t,r,d=!1){const u={},c={};def(c,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,u,c);for(const v in e.propsOptions[0])v in u||(u[v]=void 0);r?e.props=d?u:shallowReactive(u):e.type.props?e.props=u:e.props=c,e.attrs=c}function updateProps(e,t,r,d){const{props:u,attrs:c,vnode:{patchFlag:v}}=e,g=toRaw(u),[y]=e.propsOptions;let o=!1;if((d||v>0)&&!(v&16)){if(v&8){const n=e.vnode.dynamicProps;for(let s=0;s<n.length;s++){let i=n[s];if(isEmitListener(e.emitsOptions,i))continue;const a=t[i];if(y)if(hasOwn(c,i))a!==c[i]&&(c[i]=a,o=!0);else{const m=camelize(i);u[m]=resolvePropValue(y,g,m,a,e,!1)}else a!==c[i]&&(c[i]=a,o=!0)}}}else{setFullProps(e,t,u,c)&&(o=!0);let n;for(const s in g)(!t||!hasOwn(t,s)&&((n=hyphenate(s))===s||!hasOwn(t,n)))&&(y?r&&(r[s]!==void 0||r[n]!==void 0)&&(u[s]=resolvePropValue(y,g,s,void 0,e,!0)):delete u[s]);if(c!==g)for(const s in c)(!t||!hasOwn(t,s)&&!0)&&(delete c[s],o=!0)}o&&trigger(e,"set","$attrs")}function setFullProps(e,t,r,d){const[u,c]=e.propsOptions;let v=!1,g;if(t)for(let y in t){if(isReservedProp(y))continue;const o=t[y];let n;u&&hasOwn(u,n=camelize(y))?!c||!c.includes(n)?r[n]=o:(g||(g={}))[n]=o:isEmitListener(e.emitsOptions,y)||(!(y in d)||o!==d[y])&&(d[y]=o,v=!0)}if(c){const y=toRaw(r),o=g||EMPTY_OBJ;for(let n=0;n<c.length;n++){const s=c[n];r[s]=resolvePropValue(u,y,s,o[s],e,!hasOwn(o,s))}}return v}function resolvePropValue(e,t,r,d,u,c){const v=e[r];if(v!=null){const g=hasOwn(v,"default");if(g&&d===void 0){const y=v.default;if(v.type!==Function&&isFunction$1(y)){const{propsDefaults:o}=u;r in o?d=o[r]:(setCurrentInstance(u),d=o[r]=y.call(null,t),unsetCurrentInstance())}else d=y}v[0]&&(c&&!g?d=!1:v[1]&&(d===""||d===hyphenate(r))&&(d=!0))}return d}function normalizePropsOptions(e,t,r=!1){const d=t.propsCache,u=d.get(e);if(u)return u;const c=e.props,v={},g=[];let y=!1;if(!isFunction$1(e)){const n=s=>{y=!0;const[i,a]=normalizePropsOptions(s,t,!0);extend(v,i),a&&g.push(...a)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!c&&!y)return isObject$1(e)&&d.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$2(c))for(let n=0;n<c.length;n++){const s=camelize(c[n]);validatePropName(s)&&(v[s]=EMPTY_OBJ)}else if(c)for(const n in c){const s=camelize(n);if(validatePropName(s)){const i=c[n],a=v[s]=isArray$2(i)||isFunction$1(i)?{type:i}:Object.assign({},i);if(a){const m=getTypeIndex(Boolean,a.type),f=getTypeIndex(String,a.type);a[0]=m>-1,a[1]=f<0||m<f,(m>-1||hasOwn(a,"default"))&&g.push(s)}}}const o=[v,g];return isObject$1(e)&&d.set(e,o),o}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$2(t)?t.findIndex(r=>isSameType(r,e)):isFunction$1(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$2(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,r)=>{if(t._n)return t;const d=withCtx((...u)=>normalizeSlotValue(t(...u)),r);return d._c=!1,d},normalizeObjectSlots=(e,t,r)=>{const d=e._ctx;for(const u in e){if(isInternalKey(u))continue;const c=e[u];if(isFunction$1(c))t[u]=normalizeSlot(u,c,d);else if(c!=null){const v=normalizeSlotValue(c);t[u]=()=>v}}},normalizeVNodeSlots=(e,t)=>{const r=normalizeSlotValue(t);e.slots.default=()=>r},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=toRaw(t),def(t,"_",r)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,r)=>{const{vnode:d,slots:u}=e;let c=!0,v=EMPTY_OBJ;if(d.shapeFlag&32){const g=t._;g?r&&g===1?c=!1:(extend(u,t),!r&&g===1&&delete u._):(c=!t.$stable,normalizeObjectSlots(t,u)),v=t}else t&&(normalizeVNodeSlots(e,t),v={default:1});if(c)for(const g in u)!isInternalKey(g)&&!(g in v)&&delete u[g]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(e,t){return function(d,u=null){isFunction$1(d)||(d=Object.assign({},d)),u!=null&&!isObject$1(u)&&(u=null);const c=createAppContext(),v=new Set;let g=!1;const y=c.app={_uid:uid++,_component:d,_props:u,_container:null,_context:c,_instance:null,version,get config(){return c.config},set config(o){},use(o,...n){return v.has(o)||(o&&isFunction$1(o.install)?(v.add(o),o.install(y,...n)):isFunction$1(o)&&(v.add(o),o(y,...n))),y},mixin(o){return c.mixins.includes(o)||c.mixins.push(o),y},component(o,n){return n?(c.components[o]=n,y):c.components[o]},directive(o,n){return n?(c.directives[o]=n,y):c.directives[o]},mount(o,n,s){if(!g){const i=createVNode(d,u);return i.appContext=c,n&&t?t(i,o):e(i,o,s),g=!0,y._container=o,o.__vue_app__=y,getExposeProxy(i.component)||i.component.proxy}},unmount(){g&&(e(null,y._container),delete y._container.__vue_app__)},provide(o,n){return c.provides[o]=n,y}};return y}}function setRef(e,t,r,d,u=!1){if(isArray$2(e)){e.forEach((i,a)=>setRef(i,t&&(isArray$2(t)?t[a]:t),r,d,u));return}if(isAsyncWrapper(d)&&!u)return;const c=d.shapeFlag&4?getExposeProxy(d.component)||d.component.proxy:d.el,v=u?null:c,{i:g,r:y}=e,o=t&&t.r,n=g.refs===EMPTY_OBJ?g.refs={}:g.refs,s=g.setupState;if(o!=null&&o!==y&&(isString$1(o)?(n[o]=null,hasOwn(s,o)&&(s[o]=null)):isRef(o)&&(o.value=null)),isFunction$1(y))callWithErrorHandling(y,g,12,[v,n]);else{const i=isString$1(y),a=isRef(y);if(i||a){const m=()=>{if(e.f){const f=i?hasOwn(s,y)?s[y]:n[y]:y.value;u?isArray$2(f)&&remove(f,c):isArray$2(f)?f.includes(c)||f.push(c):i?(n[y]=[c],hasOwn(s,y)&&(s[y]=n[y])):(y.value=[c],e.k&&(n[e.k]=y.value))}else i?(n[y]=v,hasOwn(s,y)&&(s[y]=v)):a&&(y.value=v,e.k&&(n[e.k]=v))};v?(m.id=-1,queuePostRenderEffect(m,r)):m()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const r=getGlobalThis();r.__VUE__=!0;const{insert:d,remove:u,patchProp:c,createElement:v,createText:g,createComment:y,setText:o,setElementText:n,parentNode:s,nextSibling:i,setScopeId:a=NOOP,insertStaticContent:m}=e,f=(F,J,he,de=null,ge=null,_e=null,fe=!1,we=null,ke=!!J.dynamicChildren)=>{if(F===J)return;F&&!isSameVNodeType(F,J)&&(de=z(F),$(F,ge,_e,!0),F=null),J.patchFlag===-2&&(ke=!1,J.dynamicChildren=null);const{type:Ie,ref:De,shapeFlag:Ee}=J;switch(Ie){case Text:b(F,J,he,de);break;case Comment:C(F,J,he,de);break;case Static:F==null&&_(J,he,de,fe);break;case Fragment:A(F,J,he,de,ge,_e,fe,we,ke);break;default:Ee&1?S(F,J,he,de,ge,_e,fe,we,ke):Ee&6?j(F,J,he,de,ge,_e,fe,we,ke):(Ee&64||Ee&128)&&Ie.process(F,J,he,de,ge,_e,fe,we,ke,se)}De!=null&&ge&&setRef(De,F&&F.ref,_e,J||F,!J)},b=(F,J,he,de)=>{if(F==null)d(J.el=g(J.children),he,de);else{const ge=J.el=F.el;J.children!==F.children&&o(ge,J.children)}},C=(F,J,he,de)=>{F==null?d(J.el=y(J.children||""),he,de):J.el=F.el},_=(F,J,he,de)=>{[F.el,F.anchor]=m(F.children,J,he,de,F.el,F.anchor)},w=({el:F,anchor:J},he,de)=>{let ge;for(;F&&F!==J;)ge=i(F),d(F,he,de),F=ge;d(J,he,de)},M=({el:F,anchor:J})=>{let he;for(;F&&F!==J;)he=i(F),u(F),F=he;u(J)},S=(F,J,he,de,ge,_e,fe,we,ke)=>{fe=fe||J.type==="svg",F==null?I(J,he,de,ge,_e,fe,we,ke):D(F,J,ge,_e,fe,we,ke)},I=(F,J,he,de,ge,_e,fe,we)=>{let ke,Ie;const{type:De,props:Ee,shapeFlag:U,transition:oe,dirs:te}=F;if(ke=F.el=v(F.type,_e,Ee&&Ee.is,Ee),U&8?n(ke,F.children):U&16&&E(F.children,ke,null,de,ge,_e&&De!=="foreignObject",fe,we),te&&invokeDirectiveHook(F,null,de,"created"),Ee){for(const pe in Ee)pe!=="value"&&!isReservedProp(pe)&&c(ke,pe,null,Ee[pe],_e,F.children,de,ge,re);"value"in Ee&&c(ke,"value",null,Ee.value),(Ie=Ee.onVnodeBeforeMount)&&invokeVNodeHook(Ie,de,F)}x(ke,F,F.scopeId,fe,de),te&&invokeDirectiveHook(F,null,de,"beforeMount");const ue=(!ge||ge&&!ge.pendingBranch)&&oe&&!oe.persisted;ue&&oe.beforeEnter(ke),d(ke,J,he),((Ie=Ee&&Ee.onVnodeMounted)||ue||te)&&queuePostRenderEffect(()=>{Ie&&invokeVNodeHook(Ie,de,F),ue&&oe.enter(ke),te&&invokeDirectiveHook(F,null,de,"mounted")},ge)},x=(F,J,he,de,ge)=>{if(he&&a(F,he),de)for(let _e=0;_e<de.length;_e++)a(F,de[_e]);if(ge){let _e=ge.subTree;if(J===_e){const fe=ge.vnode;x(F,fe,fe.scopeId,fe.slotScopeIds,ge.parent)}}},E=(F,J,he,de,ge,_e,fe,we,ke=0)=>{for(let Ie=ke;Ie<F.length;Ie++){const De=F[Ie]=we?cloneIfMounted(F[Ie]):normalizeVNode(F[Ie]);f(null,De,J,he,de,ge,_e,fe,we)}},D=(F,J,he,de,ge,_e,fe)=>{const we=J.el=F.el;let{patchFlag:ke,dynamicChildren:Ie,dirs:De}=J;ke|=F.patchFlag&16;const Ee=F.props||EMPTY_OBJ,U=J.props||EMPTY_OBJ;let oe;he&&toggleRecurse(he,!1),(oe=U.onVnodeBeforeUpdate)&&invokeVNodeHook(oe,he,J,F),De&&invokeDirectiveHook(J,F,he,"beforeUpdate"),he&&toggleRecurse(he,!0);const te=ge&&J.type!=="foreignObject";if(Ie?R(F.dynamicChildren,Ie,we,he,de,te,_e):fe||ae(F,J,we,null,he,de,te,_e,!1),ke>0){if(ke&16)q(we,J,Ee,U,he,de,ge);else if(ke&2&&Ee.class!==U.class&&c(we,"class",null,U.class,ge),ke&4&&c(we,"style",Ee.style,U.style,ge),ke&8){const ue=J.dynamicProps;for(let pe=0;pe<ue.length;pe++){const K=ue[pe],ce=Ee[K],me=U[K];(me!==ce||K==="value")&&c(we,K,ce,me,ge,F.children,he,de,re)}}ke&1&&F.children!==J.children&&n(we,J.children)}else!fe&&Ie==null&&q(we,J,Ee,U,he,de,ge);((oe=U.onVnodeUpdated)||De)&&queuePostRenderEffect(()=>{oe&&invokeVNodeHook(oe,he,J,F),De&&invokeDirectiveHook(J,F,he,"updated")},de)},R=(F,J,he,de,ge,_e,fe)=>{for(let we=0;we<J.length;we++){const ke=F[we],Ie=J[we],De=ke.el&&(ke.type===Fragment||!isSameVNodeType(ke,Ie)||ke.shapeFlag&70)?s(ke.el):he;f(ke,Ie,De,null,de,ge,_e,fe,!0)}},q=(F,J,he,de,ge,_e,fe)=>{if(he!==de){if(he!==EMPTY_OBJ)for(const we in he)!isReservedProp(we)&&!(we in de)&&c(F,we,he[we],null,fe,J.children,ge,_e,re);for(const we in de){if(isReservedProp(we))continue;const ke=de[we],Ie=he[we];ke!==Ie&&we!=="value"&&c(F,we,Ie,ke,fe,J.children,ge,_e,re)}"value"in de&&c(F,"value",he.value,de.value)}},A=(F,J,he,de,ge,_e,fe,we,ke)=>{const Ie=J.el=F?F.el:g(""),De=J.anchor=F?F.anchor:g("");let{patchFlag:Ee,dynamicChildren:U,slotScopeIds:oe}=J;oe&&(we=we?we.concat(oe):oe),F==null?(d(Ie,he,de),d(De,he,de),E(J.children,he,De,ge,_e,fe,we,ke)):Ee>0&&Ee&64&&U&&F.dynamicChildren?(R(F.dynamicChildren,U,he,ge,_e,fe,we),(J.key!=null||ge&&J===ge.subTree)&&traverseStaticChildren(F,J,!0)):ae(F,J,he,De,ge,_e,fe,we,ke)},j=(F,J,he,de,ge,_e,fe,we,ke)=>{J.slotScopeIds=we,F==null?J.shapeFlag&512?ge.ctx.activate(J,he,de,fe,ke):H(J,he,de,ge,_e,fe,ke):W(F,J,ke)},H=(F,J,he,de,ge,_e,fe)=>{const we=F.component=createComponentInstance(F,de,ge);if(isKeepAlive(F)&&(we.ctx.renderer=se),setupComponent(we),we.asyncDep){if(ge&&ge.registerDep(we,X),!F.el){const ke=we.subTree=createVNode(Comment);C(null,ke,J,he)}return}X(we,F,J,he,ge,_e,fe)},W=(F,J,he)=>{const de=J.component=F.component;if(shouldUpdateComponent(F,J,he))if(de.asyncDep&&!de.asyncResolved){ee(de,J,he);return}else de.next=J,invalidateJob(de.update),de.update();else J.el=F.el,de.vnode=J},X=(F,J,he,de,ge,_e,fe)=>{const we=()=>{if(F.isMounted){let{next:De,bu:Ee,u:U,parent:oe,vnode:te}=F,ue=De,pe;toggleRecurse(F,!1),De?(De.el=te.el,ee(F,De,fe)):De=te,Ee&&invokeArrayFns(Ee),(pe=De.props&&De.props.onVnodeBeforeUpdate)&&invokeVNodeHook(pe,oe,De,te),toggleRecurse(F,!0);const K=renderComponentRoot(F),ce=F.subTree;F.subTree=K,f(ce,K,s(ce.el),z(ce),F,ge,_e),De.el=K.el,ue===null&&updateHOCHostEl(F,K.el),U&&queuePostRenderEffect(U,ge),(pe=De.props&&De.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(pe,oe,De,te),ge)}else{let De;const{el:Ee,props:U}=J,{bm:oe,m:te,parent:ue}=F,pe=isAsyncWrapper(J);if(toggleRecurse(F,!1),oe&&invokeArrayFns(oe),!pe&&(De=U&&U.onVnodeBeforeMount)&&invokeVNodeHook(De,ue,J),toggleRecurse(F,!0),Ee&&Se){const K=()=>{F.subTree=renderComponentRoot(F),Se(Ee,F.subTree,F,ge,null)};pe?J.type.__asyncLoader().then(()=>!F.isUnmounted&&K()):K()}else{const K=F.subTree=renderComponentRoot(F);f(null,K,he,de,F,ge,_e),J.el=K.el}if(te&&queuePostRenderEffect(te,ge),!pe&&(De=U&&U.onVnodeMounted)){const K=J;queuePostRenderEffect(()=>invokeVNodeHook(De,ue,K),ge)}(J.shapeFlag&256||ue&&isAsyncWrapper(ue.vnode)&&ue.vnode.shapeFlag&256)&&F.a&&queuePostRenderEffect(F.a,ge),F.isMounted=!0,J=he=de=null}},ke=F.effect=new ReactiveEffect(we,()=>queueJob(Ie),F.scope),Ie=F.update=()=>ke.run();Ie.id=F.uid,toggleRecurse(F,!0),Ie()},ee=(F,J,he)=>{J.component=F;const de=F.vnode.props;F.vnode=J,F.next=null,updateProps(F,J.props,de,he),updateSlots(F,J.children,he),pauseTracking(),flushPreFlushCbs(),resetTracking()},ae=(F,J,he,de,ge,_e,fe,we,ke=!1)=>{const Ie=F&&F.children,De=F?F.shapeFlag:0,Ee=J.children,{patchFlag:U,shapeFlag:oe}=J;if(U>0){if(U&128){k(Ie,Ee,he,de,ge,_e,fe,we,ke);return}else if(U&256){N(Ie,Ee,he,de,ge,_e,fe,we,ke);return}}oe&8?(De&16&&re(Ie,ge,_e),Ee!==Ie&&n(he,Ee)):De&16?oe&16?k(Ie,Ee,he,de,ge,_e,fe,we,ke):re(Ie,ge,_e,!0):(De&8&&n(he,""),oe&16&&E(Ee,he,de,ge,_e,fe,we,ke))},N=(F,J,he,de,ge,_e,fe,we,ke)=>{F=F||EMPTY_ARR,J=J||EMPTY_ARR;const Ie=F.length,De=J.length,Ee=Math.min(Ie,De);let U;for(U=0;U<Ee;U++){const oe=J[U]=ke?cloneIfMounted(J[U]):normalizeVNode(J[U]);f(F[U],oe,he,null,ge,_e,fe,we,ke)}Ie>De?re(F,ge,_e,!0,!1,Ee):E(J,he,de,ge,_e,fe,we,ke,Ee)},k=(F,J,he,de,ge,_e,fe,we,ke)=>{let Ie=0;const De=J.length;let Ee=F.length-1,U=De-1;for(;Ie<=Ee&&Ie<=U;){const oe=F[Ie],te=J[Ie]=ke?cloneIfMounted(J[Ie]):normalizeVNode(J[Ie]);if(isSameVNodeType(oe,te))f(oe,te,he,null,ge,_e,fe,we,ke);else break;Ie++}for(;Ie<=Ee&&Ie<=U;){const oe=F[Ee],te=J[U]=ke?cloneIfMounted(J[U]):normalizeVNode(J[U]);if(isSameVNodeType(oe,te))f(oe,te,he,null,ge,_e,fe,we,ke);else break;Ee--,U--}if(Ie>Ee){if(Ie<=U){const oe=U+1,te=oe<De?J[oe].el:de;for(;Ie<=U;)f(null,J[Ie]=ke?cloneIfMounted(J[Ie]):normalizeVNode(J[Ie]),he,te,ge,_e,fe,we,ke),Ie++}}else if(Ie>U)for(;Ie<=Ee;)$(F[Ie],ge,_e,!0),Ie++;else{const oe=Ie,te=Ie,ue=new Map;for(Ie=te;Ie<=U;Ie++){const Re=J[Ie]=ke?cloneIfMounted(J[Ie]):normalizeVNode(J[Ie]);Re.key!=null&&ue.set(Re.key,Ie)}let pe,K=0;const ce=U-te+1;let me=!1,be=0;const Me=new Array(ce);for(Ie=0;Ie<ce;Ie++)Me[Ie]=0;for(Ie=oe;Ie<=Ee;Ie++){const Re=F[Ie];if(K>=ce){$(Re,ge,_e,!0);continue}let Te;if(Re.key!=null)Te=ue.get(Re.key);else for(pe=te;pe<=U;pe++)if(Me[pe-te]===0&&isSameVNodeType(Re,J[pe])){Te=pe;break}Te===void 0?$(Re,ge,_e,!0):(Me[Te-te]=Ie+1,Te>=be?be=Te:me=!0,f(Re,J[Te],he,null,ge,_e,fe,we,ke),K++)}const Oe=me?getSequence(Me):EMPTY_ARR;for(pe=Oe.length-1,Ie=ce-1;Ie>=0;Ie--){const Re=te+Ie,Te=J[Re],qe=Re+1<De?J[Re+1].el:de;Me[Ie]===0?f(null,Te,he,qe,ge,_e,fe,we,ke):me&&(pe<0||Ie!==Oe[pe]?L(Te,he,qe,2):pe--)}}},L=(F,J,he,de,ge=null)=>{const{el:_e,type:fe,transition:we,children:ke,shapeFlag:Ie}=F;if(Ie&6){L(F.component.subTree,J,he,de);return}if(Ie&128){F.suspense.move(J,he,de);return}if(Ie&64){fe.move(F,J,he,se);return}if(fe===Fragment){d(_e,J,he);for(let Ee=0;Ee<ke.length;Ee++)L(ke[Ee],J,he,de);d(F.anchor,J,he);return}if(fe===Static){w(F,J,he);return}if(de!==2&&Ie&1&&we)if(de===0)we.beforeEnter(_e),d(_e,J,he),queuePostRenderEffect(()=>we.enter(_e),ge);else{const{leave:Ee,delayLeave:U,afterLeave:oe}=we,te=()=>d(_e,J,he),ue=()=>{Ee(_e,()=>{te(),oe&&oe()})};U?U(_e,te,ue):ue()}else d(_e,J,he)},$=(F,J,he,de=!1,ge=!1)=>{const{type:_e,props:fe,ref:we,children:ke,dynamicChildren:Ie,shapeFlag:De,patchFlag:Ee,dirs:U}=F;if(we!=null&&setRef(we,null,he,F,!0),De&256){J.ctx.deactivate(F);return}const oe=De&1&&U,te=!isAsyncWrapper(F);let ue;if(te&&(ue=fe&&fe.onVnodeBeforeUnmount)&&invokeVNodeHook(ue,J,F),De&6)Z(F.component,he,de);else{if(De&128){F.suspense.unmount(he,de);return}oe&&invokeDirectiveHook(F,null,J,"beforeUnmount"),De&64?F.type.remove(F,J,he,ge,se,de):Ie&&(_e!==Fragment||Ee>0&&Ee&64)?re(Ie,J,he,!1,!0):(_e===Fragment&&Ee&384||!ge&&De&16)&&re(ke,J,he),de&&B(F)}(te&&(ue=fe&&fe.onVnodeUnmounted)||oe)&&queuePostRenderEffect(()=>{ue&&invokeVNodeHook(ue,J,F),oe&&invokeDirectiveHook(F,null,J,"unmounted")},he)},B=F=>{const{type:J,el:he,anchor:de,transition:ge}=F;if(J===Fragment){G(he,de);return}if(J===Static){M(F);return}const _e=()=>{u(he),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(F.shapeFlag&1&&ge&&!ge.persisted){const{leave:fe,delayLeave:we}=ge,ke=()=>fe(he,_e);we?we(F.el,_e,ke):ke()}else _e()},G=(F,J)=>{let he;for(;F!==J;)he=i(F),u(F),F=he;u(J)},Z=(F,J,he)=>{const{bum:de,scope:ge,update:_e,subTree:fe,um:we}=F;de&&invokeArrayFns(de),ge.stop(),_e&&(_e.active=!1,$(fe,F,J,he)),we&&queuePostRenderEffect(we,J),queuePostRenderEffect(()=>{F.isUnmounted=!0},J),J&&J.pendingBranch&&!J.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===J.pendingId&&(J.deps--,J.deps===0&&J.resolve())},re=(F,J,he,de=!1,ge=!1,_e=0)=>{for(let fe=_e;fe<F.length;fe++)$(F[fe],J,he,de,ge)},z=F=>F.shapeFlag&6?z(F.component.subTree):F.shapeFlag&128?F.suspense.next():i(F.anchor||F.el),ie=(F,J,he)=>{F==null?J._vnode&&$(J._vnode,null,null,!0):f(J._vnode||null,F,J,null,null,null,he),flushPreFlushCbs(),flushPostFlushCbs(),J._vnode=F},se={p:f,um:$,m:L,r:B,mt:H,mc:E,pc:ae,pbc:R,n:z,o:e};let Ce,Se;return t&&([Ce,Se]=t(se)),{render:ie,hydrate:Ce,createApp:createAppAPI(ie,Ce)}}function toggleRecurse({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function traverseStaticChildren(e,t,r=!1){const d=e.children,u=t.children;if(isArray$2(d)&&isArray$2(u))for(let c=0;c<d.length;c++){const v=d[c];let g=u[c];g.shapeFlag&1&&!g.dynamicChildren&&((g.patchFlag<=0||g.patchFlag===32)&&(g=u[c]=cloneIfMounted(u[c]),g.el=v.el),r||traverseStaticChildren(v,g)),g.type===Text&&(g.el=v.el)}}function getSequence(e){const t=e.slice(),r=[0];let d,u,c,v,g;const y=e.length;for(d=0;d<y;d++){const o=e[d];if(o!==0){if(u=r[r.length-1],e[u]<o){t[d]=u,r.push(d);continue}for(c=0,v=r.length-1;c<v;)g=c+v>>1,e[r[g]]<o?c=g+1:v=g;o<e[r[c]]&&(c>0&&(t[d]=r[c-1]),r[c]=d)}}for(c=r.length,v=r[c-1];c-- >0;)r[c]=v,v=t[v];return r}const isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTargetSVG=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,resolveTarget=(e,t)=>{const r=e&&e.to;return isString$1(r)?t?t(r):null:r},TeleportImpl={__isTeleport:!0,process(e,t,r,d,u,c,v,g,y,o){const{mc:n,pc:s,pbc:i,o:{insert:a,querySelector:m,createText:f,createComment:b}}=o,C=isTeleportDisabled(t.props);let{shapeFlag:_,children:w,dynamicChildren:M}=t;if(e==null){const S=t.el=f(""),I=t.anchor=f("");a(S,r,d),a(I,r,d);const x=t.target=resolveTarget(t.props,m),E=t.targetAnchor=f("");x&&(a(E,x),v=v||isTargetSVG(x));const D=(R,q)=>{_&16&&n(w,R,q,u,c,v,g,y)};C?D(r,I):x&&D(x,E)}else{t.el=e.el;const S=t.anchor=e.anchor,I=t.target=e.target,x=t.targetAnchor=e.targetAnchor,E=isTeleportDisabled(e.props),D=E?r:I,R=E?S:x;if(v=v||isTargetSVG(I),M?(i(e.dynamicChildren,M,D,u,c,v,g),traverseStaticChildren(e,t,!0)):y||s(e,t,D,R,u,c,v,g,!1),C)E||moveTeleport(t,r,S,o,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const q=t.target=resolveTarget(t.props,m);q&&moveTeleport(t,q,null,o,0)}else E&&moveTeleport(t,I,x,o,1)}updateCssVars(t)},remove(e,t,r,d,{um:u,o:{remove:c}},v){const{shapeFlag:g,children:y,anchor:o,targetAnchor:n,target:s,props:i}=e;if(s&&c(n),(v||!isTeleportDisabled(i))&&(c(o),g&16))for(let a=0;a<y.length;a++){const m=y[a];u(m,t,r,!0,!!m.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,r,{o:{insert:d},m:u},c=2){c===0&&d(e.targetAnchor,t,r);const{el:v,anchor:g,shapeFlag:y,children:o,props:n}=e,s=c===2;if(s&&d(v,t,r),(!s||isTeleportDisabled(n))&&y&16)for(let i=0;i<o.length;i++)u(o[i],t,r,2);s&&d(g,t,r)}function hydrateTeleport(e,t,r,d,u,c,{o:{nextSibling:v,parentNode:g,querySelector:y}},o){const n=t.target=resolveTarget(t.props,y);if(n){const s=n._lpa||n.firstChild;if(t.shapeFlag&16)if(isTeleportDisabled(t.props))t.anchor=o(v(e),t,g(e),r,d,u,c),t.targetAnchor=s;else{t.anchor=v(e);let i=s;for(;i;)if(i=v(i),i&&i.nodeType===8&&i.data==="teleport anchor"){t.targetAnchor=i,n._lpa=t.targetAnchor&&v(t.targetAnchor);break}o(s,t,n,r,d,u,c)}updateCssVars(t)}return t.anchor&&v(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,r,d,u,c){return setupBlock(createBaseVNode(e,t,r,d,u,c,!0))}function createBlock(e,t,r,d,u){return setupBlock(createVNode(e,t,r,d,u,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e!=null?e:null,normalizeRef=({ref:e,ref_key:t,ref_for:r})=>e!=null?isString$1(e)||isRef(e)||isFunction$1(e)?{i:currentRenderingInstance,r:e,k:t,f:!!r}:e:null;function createBaseVNode(e,t=null,r=null,d=0,u=null,c=e===Fragment?0:1,v=!1,g=!1){const y={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:d,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return g?(normalizeChildren(y,r),c&128&&e.normalize(y)):r&&(y.shapeFlag|=isString$1(r)?8:16),isBlockTreeEnabled>0&&!v&&currentBlock&&(y.patchFlag>0||c&6)&&y.patchFlag!==32&&currentBlock.push(y),y}const createVNode=_createVNode;function _createVNode(e,t=null,r=null,d=0,u=null,c=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const g=cloneVNode(e,t,!0);return r&&normalizeChildren(g,r),isBlockTreeEnabled>0&&!c&&currentBlock&&(g.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=g:currentBlock.push(g)),g.patchFlag|=-2,g}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:g,style:y}=t;g&&!isString$1(g)&&(t.class=normalizeClass(g)),isObject$1(y)&&(isProxy(y)&&!isArray$2(y)&&(y=extend({},y)),t.style=normalizeStyle(y))}const v=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$1(e)?4:isFunction$1(e)?2:0;return createBaseVNode(e,t,r,d,u,v,c,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,r=!1){const{props:d,ref:u,patchFlag:c,children:v}=e,g=t?mergeProps(d||{},t):d;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:g,key:g&&normalizeKey(g),ref:t&&t.ref?r&&u?isArray$2(u)?u.concat(normalizeRef(t)):[u,normalizeRef(t)]:normalizeRef(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:v,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$2(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let r=0;const{shapeFlag:d}=e;if(t==null)t=null;else if(isArray$2(t))r=16;else if(typeof t=="object")if(d&65){const u=t.default;u&&(u._c&&(u._d=!1),normalizeChildren(e,u()),u._c&&(u._d=!0));return}else{r=32;const u=t._;!u&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:u===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),d&64?(r=16,t=[createTextVNode(t)]):r=8);e.children=t,e.shapeFlag|=r}function mergeProps(...e){const t={};for(let r=0;r<e.length;r++){const d=e[r];for(const u in d)if(u==="class")t.class!==d.class&&(t.class=normalizeClass([t.class,d.class]));else if(u==="style")t.style=normalizeStyle([t.style,d.style]);else if(isOn(u)){const c=t[u],v=d[u];v&&c!==v&&!(isArray$2(c)&&c.includes(v))&&(t[u]=c?[].concat(c,v):v)}else u!==""&&(t[u]=d[u])}return t}function invokeVNodeHook(e,t,r,d=null){callWithAsyncErrorHandling(e,t,7,[r,d])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(e,t,r){const d=e.type,u=(t?t.appContext:e.appContext)||emptyAppContext,c={uid:uid$1++,vnode:e,type:d,parent:t,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(d,u),emitsOptions:normalizeEmitsOptions(d,u),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:d.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=t?t.root:c,c.emit=emit$1.bind(null,c),e.ce&&e.ce(c),c}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:r,children:d}=e.vnode,u=isStatefulComponent(e);initProps(e,r,u,t),initSlots(e,d);const c=u?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,c}function setupStatefulComponent(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:d}=r;if(d){const u=e.setupContext=d.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const c=callWithErrorHandling(d,e,0,[e.props,u]);if(resetTracking(),unsetCurrentInstance(),isPromise(c)){if(c.then(unsetCurrentInstance,unsetCurrentInstance),t)return c.then(v=>{handleSetupResult(e,v,t)}).catch(v=>{handleError(v,e,0)});e.asyncDep=c}else handleSetupResult(e,c,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,r){isFunction$1(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$1(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,r)}let compile;function finishComponentSetup(e,t,r){const d=e.type;if(!e.render){if(!t&&compile&&!d.render){const u=d.template||resolveMergedOptions(e).template;if(u){const{isCustomElement:c,compilerOptions:v}=e.appContext.config,{delimiters:g,compilerOptions:y}=d,o=extend(extend({isCustomElement:c,delimiters:g},v),y);d.render=compile(u,o)}}e.render=d.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,r){return track(e,"get","$attrs"),t[r]}})}function createSetupContext(e){const t=d=>{e.exposed=d||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](e)},has(t,r){return r in t||r in publicPropertiesMap}}))}function getComponentName(e,t=!0){return isFunction$1(e)?e.displayName||e.name:e.name||t&&e.__name}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function useSlots(){return getContext().slots}function getContext(){const e=getCurrentInstance();return e.setupContext||(e.setupContext=createSetupContext(e))}function h(e,t,r){const d=arguments.length;return d===2?isObject$1(t)&&!isArray$2(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(d>3?r=Array.prototype.slice.call(arguments,2):d===3&&isVNode(r)&&(r=[r]),createVNode(e,t,r))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version="3.2.45",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,d)=>{const u=t?doc.createElementNS(svgNS,e):doc.createElement(e,r?{is:r}:void 0);return e==="select"&&d&&d.multiple!=null&&u.setAttribute("multiple",d.multiple),u},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,d,u,c){const v=r?r.previousSibling:t.lastChild;if(u&&(u===c||u.nextSibling))for(;t.insertBefore(u.cloneNode(!0),r),!(u===c||!(u=u.nextSibling)););else{templateContainer.innerHTML=d?`<svg>${e}</svg>`:e;const g=templateContainer.content;if(d){const y=g.firstChild;for(;y.firstChild;)g.appendChild(y.firstChild);g.removeChild(y)}t.insertBefore(g,r)}return[v?v.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function patchClass(e,t,r){const d=e._vtc;d&&(t=(t?[t,...d]:[...d]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,r){const d=e.style,u=isString$1(r);if(r&&!u){for(const c in r)setStyle(d,c,r[c]);if(t&&!isString$1(t))for(const c in t)r[c]==null&&setStyle(d,c,"")}else{const c=d.display;u?t!==r&&(d.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(d.display=c)}}const importantRE=/\s*!important$/;function setStyle(e,t,r){if(isArray$2(r))r.forEach(d=>setStyle(e,t,d));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const d=autoPrefix(e,t);importantRE.test(r)?e.setProperty(hyphenate(d),r.replace(importantRE,""),"important"):e[d]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const r=prefixCache[t];if(r)return r;let d=camelize(t);if(d!=="filter"&&d in e)return prefixCache[t]=d;d=capitalize(d);for(let u=0;u<prefixes.length;u++){const c=prefixes[u]+d;if(c in e)return prefixCache[t]=c}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,r,d,u){if(d&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,r);else{const c=isSpecialBooleanAttr(t);r==null||c&&!includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,c?"":r)}}function patchDOMProp(e,t,r,d,u,c,v){if(t==="innerHTML"||t==="textContent"){d&&v(d,u,c),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const y=r==null?"":r;(e.value!==y||e.tagName==="OPTION")&&(e.value=y),r==null&&e.removeAttribute(t);return}let g=!1;if(r===""||r==null){const y=typeof e[t];y==="boolean"?r=includeBooleanAttr(r):r==null&&y==="string"?(r="",g=!0):y==="number"&&(r=0,g=!0)}try{e[t]=r}catch{}g&&e.removeAttribute(t)}function addEventListener(e,t,r,d){e.addEventListener(t,r,d)}function removeEventListener(e,t,r,d){e.removeEventListener(t,r,d)}function patchEvent(e,t,r,d,u=null){const c=e._vei||(e._vei={}),v=c[t];if(d&&v)v.value=d;else{const[g,y]=parseName(t);if(d){const o=c[t]=createInvoker(d,u);addEventListener(e,g,o,y)}else v&&(removeEventListener(e,g,v,y),c[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let d;for(;d=e.match(optionsModifierRE);)e=e.slice(0,e.length-d[0].length),t[d[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const r=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(d,r.value),t,5,[d])};return r.value=e,r.attached=getNow(),r}function patchStopImmediatePropagation(e,t){if(isArray$2(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(d=>u=>!u._stopped&&d&&d(u))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,r,d,u=!1,c,v,g,y)=>{t==="class"?patchClass(e,d,u):t==="style"?patchStyle(e,r,d):isOn(t)?isModelListener(t)||patchEvent(e,t,r,d,v):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,d,u))?patchDOMProp(e,t,d,c,v,g,y):(t==="true-value"?e._trueValue=d:t==="false-value"&&(e._falseValue=d),patchAttr(e,t,d,u))};function shouldSetAsProp(e,t,r,d){return d?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction$1(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$1(r)?!1:t in e}const TRANSITION="transition",ANIMATION="animation",Transition=(e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators);const callHook=(e,t=[])=>{isArray$2(e)?e.forEach(r=>r(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$2(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const A in e)A in DOMTransitionPropsValidators||(t[A]=e[A]);if(e.css===!1)return t;const{name:r="v",type:d,duration:u,enterFromClass:c=`${r}-enter-from`,enterActiveClass:v=`${r}-enter-active`,enterToClass:g=`${r}-enter-to`,appearFromClass:y=c,appearActiveClass:o=v,appearToClass:n=g,leaveFromClass:s=`${r}-leave-from`,leaveActiveClass:i=`${r}-leave-active`,leaveToClass:a=`${r}-leave-to`}=e,m=normalizeDuration(u),f=m&&m[0],b=m&&m[1],{onBeforeEnter:C,onEnter:_,onEnterCancelled:w,onLeave:M,onLeaveCancelled:S,onBeforeAppear:I=C,onAppear:x=_,onAppearCancelled:E=w}=t,D=(A,j,H)=>{removeTransitionClass(A,j?n:g),removeTransitionClass(A,j?o:v),H&&H()},R=(A,j)=>{A._isLeaving=!1,removeTransitionClass(A,s),removeTransitionClass(A,a),removeTransitionClass(A,i),j&&j()},q=A=>(j,H)=>{const W=A?x:_,X=()=>D(j,A,H);callHook(W,[j,X]),nextFrame(()=>{removeTransitionClass(j,A?y:c),addTransitionClass(j,A?n:g),hasExplicitCallback(W)||whenTransitionEnds(j,d,f,X)})};return extend(t,{onBeforeEnter(A){callHook(C,[A]),addTransitionClass(A,c),addTransitionClass(A,v)},onBeforeAppear(A){callHook(I,[A]),addTransitionClass(A,y),addTransitionClass(A,o)},onEnter:q(!1),onAppear:q(!0),onLeave(A,j){A._isLeaving=!0;const H=()=>R(A,j);addTransitionClass(A,s),forceReflow(),addTransitionClass(A,i),nextFrame(()=>{!A._isLeaving||(removeTransitionClass(A,s),addTransitionClass(A,a),hasExplicitCallback(M)||whenTransitionEnds(A,d,b,H))}),callHook(M,[A,H])},onEnterCancelled(A){D(A,!1),callHook(w,[A])},onAppearCancelled(A){D(A,!0),callHook(E,[A])},onLeaveCancelled(A){R(A),callHook(S,[A])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$1(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber$1(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(d=>d&&e.classList.remove(d));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,r,d){const u=e._endId=++endId,c=()=>{u===e._endId&&d()};if(r)return setTimeout(c,r);const{type:v,timeout:g,propCount:y}=getTransitionInfo(e,t);if(!v)return d();const o=v+"end";let n=0;const s=()=>{e.removeEventListener(o,i),c()},i=a=>{a.target===e&&++n>=y&&s()};setTimeout(()=>{n<y&&s()},g+1),e.addEventListener(o,i)}function getTransitionInfo(e,t){const r=window.getComputedStyle(e),d=m=>(r[m]||"").split(", "),u=d(`${TRANSITION}Delay`),c=d(`${TRANSITION}Duration`),v=getTimeout(u,c),g=d(`${ANIMATION}Delay`),y=d(`${ANIMATION}Duration`),o=getTimeout(g,y);let n=null,s=0,i=0;t===TRANSITION?v>0&&(n=TRANSITION,s=v,i=c.length):t===ANIMATION?o>0&&(n=ANIMATION,s=o,i=y.length):(s=Math.max(v,o),n=s>0?v>o?TRANSITION:ANIMATION:null,i=n?n===TRANSITION?c.length:y.length:0);const a=n===TRANSITION&&/\b(transform|all)(,|$)/.test(d(`${TRANSITION}Property`).toString());return{type:n,timeout:s,propCount:i,hasTransform:a}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,d)=>toMs(r)+toMs(e[d])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$2(t)?r=>invokeArrayFns(t,r):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:r,number:d}},u){e._assign=getModelAssigner(u);const c=d||u.props&&u.props.type==="number";addEventListener(e,t?"change":"input",v=>{if(v.target.composing)return;let g=e.value;r&&(g=g.trim()),c&&(g=toNumber$1(g)),e._assign(g)}),r&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:d,number:u}},c){if(e._assign=getModelAssigner(c),e.composing||document.activeElement===e&&e.type!=="range"&&(r||d&&e.value.trim()===t||(u||e.type==="number")&&toNumber$1(e.value)===t))return;const v=t==null?"":t;e.value!==v&&(e.value=v)}},vModelCheckbox={deep:!0,created(e,t,r){e._assign=getModelAssigner(r),addEventListener(e,"change",()=>{const d=e._modelValue,u=getValue$2(e),c=e.checked,v=e._assign;if(isArray$2(d)){const g=looseIndexOf(d,u),y=g!==-1;if(c&&!y)v(d.concat(u));else if(!c&&y){const o=[...d];o.splice(g,1),v(o)}}else if(isSet(d)){const g=new Set(d);c?g.add(u):g.delete(u),v(g)}else v(getCheckboxValue(e,c))})},mounted:setChecked,beforeUpdate(e,t,r){e._assign=getModelAssigner(r),setChecked(e,t,r)}};function setChecked(e,{value:t,oldValue:r},d){e._modelValue=t,isArray$2(t)?e.checked=looseIndexOf(t,d.props.value)>-1:isSet(t)?e.checked=t.has(d.props.value):t!==r&&(e.checked=looseEqual(t,getCheckboxValue(e,!0)))}const vModelRadio={created(e,{value:t},r){e.checked=looseEqual(t,r.props.value),e._assign=getModelAssigner(r),addEventListener(e,"change",()=>{e._assign(getValue$2(e))})},beforeUpdate(e,{value:t,oldValue:r},d){e._assign=getModelAssigner(d),t!==r&&(e.checked=looseEqual(t,d.props.value))}};function getValue$2(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(r=>e[`${r}Key`]&&!t.includes(r))},withModifiers=(e,t)=>(r,...d)=>{for(let u=0;u<t.length;u++){const c=modifierGuards[t[u]];if(c&&c(r,t))return}return e(r,...d)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>r=>{if(!("key"in r))return;const d=hyphenate(r.key);if(t.some(u=>u===d||keyNames[u]===d))return e(r)},vShow={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:d}){!t!=!r&&(d?t?(d.beforeEnter(e),setDisplay(e,!0),d.enter(e)):d.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render=(...e)=>{ensureRenderer().render(...e)},createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:r}=t;return t.mount=d=>{const u=normalizeContainer(d);if(!u)return;const c=t._component;!isFunction$1(c)&&!c.render&&!c.template&&(c.template=u.innerHTML),u.innerHTML="";const v=r(u,!1,u instanceof SVGElement);return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),v},t};function normalizeContainer(e){return isString$1(e)?document.querySelector(e):e}var isVue2=!1;/*!
  * pinia v2.0.28
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),t=e.run(()=>ref({}));let r=[],d=[];const u=markRaw({install(c){setActivePinia(u),u._a=c,c.provide(piniaSymbol,u),c.config.globalProperties.$pinia=u,d.forEach(v=>r.push(v)),d=[]},use(c){return!this._a&&!isVue2?d.push(c):r.push(c),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return u}const noop$1=()=>{};function addSubscription(e,t,r,d=noop$1){e.push(t);const u=()=>{const c=e.indexOf(t);c>-1&&(e.splice(c,1),d())};return!r&&getCurrentScope()&&onScopeDispose(u),u}function triggerSubscriptions(e,...t){e.slice().forEach(r=>{r(...t)})}function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,d)=>e.set(d,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const d=t[r],u=e[r];isPlainObject(u)&&isPlainObject(d)&&e.hasOwnProperty(r)&&!isRef(d)&&!isReactive(d)?e[r]=mergeReactiveObjects(u,d):e[r]=d}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,t,r,d){const{state:u,actions:c,getters:v}=t,g=r.state.value[e];let y;function o(){g||(r.state.value[e]=u?u():{});const n=toRefs(r.state.value[e]);return assign(n,c,Object.keys(v||{}).reduce((s,i)=>(s[i]=markRaw(computed(()=>{setActivePinia(r);const a=r._s.get(e);return v[i].call(a,a)})),s),{}))}return y=createSetupStore(e,o,t,r,d,!0),y.$reset=function(){const s=u?u():{};this.$patch(i=>{assign(i,s)})},y}function createSetupStore(e,t,r={},d,u,c){let v;const g=assign({actions:{}},r),y={deep:!0};let o,n,s=markRaw([]),i=markRaw([]),a;const m=d.state.value[e];!c&&!m&&(d.state.value[e]={}),ref({});let f;function b(x){let E;o=n=!1,typeof x=="function"?(x(d.state.value[e]),E={type:MutationType.patchFunction,storeId:e,events:a}):(mergeReactiveObjects(d.state.value[e],x),E={type:MutationType.patchObject,payload:x,storeId:e,events:a});const D=f=Symbol();nextTick().then(()=>{f===D&&(o=!0)}),n=!0,triggerSubscriptions(s,E,d.state.value[e])}const C=noop$1;function _(){v.stop(),s=[],i=[],d._s.delete(e)}function w(x,E){return function(){setActivePinia(d);const D=Array.from(arguments),R=[],q=[];function A(W){R.push(W)}function j(W){q.push(W)}triggerSubscriptions(i,{args:D,name:x,store:S,after:A,onError:j});let H;try{H=E.apply(this&&this.$id===e?this:S,D)}catch(W){throw triggerSubscriptions(q,W),W}return H instanceof Promise?H.then(W=>(triggerSubscriptions(R,W),W)).catch(W=>(triggerSubscriptions(q,W),Promise.reject(W))):(triggerSubscriptions(R,H),H)}}const M={_p:d,$id:e,$onAction:addSubscription.bind(null,i),$patch:b,$reset:C,$subscribe(x,E={}){const D=addSubscription(s,x,E.detached,()=>R()),R=v.run(()=>watch(()=>d.state.value[e],q=>{(E.flush==="sync"?n:o)&&x({storeId:e,type:MutationType.direct,events:a},q)},assign({},y,E)));return D},$dispose:_},S=reactive(M);d._s.set(e,S);const I=d._e.run(()=>(v=effectScope(),v.run(()=>t())));for(const x in I){const E=I[x];if(isRef(E)&&!isComputed(E)||isReactive(E))c||(m&&shouldHydrate(E)&&(isRef(E)?E.value=m[x]:mergeReactiveObjects(E,m[x])),d.state.value[e][x]=E);else if(typeof E=="function"){const D=w(x,E);I[x]=D,g.actions[x]=E}}return assign(S,I),assign(toRaw(S),I),Object.defineProperty(S,"$state",{get:()=>d.state.value[e],set:x=>{b(E=>{assign(E,x)})}}),d._p.forEach(x=>{assign(S,v.run(()=>x({store:S,app:d._a,pinia:d,options:g})))}),m&&c&&r.hydrate&&r.hydrate(S.$state,m),o=!0,n=!0,S}function defineStore(e,t,r){let d,u;const c=typeof t=="function";typeof e=="string"?(d=e,u=c?r:t):(u=e,d=e.id);function v(g,y){const o=getCurrentInstance();return g=g||o&&inject(piniaSymbol,null),g&&setActivePinia(g),g=activePinia,g._s.has(d)||(c?createSetupStore(d,t,u,g):createOptionsStore(d,u,g)),g._s.get(d)}return v.$id=d,v}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeGlobal$1=freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")(),root$1=root,Symbol$1=root$1.Symbol,Symbol$2=Symbol$1,objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty$8.call(e,symToStringTag$1),r=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var d=!0}catch{}var u=nativeObjectToString$1.call(e);return d&&(t?e[symToStringTag$1]=r:delete e[symToStringTag$1]),u}var objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString(e){return nativeObjectToString.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}function isObjectLike(e){return e!=null&&typeof e=="object"}var symbolTag$1="[object Symbol]";function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&baseGetTag(e)==symbolTag$1}function arrayMap(e,t){for(var r=-1,d=e==null?0:e.length,u=Array(d);++r<d;)u[r]=t(e[r],r,e);return u}var isArray=Array.isArray,isArray$1=isArray,INFINITY$1=1/0,symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(e){if(typeof e=="string")return e;if(isArray$1(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return t=="0"&&1/e==-INFINITY$1?"-0":t}var reWhitespace=/\s/;function trimmedEndIndex(e){for(var t=e.length;t--&&reWhitespace.test(e.charAt(t)););return t}var reTrimStart=/^\s+/;function baseTrim(e){return e&&e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,"")}function isObject(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if(typeof e=="number")return e;if(isSymbol(e))return NAN;if(isObject(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=baseTrim(e);var r=reIsBinary.test(e);return r||reIsOctal.test(e)?freeParseInt(e.slice(2),r?2:8):reIsBadHex.test(e)?NAN:+e}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==funcTag$1||t==genTag||t==asyncTag||t==proxyTag}var coreJsData=root$1["__core-js_shared__"],coreJsData$1=coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(e){if(e!=null){try{return funcToString$1.call(e)}catch{}try{return e+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$7=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$7).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){if(!isObject(e)||isMasked(e))return!1;var t=isFunction(e)?reIsNative:reIsHostCtor;return t.test(toSource(e))}function getValue$1(e,t){return e==null?void 0:e[t]}function getNative(e,t){var r=getValue$1(e,t);return baseIsNative(r)?r:void 0}var WeakMap$1=getNative(root$1,"WeakMap"),WeakMap$2=WeakMap$1,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var r=typeof e;return t=t==null?MAX_SAFE_INTEGER$1:t,!!t&&(r=="number"||r!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function eq(e,t){return e===t||e!==e&&t!==t}var MAX_SAFE_INTEGER=9007199254740991;function isLength(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isArrayLike(e){return e!=null&&isLength(e.length)&&!isFunction(e)}var objectProto$8=Object.prototype;function isPrototype(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||objectProto$8;return e===r}function baseTimes(e,t){for(var r=-1,d=Array(e);++r<e;)d[r]=t(r);return d}var argsTag$2="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag$2}var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty$6.call(e,"callee")&&!propertyIsEnumerable$1.call(e,"callee")},isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root$1.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,isBuffer$1=isBuffer,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!typedArrayTags[baseGetTag(e)]}function baseUnary(e){return function(t){return e(t)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal$1.process,nodeUtil=function(){try{var e=freeModule&&freeModule.require&&freeModule.require("util").types;return e||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeUtil$1=nodeUtil,nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray$1=isTypedArray,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function arrayLikeKeys(e,t){var r=isArray$1(e),d=!r&&isArguments$1(e),u=!r&&!d&&isBuffer$1(e),c=!r&&!d&&!u&&isTypedArray$1(e),v=r||d||u||c,g=v?baseTimes(e.length,String):[],y=g.length;for(var o in e)(t||hasOwnProperty$5.call(e,o))&&!(v&&(o=="length"||u&&(o=="offset"||o=="parent")||c&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||isIndex(o,y)))&&g.push(o);return g}function overArg(e,t){return function(r){return e(t(r))}}var nativeKeys=overArg(Object.keys,Object),nativeKeys$1=nativeKeys,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys$1(e);var t=[];for(var r in Object(e))hasOwnProperty$4.call(e,r)&&r!="constructor"&&t.push(r);return t}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray$1(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||isSymbol(e)?!0:reIsPlainProp.test(e)||!reIsDeepProp.test(e)||t!=null&&e in Object(t)}var nativeCreate=getNative(Object,"create"),nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashGet(e){var t=this.__data__;if(nativeCreate$1){var r=t[e];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$3.call(t,e)?t[e]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function hashHas(e){var t=this.__data__;return nativeCreate$1?t[e]!==void 0:hasOwnProperty$2.call(t,e)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nativeCreate$1&&t===void 0?HASH_UNDEFINED$1:t,this}function Hash(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var d=e[t];this.set(d[0],d[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(e,t){for(var r=e.length;r--;)if(eq(e[r][0],t))return r;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,r=assocIndexOf(t,e);if(r<0)return!1;var d=t.length-1;return r==d?t.pop():splice.call(t,r,1),--this.size,!0}function listCacheGet(e){var t=this.__data__,r=assocIndexOf(t,e);return r<0?void 0:t[r][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var r=this.__data__,d=assocIndexOf(r,e);return d<0?(++this.size,r.push([e,t])):r[d][1]=t,this}function ListCache(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var d=e[t];this.set(d[0],d[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map"),Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function getMapData(e,t){var r=e.__data__;return isKeyable(t)?r[typeof t=="string"?"string":"hash"]:r.map}function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){var r=getMapData(this,e),d=r.size;return r.set(e,t),this.size+=r.size==d?0:1,this}function MapCache(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var d=e[t];this.set(d[0],d[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$1="Expected a function";function memoize(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var r=function(){var d=arguments,u=t?t.apply(this,d):d[0],c=r.cache;if(c.has(u))return c.get(u);var v=e.apply(this,d);return r.cache=c.set(u,v)||c,v};return r.cache=new(memoize.Cache||MapCache),r}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize(e,function(d){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),d}),r=t.cache;return t}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rePropName,function(r,d,u,c){t.push(u?c.replace(reEscapeChar,"$1"):d||r)}),t}),stringToPath$1=stringToPath;function toString(e){return e==null?"":baseToString(e)}function castPath(e,t){return isArray$1(e)?e:isKey(e,t)?[e]:stringToPath$1(toString(e))}var INFINITY=1/0;function toKey(e){if(typeof e=="string"||isSymbol(e))return e;var t=e+"";return t=="0"&&1/e==-INFINITY?"-0":t}function baseGet(e,t){t=castPath(t,e);for(var r=0,d=t.length;e!=null&&r<d;)e=e[toKey(t[r++])];return r&&r==d?e:void 0}function get(e,t,r){var d=e==null?void 0:baseGet(e,t);return d===void 0?r:d}function arrayPush(e,t){for(var r=-1,d=t.length,u=e.length;++r<d;)e[u+r]=t[r];return e}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}var LARGE_ARRAY_SIZE=200;function stackSet(e,t){var r=this.__data__;if(r instanceof ListCache){var d=r.__data__;if(!Map$2||d.length<LARGE_ARRAY_SIZE-1)return d.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache(d)}return r.set(e,t),this.size=r.size,this}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayFilter(e,t){for(var r=-1,d=e==null?0:e.length,u=0,c=[];++r<d;){var v=e[r];t(v,r,e)&&(c[u++]=v)}return c}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(e){return e==null?[]:(e=Object(e),arrayFilter(nativeGetSymbols(e),function(t){return propertyIsEnumerable.call(e,t)}))}:stubArray,getSymbols$1=getSymbols;function baseGetAllKeys(e,t,r){var d=t(e);return isArray$1(e)?d:arrayPush(d,r(e))}function getAllKeys(e){return baseGetAllKeys(e,keys,getSymbols$1)}var DataView=getNative(root$1,"DataView"),DataView$1=DataView,Promise$1=getNative(root$1,"Promise"),Promise$2=Promise$1,Set$1=getNative(root$1,"Set"),Set$2=Set$1,mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$1||Map$2&&getTag(new Map$2)!=mapTag$1||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$1||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag)&&(getTag=function(e){var t=baseGetTag(e),r=t==objectTag$1?e.constructor:void 0,d=r?toSource(r):"";if(d)switch(d){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return t});var getTag$1=getTag,Uint8Array$1=root$1.Uint8Array,Uint8Array$2=Uint8Array$1,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(e){return this.__data__.set(e,HASH_UNDEFINED),this}function setCacheHas(e){return this.__data__.has(e)}function SetCache(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new MapCache;++t<r;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(e,t){for(var r=-1,d=e==null?0:e.length;++r<d;)if(t(e[r],r,e))return!0;return!1}function cacheHas(e,t){return e.has(t)}var COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays(e,t,r,d,u,c){var v=r&COMPARE_PARTIAL_FLAG$3,g=e.length,y=t.length;if(g!=y&&!(v&&y>g))return!1;var o=c.get(e),n=c.get(t);if(o&&n)return o==t&&n==e;var s=-1,i=!0,a=r&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(c.set(e,t),c.set(t,e);++s<g;){var m=e[s],f=t[s];if(d)var b=v?d(f,m,s,t,e,c):d(m,f,s,e,t,c);if(b!==void 0){if(b)continue;i=!1;break}if(a){if(!arraySome(t,function(C,_){if(!cacheHas(a,_)&&(m===C||u(m,C,r,d,c)))return a.push(_)})){i=!1;break}}else if(!(m===f||u(m,f,r,d,c))){i=!1;break}}return c.delete(e),c.delete(t),i}function mapToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(d,u){r[++t]=[u,d]}),r}function setToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(d){r[++t]=d}),r}var COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(e,t,r,d,u,c,v){switch(r){case dataViewTag:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag:return!(e.byteLength!=t.byteLength||!c(new Uint8Array$2(e),new Uint8Array$2(t)));case boolTag:case dateTag:case numberTag:return eq(+e,+t);case errorTag:return e.name==t.name&&e.message==t.message;case regexpTag:case stringTag:return e==t+"";case mapTag:var g=mapToArray;case setTag:var y=d&COMPARE_PARTIAL_FLAG$2;if(g||(g=setToArray),e.size!=t.size&&!y)return!1;var o=v.get(e);if(o)return o==t;d|=COMPARE_UNORDERED_FLAG,v.set(e,t);var n=equalArrays(g(e),g(t),d,u,c,v);return v.delete(e),n;case symbolTag:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(t)}return!1}var COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(e,t,r,d,u,c){var v=r&COMPARE_PARTIAL_FLAG$1,g=getAllKeys(e),y=g.length,o=getAllKeys(t),n=o.length;if(y!=n&&!v)return!1;for(var s=y;s--;){var i=g[s];if(!(v?i in t:hasOwnProperty$1.call(t,i)))return!1}var a=c.get(e),m=c.get(t);if(a&&m)return a==t&&m==e;var f=!0;c.set(e,t),c.set(t,e);for(var b=v;++s<y;){i=g[s];var C=e[i],_=t[i];if(d)var w=v?d(_,C,i,t,e,c):d(C,_,i,e,t,c);if(!(w===void 0?C===_||u(C,_,r,d,c):w)){f=!1;break}b||(b=i=="constructor")}if(f&&!b){var M=e.constructor,S=t.constructor;M!=S&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof S=="function"&&S instanceof S)&&(f=!1)}return c.delete(e),c.delete(t),f}var COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(e,t,r,d,u,c){var v=isArray$1(e),g=isArray$1(t),y=v?arrayTag:getTag$1(e),o=g?arrayTag:getTag$1(t);y=y==argsTag?objectTag:y,o=o==argsTag?objectTag:o;var n=y==objectTag,s=o==objectTag,i=y==o;if(i&&isBuffer$1(e)){if(!isBuffer$1(t))return!1;v=!0,n=!1}if(i&&!n)return c||(c=new Stack),v||isTypedArray$1(e)?equalArrays(e,t,r,d,u,c):equalByTag(e,t,y,r,d,u,c);if(!(r&COMPARE_PARTIAL_FLAG)){var a=n&&hasOwnProperty.call(e,"__wrapped__"),m=s&&hasOwnProperty.call(t,"__wrapped__");if(a||m){var f=a?e.value():e,b=m?t.value():t;return c||(c=new Stack),u(f,b,r,d,c)}}return i?(c||(c=new Stack),equalObjects(e,t,r,d,u,c)):!1}function baseIsEqual(e,t,r,d,u){return e===t?!0:e==null||t==null||!isObjectLike(e)&&!isObjectLike(t)?e!==e&&t!==t:baseIsEqualDeep(e,t,r,d,baseIsEqual,u)}var now=function(){return root$1.Date.now()},now$1=now,FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(e,t,r){var d,u,c,v,g,y,o=0,n=!1,s=!1,i=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);t=toNumber(t)||0,isObject(r)&&(n=!!r.leading,s="maxWait"in r,c=s?nativeMax(toNumber(r.maxWait)||0,t):c,i="trailing"in r?!!r.trailing:i);function a(I){var x=d,E=u;return d=u=void 0,o=I,v=e.apply(E,x),v}function m(I){return o=I,g=setTimeout(C,t),n?a(I):v}function f(I){var x=I-y,E=I-o,D=t-x;return s?nativeMin(D,c-E):D}function b(I){var x=I-y,E=I-o;return y===void 0||x>=t||x<0||s&&E>=c}function C(){var I=now$1();if(b(I))return _(I);g=setTimeout(C,f(I))}function _(I){return g=void 0,i&&d?a(I):(d=u=void 0,v)}function w(){g!==void 0&&clearTimeout(g),o=0,d=y=u=g=void 0}function M(){return g===void 0?v:_(now$1())}function S(){var I=now$1(),x=b(I);if(d=arguments,u=this,y=I,x){if(g===void 0)return m(y);if(s)return clearTimeout(g),g=setTimeout(C,t),a(y)}return g===void 0&&(g=setTimeout(C,t)),v}return S.cancel=w,S.flush=M,S}function fromPairs(e){for(var t=-1,r=e==null?0:e.length,d={};++t<r;){var u=e[t];d[u[0]]=u[1]}return d}function isEqual(e,t){return baseIsEqual(e,t)}const FOCUSABLE_ELEMENT_SELECTORS='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',isVisible=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,obtainAllFocusableElements$1=e=>Array.from(e.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter(t=>isFocusable(t)&&isVisible(t)),isFocusable=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},on=(e,t,r,d=!1)=>{e&&t&&r&&(e==null||e.addEventListener(t,r,d))},off=(e,t,r,d=!1)=>{e&&t&&r&&(e==null||e.removeEventListener(t,r,d))},composeEventHandlers=(e,t,{checkForDefaultPrevented:r=!0}={})=>u=>{const c=e==null?void 0:e(u);if(r===!1||!c)return t==null?void 0:t(u)},whenMouse=e=>t=>t.pointerType==="mouse"?e(t):void 0;function tryOnScopeDispose(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}const isClient=typeof window!="undefined",isBoolean=e=>typeof e=="boolean",isNumber=e=>typeof e=="number",isString=e=>typeof e=="string",noop=()=>{};function useTimeoutFn(e,t,r={}){const{immediate:d=!0}=r,u=ref(!1);let c=null;function v(){c&&(clearTimeout(c),c=null)}function g(){u.value=!1,v()}function y(...o){v(),u.value=!0,c=setTimeout(()=>{u.value=!1,c=null,e(...o)},unref(t))}return d&&(u.value=!0,isClient&&y()),tryOnScopeDispose(g),{isPending:u,start:y,stop:g}}function unrefElement(e){var t;const r=unref(e);return(t=r==null?void 0:r.$el)!=null?t:r}const defaultWindow=isClient?window:void 0;function useEventListener(...e){let t,r,d,u;if(isString(e[0])?([r,d,u]=e,t=defaultWindow):[t,r,d,u]=e,!t)return noop;let c=noop;const v=watch(()=>unref(t),y=>{c(),y&&(y.addEventListener(r,d,u),c=()=>{y.removeEventListener(r,d,u),c=noop})},{immediate:!0,flush:"post"}),g=()=>{v(),c()};return tryOnScopeDispose(g),g}function onClickOutside(e,t,r={}){const{window:d=defaultWindow,ignore:u}=r;if(!d)return;const c=ref(!0),g=[useEventListener(d,"click",o=>{const n=unrefElement(e),s=o.composedPath();!n||n===o.target||s.includes(n)||!c.value||u&&u.length>0&&u.some(i=>{const a=unrefElement(i);return a&&(o.target===a||s.includes(a))})||t(o)},{passive:!0,capture:!0}),useEventListener(d,"pointerdown",o=>{const n=unrefElement(e);c.value=!!n&&!o.composedPath().includes(n)},{passive:!0})];return()=>g.forEach(o=>o())}const _global=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};_global[globalKey];function useCssVar(e,t,{window:r=defaultWindow}={}){const d=ref(""),u=computed(()=>{var c;return unrefElement(t)||((c=r==null?void 0:r.document)==null?void 0:c.documentElement)});return watch([u,()=>unref(e)],([c,v])=>{c&&r&&(d.value=r.getComputedStyle(c).getPropertyValue(v))},{immediate:!0}),watch(d,c=>{var v;(v=u.value)!=null&&v.style&&u.value.style.setProperty(unref(e),c)}),d}var __getOwnPropSymbols$c=Object.getOwnPropertySymbols,__hasOwnProp$c=Object.prototype.hasOwnProperty,__propIsEnum$c=Object.prototype.propertyIsEnumerable,__objRest$2=(e,t)=>{var r={};for(var d in e)__hasOwnProp$c.call(e,d)&&t.indexOf(d)<0&&(r[d]=e[d]);if(e!=null&&__getOwnPropSymbols$c)for(var d of __getOwnPropSymbols$c(e))t.indexOf(d)<0&&__propIsEnum$c.call(e,d)&&(r[d]=e[d]);return r};function useResizeObserver(e,t,r={}){const d=r,{window:u=defaultWindow}=d,c=__objRest$2(d,["window"]);let v;const g=u&&"ResizeObserver"in u,y=()=>{v&&(v.disconnect(),v=void 0)},o=watch(()=>unrefElement(e),s=>{y(),g&&u&&s&&(v=new u.ResizeObserver(t),v.observe(s,c))},{immediate:!0,flush:"post"}),n=()=>{y(),o()};return tryOnScopeDispose(n),{isSupported:g,stop:n}}var _a,_b;isClient&&(window==null?void 0:window.navigator)&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.platform)&&/iP(ad|hone|od)/.test((_b=window==null?void 0:window.navigator)==null?void 0:_b.platform);var __defProp$3=Object.defineProperty,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(e,t,r)=>t in e?__defProp$3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues$3=(e,t)=>{for(var r in t||(t={}))__hasOwnProp$3.call(t,r)&&__defNormalProp$3(e,r,t[r]);if(__getOwnPropSymbols$3)for(var r of __getOwnPropSymbols$3(t))__propIsEnum$3.call(t,r)&&__defNormalProp$3(e,r,t[r]);return e};const initialRect={top:0,left:0,bottom:0,right:0,height:0,width:0};__spreadValues$3({text:""},initialRect);const resizeHandler=function(e){for(const t of e){const r=t.target.__resizeListeners__||[];r.length&&r.forEach(d=>{d()})}},addResizeListener=function(e,t){!isClient||!e||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new ResizeObserver(resizeHandler),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},removeResizeListener=function(e,t){var r;!e||!e.__resizeListeners__||(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(r=e.__ro__)==null||r.disconnect())},isUndefined=e=>e===void 0,escapeStringRegexp=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");class ElementPlusError extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function throwError(e,t){throw new ElementPlusError(`[${e}] ${t}`)}const SCOPE="UtilV2/objects",keysOf=e=>Object.keys(e);function getPropByPath(e,t,r){let d=e,u,c;if(e&&hasOwn(e,t))u=t,c=d==null?void 0:d[t];else{t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");const v=t.split(".");let g=0;for(g;g<v.length-1&&!(!d&&!r);g++){const y=v[g];if(y in d)d=d[y];else{r&&throwError(SCOPE,"Please transfer a valid prop path to form item!");break}}u=v[g],c=d==null?void 0:d[v[g]]}return{o:d,k:u,v:c}}const classNameToArray=(e="")=>e.split(" ").filter(t=>!!t.trim()),hasClass=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},addClass=(e,t)=>{!e||!t.trim()||e.classList.add(...classNameToArray(t))},removeClass=(e,t)=>{!e||!t.trim()||e.classList.remove(...classNameToArray(t))},getStyle=(e,t)=>{var r;if(!isClient||!e||!t)return"";camelize(t);try{const d=e.style[t];if(d)return d;const u=(r=document.defaultView)==null?void 0:r.getComputedStyle(e,"");return u?u[t]:""}catch{return e.style[t]}};let scrollBarWidth;const getScrollBarWidth=()=>{var e;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const r=t.offsetWidth;t.style.overflow="scroll";const d=document.createElement("div");d.style.width="100%",t.appendChild(d);const u=d.offsetWidth;return(e=t.parentNode)==null||e.removeChild(t),scrollBarWidth=r-u,scrollBarWidth};function scrollIntoView(e,t){if(!isClient)return;if(!t){e.scrollTop=0;return}const r=[];let d=t.offsetParent;for(;d!==null&&e!==d&&e.contains(d);)r.push(d),d=d.offsetParent;const u=t.offsetTop+r.reduce((y,o)=>y+o.offsetTop,0),c=u+t.offsetHeight,v=e.scrollTop,g=v+e.clientHeight;u<v?e.scrollTop=u:c>g&&(e.scrollTop=c-e.clientHeight)}var _export_sfc$2=(e,t)=>{const r=e.__vccOpts||e;for(const[d,u]of t)r[d]=u;return r};const _sfc_main$1f=defineComponent({name:"ArrowDown"}),_hoisted_1$O={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$H=createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864L512 652.672 192.128 340.864a30.592 30.592 0 00-42.752 0 29.12 29.12 0 000 41.6L489.664 714.24a32 32 0 0044.672 0l340.288-331.712a29.12 29.12 0 000-41.728 30.592 30.592 0 00-42.752 0z"},null,-1),_hoisted_3$B=[_hoisted_2$H];function _sfc_render$15(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$O,_hoisted_3$B)}var arrowDown=_export_sfc$2(_sfc_main$1f,[["render",_sfc_render$15]]);const _sfc_main$1e=defineComponent({name:"ArrowUp"}),_hoisted_1$N={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$G=createBaseVNode("path",{fill:"currentColor",d:"M488.832 344.32l-339.84 356.672a32 32 0 000 44.16l.384.384a29.44 29.44 0 0042.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0042.688 0l.384-.384a32 32 0 000-44.16L535.168 344.32a32 32 0 00-46.336 0z"},null,-1),_hoisted_3$A=[_hoisted_2$G];function _sfc_render$14(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$N,_hoisted_3$A)}var arrowUp=_export_sfc$2(_sfc_main$1e,[["render",_sfc_render$14]]);const _sfc_main$1d=defineComponent({name:"Bell"}),_hoisted_1$M={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$F=createBaseVNode("path",{fill:"currentColor",d:"M512 64a64 64 0 0164 64v64H448v-64a64 64 0 0164-64z"},null,-1),_hoisted_3$z=createBaseVNode("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 10-512 0v320zm256-640a320 320 0 01320 320v384H192V448a320 320 0 01320-320z"},null,-1),_hoisted_4$d=createBaseVNode("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32zM448 896h128a64 64 0 01-128 0z"},null,-1),_hoisted_5$5=[_hoisted_2$F,_hoisted_3$z,_hoisted_4$d];function _sfc_render$13(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$M,_hoisted_5$5)}var bell=_export_sfc$2(_sfc_main$1d,[["render",_sfc_render$13]]);const _sfc_main$1c=defineComponent({name:"ChatRound"}),_hoisted_1$L={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$E=createBaseVNode("path",{fill:"currentColor",d:"M174.72 855.68l130.048-43.392 23.424 11.392C382.4 849.984 444.352 864 512 864c223.744 0 384-159.872 384-352 0-192.832-159.104-352-384-352S128 319.168 128 512a341.12 341.12 0 0069.248 204.288l21.632 28.8-44.16 110.528zm-45.248 82.56A32 32 0 0189.6 896l56.512-141.248A405.12 405.12 0 0164 512C64 299.904 235.648 96 512 96s448 203.904 448 416-173.44 416-448 416c-79.68 0-150.848-17.152-211.712-46.72l-170.88 56.96z"},null,-1),_hoisted_3$y=[_hoisted_2$E];function _sfc_render$12(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$L,_hoisted_3$y)}var chatRound=_export_sfc$2(_sfc_main$1c,[["render",_sfc_render$12]]);const _sfc_main$1b=defineComponent({name:"Check"}),_hoisted_1$K={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$D=createBaseVNode("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z"},null,-1),_hoisted_3$x=[_hoisted_2$D];function _sfc_render$11(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$K,_hoisted_3$x)}var check=_export_sfc$2(_sfc_main$1b,[["render",_sfc_render$11]]);const _sfc_main$1a=defineComponent({name:"CircleCheck"}),_hoisted_1$J={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$C=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 100-768 384 384 0 000 768zm0 64a448 448 0 110-896 448 448 0 010 896z"},null,-1),_hoisted_3$w=createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0145.312 45.312l-288 288a32 32 0 01-45.312 0l-160-160a32 32 0 1145.312-45.312L480 626.752l265.344-265.408z"},null,-1),_hoisted_4$c=[_hoisted_2$C,_hoisted_3$w];function _sfc_render$10(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$J,_hoisted_4$c)}var circleCheck=_export_sfc$2(_sfc_main$1a,[["render",_sfc_render$10]]);const _sfc_main$19=defineComponent({name:"CircleCloseFilled"}),_hoisted_1$I={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$B=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm0 393.664L407.936 353.6a38.4 38.4 0 10-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1054.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1054.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 10-54.336-54.336L512 457.664z"},null,-1),_hoisted_3$v=[_hoisted_2$B];function _sfc_render$$(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$I,_hoisted_3$v)}var circleCloseFilled=_export_sfc$2(_sfc_main$19,[["render",_sfc_render$$]]);const _sfc_main$18=defineComponent({name:"CircleClose"}),_hoisted_1$H={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$A=createBaseVNode("path",{fill:"currentColor",d:"M466.752 512l-90.496-90.496a32 32 0 0145.248-45.248L512 466.752l90.496-90.496a32 32 0 1145.248 45.248L557.248 512l90.496 90.496a32 32 0 11-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 01-45.248-45.248L466.752 512z"},null,-1),_hoisted_3$u=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 100-768 384 384 0 000 768zm0 64a448 448 0 110-896 448 448 0 010 896z"},null,-1),_hoisted_4$b=[_hoisted_2$A,_hoisted_3$u];function _sfc_render$_(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$H,_hoisted_4$b)}var circleClose=_export_sfc$2(_sfc_main$18,[["render",_sfc_render$_]]);const _sfc_main$17=defineComponent({name:"Close"}),_hoisted_1$G={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$z=createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88 259.712 214.592a31.936 31.936 0 00-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1045.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0045.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 10-45.12-45.184z"},null,-1),_hoisted_3$t=[_hoisted_2$z];function _sfc_render$Z(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$G,_hoisted_3$t)}var close$2=_export_sfc$2(_sfc_main$17,[["render",_sfc_render$Z]]);const _sfc_main$16=defineComponent({name:"Delete"}),_hoisted_1$F={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$y=createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 010-64h256V95.936a32 32 0 0132-32h256a32 32 0 0132 32V192h256a32 32 0 110 64h-64v672a32 32 0 01-32 32H192a32 32 0 01-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32zm192 0a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32z"},null,-1),_hoisted_3$s=[_hoisted_2$y];function _sfc_render$Y(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$F,_hoisted_3$s)}var _delete=_export_sfc$2(_sfc_main$16,[["render",_sfc_render$Y]]);const _sfc_main$15=defineComponent({name:"Document"}),_hoisted_1$E={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$x=createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 01-32 32H160a32 32 0 01-32-32V96a32 32 0 0132-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),_hoisted_3$r=[_hoisted_2$x];function _sfc_render$X(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$E,_hoisted_3$r)}var document$1=_export_sfc$2(_sfc_main$15,[["render",_sfc_render$X]]);const _sfc_main$14=defineComponent({name:"Edit"}),_hoisted_1$D={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$w=createBaseVNode("path",{fill:"currentColor",d:"M832 512a32 32 0 1164 0v352a32 32 0 01-32 32H160a32 32 0 01-32-32V160a32 32 0 0132-32h352a32 32 0 010 64H192v640h640V512z"},null,-1),_hoisted_3$q=createBaseVNode("path",{fill:"currentColor",d:"M469.952 554.24l52.8-7.552L847.104 222.4a32 32 0 10-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 010 135.808l-331.84 331.84a32 32 0 01-18.112 9.088L436.8 623.68a32 32 0 01-36.224-36.224l15.104-105.6a32 32 0 019.024-18.112l331.904-331.84a96 96 0 01135.744 0z"},null,-1),_hoisted_4$a=[_hoisted_2$w,_hoisted_3$q];function _sfc_render$W(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$D,_hoisted_4$a)}var edit=_export_sfc$2(_sfc_main$14,[["render",_sfc_render$W]]);const _sfc_main$13=defineComponent({name:"InfoFilled"}),_hoisted_1$C={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$v=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896.064A448 448 0 01512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 01-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 017.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),_hoisted_3$p=[_hoisted_2$v];function _sfc_render$V(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$C,_hoisted_3$p)}var infoFilled=_export_sfc$2(_sfc_main$13,[["render",_sfc_render$V]]);const _sfc_main$12=defineComponent({name:"Loading"}),_hoisted_1$B={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$u=createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0132 32v192a32 32 0 01-64 0V96a32 32 0 0132-32zm0 640a32 32 0 0132 32v192a32 32 0 11-64 0V736a32 32 0 0132-32zm448-192a32 32 0 01-32 32H736a32 32 0 110-64h192a32 32 0 0132 32zm-640 0a32 32 0 01-32 32H96a32 32 0 010-64h192a32 32 0 0132 32zM195.2 195.2a32 32 0 0145.248 0L376.32 331.008a32 32 0 01-45.248 45.248L195.2 240.448a32 32 0 010-45.248zm452.544 452.544a32 32 0 0145.248 0L828.8 783.552a32 32 0 01-45.248 45.248L647.744 692.992a32 32 0 010-45.248zM828.8 195.264a32 32 0 010 45.184L692.992 376.32a32 32 0 01-45.248-45.248l135.808-135.808a32 32 0 0145.248 0zm-452.544 452.48a32 32 0 010 45.248L240.448 828.8a32 32 0 01-45.248-45.248l135.808-135.808a32 32 0 0145.248 0z"},null,-1),_hoisted_3$o=[_hoisted_2$u];function _sfc_render$U(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$B,_hoisted_3$o)}var loading$1=_export_sfc$2(_sfc_main$12,[["render",_sfc_render$U]]);const _sfc_main$11=defineComponent({name:"Microphone"}),_hoisted_1$A={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$t=createBaseVNode("path",{fill:"currentColor",d:"M512 128a128 128 0 00-128 128v256a128 128 0 10256 0V256a128 128 0 00-128-128zm0-64a192 192 0 01192 192v256a192 192 0 11-384 0V256A192 192 0 01512 64zm-32 832v-64a288 288 0 01-288-288v-32a32 32 0 0164 0v32a224 224 0 00224 224h64a224 224 0 00224-224v-32a32 32 0 1164 0v32a288 288 0 01-288 288v64h64a32 32 0 110 64H416a32 32 0 110-64h64z"},null,-1),_hoisted_3$n=[_hoisted_2$t];function _sfc_render$T(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$A,_hoisted_3$n)}var microphone=_export_sfc$2(_sfc_main$11,[["render",_sfc_render$T]]);const _sfc_main$10=defineComponent({name:"Minus"}),_hoisted_1$z={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$s=createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 100-64H128a32 32 0 000 64z"},null,-1),_hoisted_3$m=[_hoisted_2$s];function _sfc_render$S(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$z,_hoisted_3$m)}var minus=_export_sfc$2(_sfc_main$10,[["render",_sfc_render$S]]);const _sfc_main$$=defineComponent({name:"MoreFilled"}),_hoisted_1$y={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$r=createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 110 224 112 112 0 010-224zm336 0a112 112 0 110 224 112 112 0 010-224zm336 0a112 112 0 110 224 112 112 0 010-224z"},null,-1),_hoisted_3$l=[_hoisted_2$r];function _sfc_render$R(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$y,_hoisted_3$l)}var moreFilled=_export_sfc$2(_sfc_main$$,[["render",_sfc_render$R]]);const _sfc_main$_=defineComponent({name:"MuteNotification"}),_hoisted_1$x={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$q=createBaseVNode("path",{fill:"currentColor",d:"M241.216 832l63.616-64H768V448c0-42.368-10.24-82.304-28.48-117.504l46.912-47.232C815.36 331.392 832 387.84 832 448v320h96a32 32 0 110 64H241.216zm-90.24 0H96a32 32 0 110-64h96V448a320.128 320.128 0 01256-313.6V128a64 64 0 11128 0v6.4a319.552 319.552 0 01171.648 97.088l-45.184 45.44A256 256 0 00256 448v278.336L151.04 832zM448 896h128a64 64 0 01-128 0z"},null,-1),_hoisted_3$k=createBaseVNode("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 01-45.44-45.056l704-708.544a32 32 0 0145.44 45.056l-704 708.544z"},null,-1),_hoisted_4$9=[_hoisted_2$q,_hoisted_3$k];function _sfc_render$Q(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$x,_hoisted_4$9)}var muteNotification=_export_sfc$2(_sfc_main$_,[["render",_sfc_render$Q]]);const _sfc_main$Z=defineComponent({name:"Phone"}),_hoisted_1$w={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$p=createBaseVNode("path",{fill:"currentColor",d:"M79.36 432.256L591.744 944.64a32 32 0 0035.2 6.784l253.44-108.544a32 32 0 009.984-52.032l-153.856-153.92a32 32 0 00-36.928-6.016l-69.888 34.944L358.08 394.24l35.008-69.888a32 32 0 00-5.952-36.928L233.152 133.568a32 32 0 00-52.032 10.048L72.512 397.056a32 32 0 006.784 35.2zm60.48-29.952l81.536-190.08L325.568 316.48l-24.64 49.216-20.608 41.216 32.576 32.64 271.552 271.552 32.64 32.64 41.216-20.672 49.28-24.576 104.192 104.128-190.08 81.472L139.84 402.304zM512 320v-64a256 256 0 01256 256h-64a192 192 0 00-192-192zm0-192V64a448 448 0 01448 448h-64a384 384 0 00-384-384z"},null,-1),_hoisted_3$j=[_hoisted_2$p];function _sfc_render$P(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$w,_hoisted_3$j)}var phone=_export_sfc$2(_sfc_main$Z,[["render",_sfc_render$P]]);const _sfc_main$Y=defineComponent({name:"Picture"}),_hoisted_1$v={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$o=createBaseVNode("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0132 32v768a32 32 0 01-32 32H128a32 32 0 01-32-32V128a32 32 0 0132-32z"},null,-1),_hoisted_3$i=createBaseVNode("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 01134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0044.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 01-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 00-44.8 5.952L185.408 876.992z"},null,-1),_hoisted_4$8=[_hoisted_2$o,_hoisted_3$i];function _sfc_render$O(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$v,_hoisted_4$8)}var picture=_export_sfc$2(_sfc_main$Y,[["render",_sfc_render$O]]);const _sfc_main$X=defineComponent({name:"Plus"}),_hoisted_1$u={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$n=createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0164 0v352h352a32 32 0 110 64H544v352a32 32 0 11-64 0V544H128a32 32 0 010-64h352z"},null,-1),_hoisted_3$h=[_hoisted_2$n];function _sfc_render$N(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$u,_hoisted_3$h)}var plus=_export_sfc$2(_sfc_main$X,[["render",_sfc_render$N]]);const _sfc_main$W=defineComponent({name:"Scissor"}),_hoisted_1$t={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$m=createBaseVNode("path",{fill:"currentColor",d:"M512.064 578.368l-106.88 152.768a160 160 0 11-23.36-78.208L472.96 522.56 196.864 128.256a32 32 0 1152.48-36.736l393.024 561.344a160 160 0 11-23.36 78.208l-106.88-152.704zm54.4-189.248l208.384-297.6a32 32 0 0152.48 36.736l-221.76 316.672-39.04-55.808zm-376.32 425.856a96 96 0 10110.144-157.248 96 96 0 00-110.08 157.248zm643.84 0a96 96 0 10-110.08-157.248 96 96 0 00110.08 157.248z"},null,-1),_hoisted_3$g=[_hoisted_2$m];function _sfc_render$M(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$t,_hoisted_3$g)}var scissor=_export_sfc$2(_sfc_main$W,[["render",_sfc_render$M]]);const _sfc_main$V=defineComponent({name:"SuccessFilled"}),_hoisted_1$s={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$l=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm-55.808 536.384l-99.52-99.584a38.4 38.4 0 10-54.336 54.336l126.72 126.72a38.272 38.272 0 0054.336 0l262.4-262.464a38.4 38.4 0 10-54.272-54.336L456.192 600.384z"},null,-1),_hoisted_3$f=[_hoisted_2$l];function _sfc_render$L(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$s,_hoisted_3$f)}var successFilled=_export_sfc$2(_sfc_main$V,[["render",_sfc_render$L]]);const _sfc_main$U=defineComponent({name:"Switch"}),_hoisted_1$r={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$k=createBaseVNode("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 010-45.248L416 96l4.48-3.776A32 32 0 01461.248 96l3.712 4.48a32.064 32.064 0 01-3.712 40.832L218.56 384H928a32 32 0 110 64H141.248a32 32 0 01-22.592-9.344zM64 608a32 32 0 0132-32h786.752a32 32 0 0122.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 01-40.832-49.024L805.632 640H96a32 32 0 01-32-32z"},null,-1),_hoisted_3$e=[_hoisted_2$k];function _sfc_render$K(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$r,_hoisted_3$e)}var _switch=_export_sfc$2(_sfc_main$U,[["render",_sfc_render$K]]);const _sfc_main$T=defineComponent({name:"User"}),_hoisted_1$q={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$j=createBaseVNode("path",{fill:"currentColor",d:"M512 512a192 192 0 100-384 192 192 0 000 384zm0 64a256 256 0 110-512 256 256 0 010 512zm320 320v-96a96 96 0 00-96-96H288a96 96 0 00-96 96v96a32 32 0 11-64 0v-96a160 160 0 01160-160h448a160 160 0 01160 160v96a32 32 0 11-64 0z"},null,-1),_hoisted_3$d=[_hoisted_2$j];function _sfc_render$J(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$q,_hoisted_3$d)}var user=_export_sfc$2(_sfc_main$T,[["render",_sfc_render$J]]);const _sfc_main$S=defineComponent({name:"VideoCamera"}),_hoisted_1$p={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$i=createBaseVNode("path",{fill:"currentColor",d:"M704 768V256H128v512h576zm64-416l192-96v512l-192-96v128a32 32 0 01-32 32H96a32 32 0 01-32-32V224a32 32 0 0132-32h640a32 32 0 0132 32v128zm0 71.552v176.896l128 64V359.552l-128 64zM192 320h192v64H192v-64z"},null,-1),_hoisted_3$c=[_hoisted_2$i];function _sfc_render$I(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$p,_hoisted_3$c)}var videoCamera=_export_sfc$2(_sfc_main$S,[["render",_sfc_render$I]]);const _sfc_main$R=defineComponent({name:"View"}),_hoisted_1$o={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$h=createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 110 448 224 224 0 010-448zm0 64a160.192 160.192 0 00-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),_hoisted_3$b=[_hoisted_2$h];function _sfc_render$H(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$o,_hoisted_3$b)}var view=_export_sfc$2(_sfc_main$R,[["render",_sfc_render$H]]);const _sfc_main$Q=defineComponent({name:"WarningFilled"}),_hoisted_1$n={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$g=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm0 192a58.432 58.432 0 00-58.24 63.744l23.36 256.384a35.072 35.072 0 0069.76 0l23.296-256.384A58.432 58.432 0 00512 256zm0 512a51.2 51.2 0 100-102.4 51.2 51.2 0 000 102.4z"},null,-1),_hoisted_3$a=[_hoisted_2$g];function _sfc_render$G(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$n,_hoisted_3$a)}var warningFilled=_export_sfc$2(_sfc_main$Q,[["render",_sfc_render$G]]);const _sfc_main$P=defineComponent({name:"Warning"}),_hoisted_1$m={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$f=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm0 832a384 384 0 000-768 384 384 0 000 768zm48-176a48 48 0 11-96 0 48 48 0 0196 0zm-48-464a32 32 0 0132 32v288a32 32 0 01-64 0V288a32 32 0 0132-32z"},null,-1),_hoisted_3$9=[_hoisted_2$f];function _sfc_render$F(e,t,r,d,u,c){return openBlock(),createElementBlock("svg",_hoisted_1$m,_hoisted_3$9)}var warning$1=_export_sfc$2(_sfc_main$P,[["render",_sfc_render$F]]);const wrapperKey=Symbol(),propKey="__elPropsReservedKey";function buildProp(e,t){if(!isObject$1(e)||!!e[propKey])return e;const{values:r,required:d,default:u,type:c,validator:v}=e,g=r||v?o=>{let n=!1,s=[];if(r&&(s=Array.from(r),hasOwn(e,"default")&&s.push(u),n||(n=s.includes(o))),v&&(n||(n=v(o))),!n&&s.length>0){const i=[...new Set(s)].map(a=>JSON.stringify(a)).join(", ");warn(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${i}], got value ${JSON.stringify(o)}.`)}return n}:void 0,y={type:isObject$1(c)&&Object.getOwnPropertySymbols(c).includes(wrapperKey)?c[wrapperKey]:c,required:!!d,validator:g,[propKey]:!0};return hasOwn(e,"default")&&(y.default=u),y}const buildProps=e=>fromPairs(Object.entries(e).map(([t,r])=>[t,buildProp(r,t)])),definePropType=e=>({[wrapperKey]:e}),iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close$2},TypeComponents={Close:close$2,SuccessFilled:successFilled,InfoFilled:infoFilled,WarningFilled:warningFilled,CircleCloseFilled:circleCloseFilled},TypeComponentsMap={success:successFilled,warning:warningFilled,error:circleCloseFilled,info:infoFilled},ValidateComponentsMap={validating:loading$1,success:circleCheck,error:circleClose},withInstall=(e,t)=>{if(e.install=r=>{for(const d of[e,...Object.values(t!=null?t:{})])r.component(d.name,d)},t)for(const[r,d]of Object.entries(t))e[r]=d;return e},withInstallFunction=(e,t)=>(e.install=r=>{r.config.globalProperties[t]=e},e),withNoopInstall=e=>(e.install=NOOP,e),composeRefs=(...e)=>t=>{e.forEach(r=>{r.value=t})};function addUnit(e,t="px"){if(!e)return"";if(isString$1(e))return e;if(isNumber(e))return`${e}${t}`}const EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",componentSizes=["default","small","large"],isValidComponentSize=e=>["",...componentSizes].includes(e);var PatchFlags=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(PatchFlags||{});const isKorean=e=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e),generateId=()=>Math.floor(Math.random()*1e4),mutable=e=>e,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(e={})=>{const{excludeListeners:t=!1,excludeKeys:r=[]}=e,d=r.concat(DEFAULT_EXCLUDE_KEYS),u=getCurrentInstance();return computed(u?()=>{var c;return fromPairs(Object.entries((c=u.proxy)==null?void 0:c.$attrs).filter(([v])=>!d.includes(v)&&!(t&&LISTENER_PREFIX.test(v))))}:()=>({}))},elFormKey=Symbol("elForm"),elFormItemKey=Symbol("elFormItem"),buttonGroupContextKey=Symbol("buttonGroupContextKey"),configProviderContextKey=Symbol(),radioGroupKey=Symbol("radioGroupKey"),scrollbarContextKey=Symbol("scrollbarContextKey"),useProp=e=>{const t=getCurrentInstance();return computed(()=>{var r,d;return(d=(r=t.proxy)==null?void 0:r.$props[e])!=null?d:void 0})},globalConfig=ref();function useGlobalConfig(e,t=void 0){const r=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return e?computed(()=>{var d,u;return(u=(d=r.value)==null?void 0:d[e])!=null?u:t}):r}const provideGlobalConfig=(e,t,r=!1)=>{var d;const u=!!getCurrentInstance(),c=u?useGlobalConfig():void 0,v=(d=t==null?void 0:t.provide)!=null?d:u?provide:void 0;if(!v)return;const g=computed(()=>{const y=unref(e);return c!=null&&c.value?mergeConfig(c.value,y):y});return v(configProviderContextKey,g),(r||!globalConfig.value)&&(globalConfig.value=g.value),g},mergeConfig=(e,t)=>{var r;const d=[...new Set([...keysOf(e),...keysOf(t)])],u={};for(const c of d)u[c]=(r=t[c])!=null?r:e[c];return u},useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),useSize=(e,t={})=>{const r=ref(void 0),d=t.prop?r:useProp("size"),u=t.global?r:useGlobalConfig("size"),c=t.form?{size:void 0}:inject(elFormKey,void 0),v=t.formItem?{size:void 0}:inject(elFormItemKey,void 0);return computed(()=>d.value||unref(e)||(v==null?void 0:v.size)||(c==null?void 0:c.size)||u.value||"default")},useDisabled$1=e=>{const t=useProp("disabled"),r=inject(elFormKey,void 0);return computed(()=>t.value||unref(e)||(r==null?void 0:r.disabled)||!1)},useDeprecated=({from:e,replacement:t,scope:r,version:d,ref:u},c)=>{watch(()=>unref(c),v=>{},{immediate:!0})},useDraggable=(e,t,r)=>{let d={offsetX:0,offsetY:0};const u=g=>{const y=g.clientX,o=g.clientY,{offsetX:n,offsetY:s}=d,i=e.value.getBoundingClientRect(),a=i.left,m=i.top,f=i.width,b=i.height,C=document.documentElement.clientWidth,_=document.documentElement.clientHeight,w=-a+n,M=-m+s,S=C-a-f+n,I=_-m-b+s,x=D=>{const R=Math.min(Math.max(n+D.clientX-y,w),S),q=Math.min(Math.max(s+D.clientY-o,M),I);d={offsetX:R,offsetY:q},e.value.style.transform=`translate(${addUnit(R)}, ${addUnit(q)})`},E=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",E)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",E)},c=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",u)},v=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",u)};onMounted(()=>{watchEffect(()=>{r.value?c():v()})}),onBeforeUnmount(()=>{v()})},useFocus=e=>({focus:()=>{var t,r;(r=(t=e.value)==null?void 0:t.focus)==null||r.call(t)}}),useFormItem=()=>{const e=inject(elFormKey,void 0),t=inject(elFormItemKey,void 0);return{form:e,formItem:t}};var English={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const buildTranslator=e=>(t,r)=>translate(t,r,unref(e)),translate=(e,t,r)=>get(r,e,e).replace(/\{(\w+)\}/g,(d,u)=>{var c;return`${(c=t==null?void 0:t[u])!=null?c:`{${u}}`}`}),buildLocaleContext=e=>{const t=computed(()=>unref(e).name),r=isRef(e)?e:ref(e);return{lang:t,locale:r,t:buildTranslator(e)}},useLocale=()=>{const e=useGlobalConfig("locale");return buildLocaleContext(computed(()=>e.value||English))},useLockscreen=e=>{if(isRef(e)||throwError("[useLockscreen]","You need to pass a ref param to this function"),!isClient||hasClass(document.body,"el-popup-parent--hidden"))return;let t=0,r=!1,d="0",u=0;const c=()=>{removeClass(document.body,"el-popup-parent--hidden"),r&&(document.body.style.paddingRight=d)};watch(e,v=>{if(!v){c();return}r=!hasClass(document.body,"el-popup-parent--hidden"),r&&(d=document.body.style.paddingRight,u=parseInt(getStyle(document.body,"paddingRight"),10)),t=getScrollBarWidth();const g=document.documentElement.clientHeight<document.body.scrollHeight,y=getStyle(document.body,"overflowY");t>0&&(g||y==="scroll")&&r&&(document.body.style.paddingRight=`${u+t}px`),addClass(document.body,"el-popup-parent--hidden")}),onScopeDispose(()=>c())},modalStack=[],closeModal=e=>{modalStack.length!==0&&e.code===EVENT_CODE.esc&&(e.stopPropagation(),modalStack[modalStack.length-1].handleClose())},useModal=(e,t)=>{watch(t,r=>{r?modalStack.push(e):modalStack.splice(modalStack.findIndex(d=>d===e),1)})};isClient&&useEventListener(document,"keydown",closeModal);const createModelToggleComposable=e=>{const t={[e]:buildProp({type:definePropType(Boolean),default:null}),[`onUpdate:${e}`]:buildProp({type:definePropType(Function)})},r=[`update:${e}`];return{useModelToggle:({indicator:u,shouldHideWhenRouteChanges:c,shouldProceed:v,onShow:g,onHide:y})=>{const o=getCurrentInstance(),n=o.props,{emit:s}=o,i=`update:${e}`,a=computed(()=>isFunction$1(n[`onUpdate:${e}`])),m=computed(()=>n[e]===null),f=()=>{u.value!==!0&&(u.value=!0,isFunction$1(g)&&g())},b=()=>{u.value!==!1&&(u.value=!1,isFunction$1(y)&&y())},C=()=>{if(n.disabled===!0||isFunction$1(v)&&!v())return;const S=a.value&&isClient;S&&s(i,!0),(m.value||!S)&&f()},_=()=>{if(n.disabled===!0||!isClient)return;const S=a.value&&isClient;S&&s(i,!1),(m.value||!S)&&b()},w=S=>{!isBoolean(S)||(n.disabled&&S?a.value&&s(i,!1):u.value!==S&&(S?f():b()))},M=()=>{u.value?_():C()};return watch(()=>n[e],w),c&&o.appContext.config.globalProperties.$route!==void 0&&watch(()=>({...o.proxy.$route}),()=>{c.value&&u.value&&_()}),onMounted(()=>{w(n[e])}),{hide:_,show:C,toggle:M}},useModelToggleProps:t,useModelToggleEmits:r}};createModelToggleComposable("modelValue");const useRestoreActive=(e,t)=>{let r;watch(()=>e.value,d=>{var u,c;d?(r=document.activeElement,isRef(t)&&((c=(u=t.value).focus)==null||c.call(u))):r.focus()})},useSameTarget=e=>{if(!e)return{onClick:NOOP,onMousedown:NOOP,onMouseup:NOOP};let t=!1,r=!1;return{onClick:v=>{t&&r&&e(v),t=r=!1},onMousedown:v=>{t=v.target===v.currentTarget},onMouseup:v=>{r=v.target===v.currentTarget}}};function useTimeout(){let e;const t=(d,u)=>{r(),e=window.setTimeout(d,u)},r=()=>window.clearTimeout(e);return tryOnScopeDispose(()=>r()),{registerTimeout:t,cancelTimeout:r}}const defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useId=e=>{const t=inject(ID_INJECTION_KEY,defaultIdInjection);return computed(()=>unref(e)||`el-id-${t.prefix}-${t.current++}`)},useEscapeKeydown=e=>{const t=r=>{const d=r;d.key===EVENT_CODE.esc&&(e==null||e(d))};onMounted(()=>{on(document,"keydown",t)}),onBeforeUnmount(()=>{off(document,"keydown",t)})};let cachedContainer;const POPPER_CONTAINER_ID=`el-popper-container-${generateId()}`,POPPER_CONTAINER_SELECTOR=`#${POPPER_CONTAINER_ID}`,usePopperContainer=()=>{onBeforeMount(()=>{if(!!isClient&&!cachedContainer){const e=document.createElement("div");e.id=POPPER_CONTAINER_ID,document.body.appendChild(e),cachedContainer=e}})},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),useDelayedToggle=({showAfter:e,hideAfter:t,open:r,close:d})=>{const{registerTimeout:u}=useTimeout();return{onOpen:()=>{u(()=>{r()},unref(e))},onClose:()=>{u(()=>{d()},unref(t))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=e=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:r=>{e.value=r}})},useForwardRefDirective=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),defaultNamespace="el",statePrefix="is-",_bem=(e,t,r,d,u)=>{let c=`${e}-${t}`;return r&&(c+=`-${r}`),d&&(c+=`__${d}`),u&&(c+=`--${u}`),c},useNamespace=e=>{const t=useGlobalConfig("namespace"),r=computed(()=>t.value||defaultNamespace);return{namespace:r,b:(s="")=>_bem(unref(r),e,s,"",""),e:s=>s?_bem(unref(r),e,"",s,""):"",m:s=>s?_bem(unref(r),e,"","",s):"",be:(s,i)=>s&&i?_bem(unref(r),e,s,i,""):"",em:(s,i)=>s&&i?_bem(unref(r),e,"",s,i):"",bm:(s,i)=>s&&i?_bem(unref(r),e,s,"",i):"",bem:(s,i,a)=>s&&i&&a?_bem(unref(r),e,s,i,a):"",is:(s,...i)=>{const a=i.length>=1?i[0]:!0;return s&&a?`${statePrefix}${s}`:""}}},zIndex=ref(0),useZIndex=()=>{const e=useGlobalConfig("zIndex",2e3),t=computed(()=>e.value+zIndex.value);return{initialZIndex:e,currentZIndex:t,nextZIndex:()=>(zIndex.value++,t.value)}};var _export_sfc$1=(e,t)=>{const r=e.__vccOpts||e;for(const[d,u]of t)r[d]=u;return r};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$1={name:"ElIcon",inheritAttrs:!1},_sfc_main$O=defineComponent({...__default__$1,props:iconProps,setup(e){const t=e,r=useNamespace("icon"),d=computed(()=>!t.size&&!t.color?{}:{fontSize:isUndefined(t.size)?void 0:addUnit(t.size),"--color":t.color});return(u,c)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(r).b(),style:unref(d)},u.$attrs),[renderSlot(u.$slots,"default")],16))}}),ElIcon=withInstall(_sfc_main$O),nodeList=new Map;let startClick;isClient&&(on(document,"mousedown",e=>startClick=e),on(document,"mouseup",e=>{for(const t of nodeList.values())for(const{documentHandler:r}of t)r(e,startClick)}));function createDocumentHandler(e,t){let r=[];return Array.isArray(t.arg)?r=t.arg:t.arg instanceof HTMLElement&&r.push(t.arg),function(d,u){const c=t.instance.popperRef,v=d.target,g=u==null?void 0:u.target,y=!t||!t.instance,o=!v||!g,n=e.contains(v)||e.contains(g),s=e===v,i=r.length&&r.some(m=>m==null?void 0:m.contains(v))||r.length&&r.includes(g),a=c&&(c.contains(v)||c.contains(g));y||o||n||s||i||a||t.value(d,u)}}const ClickOutside={beforeMount(e,t){nodeList.has(e)||nodeList.set(e,[]),nodeList.get(e).push({documentHandler:createDocumentHandler(e,t),bindingFn:t.value})},updated(e,t){nodeList.has(e)||nodeList.set(e,[]);const r=nodeList.get(e),d=r.findIndex(c=>c.bindingFn===t.oldValue),u={documentHandler:createDocumentHandler(e,t),bindingFn:t.value};d>=0?r.splice(d,1,u):r.push(u)},unmounted(e){nodeList.delete(e)}},FOCUSABLE_CHILDREN="_trap-focus-children",FOCUS_STACK=[],FOCUS_HANDLER=e=>{if(FOCUS_STACK.length===0)return;const t=FOCUS_STACK[FOCUS_STACK.length-1][FOCUSABLE_CHILDREN];if(t.length>0&&e.code===EVENT_CODE.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const r=e.shiftKey,d=e.target===t[0],u=e.target===t[t.length-1];d&&r&&(e.preventDefault(),t[t.length-1].focus()),u&&!r&&(e.preventDefault(),t[0].focus())}},TrapFocus={beforeMount(e){e[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(e),FOCUS_STACK.push(e),FOCUS_STACK.length<=1&&on(document,"keydown",FOCUS_HANDLER)},updated(e){nextTick(()=>{e[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(e)})},unmounted(){FOCUS_STACK.shift(),FOCUS_STACK.length===0&&off(document,"keydown",FOCUS_HANDLER)}};let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(e){const t=window.getComputedStyle(e),r=t.getPropertyValue("box-sizing"),d=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),u=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(v=>`${v}:${t.getPropertyValue(v)}`).join(";"),paddingSize:d,borderSize:u,boxSizing:r}}function calcTextareaHeight(e,t=1,r){var d;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:u,borderSize:c,boxSizing:v,contextStyle:g}=calculateNodeStyling(e);hiddenTextarea.setAttribute("style",`${g};${HIDDEN_STYLE}`),hiddenTextarea.value=e.value||e.placeholder||"";let y=hiddenTextarea.scrollHeight;const o={};v==="border-box"?y=y+c:v==="content-box"&&(y=y-u),hiddenTextarea.value="";const n=hiddenTextarea.scrollHeight-u;if(isNumber(t)){let s=n*t;v==="border-box"&&(s=s+u+c),y=Math.max(s,y),o.minHeight=`${s}px`}if(isNumber(r)){let s=n*r;v==="border-box"&&(s=s+u+c),y=Math.min(s,y)}return o.height=`${y}px`,(d=hiddenTextarea.parentNode)==null||d.removeChild(hiddenTextarea),hiddenTextarea=void 0,o}const inputProps=buildProps({size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType(void 0),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType,default:""},prefixIcon:{type:iconPropType,default:""},label:{type:String},tabindex:{type:[Number,String]},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})}}),inputEmits={[UPDATE_MODEL_EVENT]:e=>isString$1(e),input:e=>isString$1(e),change:e=>isString$1(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof KeyboardEvent,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},PENDANT_MAP={suffix:"append",prefix:"prepend"},_sfc_main$N=defineComponent({name:"ElInput",components:{ElIcon,CircleClose:circleClose,IconView:view},inheritAttrs:!1,props:inputProps,emits:inputEmits,setup(e,{slots:t,emit:r,attrs:d}){const u=getCurrentInstance(),c=useAttrs(),{form:v,formItem:g}=useFormItem(),y=useSize(),o=useDisabled$1(),n=useNamespace("input"),s=useNamespace("textarea"),i=ref(),a=ref(),m=ref(!1),f=ref(!1),b=ref(!1),C=ref(!1),_=shallowRef(e.inputStyle),w=computed(()=>i.value||a.value),M=computed(()=>{var de;return(de=v==null?void 0:v.statusIcon)!=null?de:!1}),S=computed(()=>(g==null?void 0:g.validateState)||""),I=computed(()=>ValidateComponentsMap[S.value]),x=computed(()=>d.style),E=computed(()=>[e.inputStyle,_.value,{resize:e.resize}]),D=computed(()=>e.modelValue===null||e.modelValue===void 0?"":String(e.modelValue)),R=computed(()=>e.clearable&&!o.value&&!e.readonly&&!!D.value&&(m.value||f.value)),q=computed(()=>e.showPassword&&!o.value&&!e.readonly&&(!!D.value||m.value)),A=computed(()=>e.showWordLimit&&!!c.value.maxlength&&(e.type==="text"||e.type==="textarea")&&!o.value&&!e.readonly&&!e.showPassword),j=computed(()=>Array.from(D.value).length),H=computed(()=>!!A.value&&j.value>Number(c.value.maxlength)),W=()=>{const{type:de,autosize:ge}=e;if(!(!isClient||de!=="textarea"))if(ge){const _e=isObject$1(ge)?ge.minRows:void 0,fe=isObject$1(ge)?ge.maxRows:void 0;_.value={...calcTextareaHeight(a.value,_e,fe)}}else _.value={minHeight:calcTextareaHeight(a.value).minHeight}},X=()=>{const de=w.value;!de||de.value===D.value||(de.value=D.value)},ee=de=>{const{el:ge}=u.vnode;if(!ge)return;const fe=Array.from(ge.querySelectorAll(`.${n.e(de)}`)).find(ke=>ke.parentNode===ge);if(!fe)return;const we=PENDANT_MAP[de];t[we]?fe.style.transform=`translateX(${de==="suffix"?"-":""}${ge.querySelector(`.${n.be("group",we)}`).offsetWidth}px)`:fe.removeAttribute("style")},ae=()=>{ee("prefix"),ee("suffix")},N=de=>{const{value:ge}=de.target;b.value||ge!==D.value&&(r(UPDATE_MODEL_EVENT,ge),r("input",ge),nextTick(X))},k=de=>{r("change",de.target.value)},L=()=>{nextTick(()=>{var de;(de=w.value)==null||de.focus()})},$=()=>{var de;(de=w.value)==null||de.blur()},B=de=>{m.value=!0,r("focus",de)},G=de=>{var ge;m.value=!1,r("blur",de),e.validateEvent&&((ge=g==null?void 0:g.validate)==null||ge.call(g,"blur"))},Z=()=>{var de;(de=w.value)==null||de.select()},re=de=>{r("compositionstart",de),b.value=!0},z=de=>{var ge;r("compositionupdate",de);const _e=(ge=de.target)==null?void 0:ge.value,fe=_e[_e.length-1]||"";b.value=!isKorean(fe)},ie=de=>{r("compositionend",de),b.value&&(b.value=!1,N(de))},se=()=>{r(UPDATE_MODEL_EVENT,""),r("change",""),r("clear"),r("input","")},Ce=()=>{C.value=!C.value,L()},Se=computed(()=>!!t.suffix||!!e.suffixIcon||R.value||e.showPassword||A.value||!!S.value&&M.value);return watch(()=>e.modelValue,()=>{var de;nextTick(W),e.validateEvent&&((de=g==null?void 0:g.validate)==null||de.call(g,"change"))}),watch(D,()=>X()),watch(()=>e.type,()=>{nextTick(()=>{X(),W(),ae()})}),onMounted(()=>{X(),ae(),nextTick(W)}),onUpdated(()=>{nextTick(ae)}),{input:i,textarea:a,attrs:c,inputSize:y,validateState:S,validateIcon:I,containerStyle:x,computedTextareaStyle:E,inputDisabled:o,showClear:R,showPwdVisible:q,isWordLimitVisible:A,textLength:j,hovering:f,inputExceed:H,passwordVisible:C,inputOrTextarea:w,suffixVisible:Se,needStatusIcon:M,resizeTextarea:W,handleInput:N,handleChange:k,handleFocus:B,handleBlur:G,handleCompositionStart:re,handleCompositionUpdate:z,handleCompositionEnd:ie,handlePasswordVisible:Ce,clear:se,select:Z,focus:L,blur:$,onMouseLeave:de=>{f.value=!1,r("mouseleave",de)},onMouseEnter:de=>{f.value=!0,r("mouseenter",de)},handleKeydown:de=>{r("keydown",de)},nsInput:n,nsTextarea:s}}}),_hoisted_1$l=["type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder"],_hoisted_2$e=["tabindex","disabled","readonly","autocomplete","aria-label","placeholder"];function _sfc_render$E(e,t,r,d,u,c){const v=resolveComponent("el-icon"),g=resolveComponent("circle-close"),y=resolveComponent("icon-view");return withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass([e.type==="textarea"?e.nsTextarea.b():e.nsInput.b(),e.nsInput.m(e.inputSize),e.nsInput.is("disabled",e.inputDisabled),e.nsInput.is("exceed",e.inputExceed),{[e.nsInput.b("group")]:e.$slots.prepend||e.$slots.append,[e.nsInput.bm("group","append")]:e.$slots.append,[e.nsInput.bm("group","prepend")]:e.$slots.prepend,[e.nsInput.m("prefix")]:e.$slots.prefix||e.prefixIcon,[e.nsInput.m("suffix")]:e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword,[e.nsInput.m("suffix--password-clear")]:e.clearable&&e.showPassword},e.$attrs.class]),style:normalizeStyle(e.containerStyle),onMouseenter:t[17]||(t[17]=(...o)=>e.onMouseEnter&&e.onMouseEnter(...o)),onMouseleave:t[18]||(t[18]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o))},[createCommentVNode(" input "),e.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),e.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(e.nsInput.be("group","prepend"))},[renderSlot(e.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({ref:"input",class:e.nsInput.e("inner")},e.attrs,{type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,onCompositionstart:t[0]||(t[0]=(...o)=>e.handleCompositionStart&&e.handleCompositionStart(...o)),onCompositionupdate:t[1]||(t[1]=(...o)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...o)),onCompositionend:t[2]||(t[2]=(...o)=>e.handleCompositionEnd&&e.handleCompositionEnd(...o)),onInput:t[3]||(t[3]=(...o)=>e.handleInput&&e.handleInput(...o)),onFocus:t[4]||(t[4]=(...o)=>e.handleFocus&&e.handleFocus(...o)),onBlur:t[5]||(t[5]=(...o)=>e.handleBlur&&e.handleBlur(...o)),onChange:t[6]||(t[6]=(...o)=>e.handleChange&&e.handleChange(...o)),onKeydown:t[7]||(t[7]=(...o)=>e.handleKeydown&&e.handleKeydown(...o))}),null,16,_hoisted_1$l),createCommentVNode(" prefix slot "),e.$slots.prefix||e.prefixIcon?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(e.nsInput.e("prefix"))},[createBaseVNode("span",{class:normalizeClass(e.nsInput.e("prefix-inner"))},[renderSlot(e.$slots,"prefix"),e.prefixIcon?(openBlock(),createBlock(v,{key:0,class:normalizeClass(e.nsInput.e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(e.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createCommentVNode(" suffix slot "),e.suffixVisible?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(e.nsInput.e("suffix"))},[createBaseVNode("span",{class:normalizeClass(e.nsInput.e("suffix-inner"))},[!e.showClear||!e.showPwdVisible||!e.isWordLimitVisible?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(e.$slots,"suffix"),e.suffixIcon?(openBlock(),createBlock(v,{key:0,class:normalizeClass(e.nsInput.e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(e.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),e.showClear?(openBlock(),createBlock(v,{key:1,class:normalizeClass([e.nsInput.e("icon"),e.nsInput.e("clear")]),onMousedown:t[8]||(t[8]=withModifiers(()=>{},["prevent"])),onClick:e.clear},{default:withCtx(()=>[createVNode(g)]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),e.showPwdVisible?(openBlock(),createBlock(v,{key:2,class:normalizeClass([e.nsInput.e("icon"),e.nsInput.e("clear")]),onClick:e.handlePasswordVisible},{default:withCtx(()=>[createVNode(y)]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),e.isWordLimitVisible?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(e.nsInput.e("count"))},[createBaseVNode("span",{class:normalizeClass(e.nsInput.e("count-inner"))},toDisplayString(e.textLength)+" / "+toDisplayString(e.attrs.maxlength),3)],2)):createCommentVNode("v-if",!0)],2),e.validateState&&e.validateIcon&&e.needStatusIcon?(openBlock(),createBlock(v,{key:0,class:normalizeClass([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(e.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createCommentVNode(" append slot "),e.$slots.append?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(e.nsInput.be("group","append"))},[renderSlot(e.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({ref:"textarea",class:e.nsTextarea.e("inner")},e.attrs,{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autocomplete,style:e.computedTextareaStyle,"aria-label":e.label,placeholder:e.placeholder,onCompositionstart:t[9]||(t[9]=(...o)=>e.handleCompositionStart&&e.handleCompositionStart(...o)),onCompositionupdate:t[10]||(t[10]=(...o)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...o)),onCompositionend:t[11]||(t[11]=(...o)=>e.handleCompositionEnd&&e.handleCompositionEnd(...o)),onInput:t[12]||(t[12]=(...o)=>e.handleInput&&e.handleInput(...o)),onFocus:t[13]||(t[13]=(...o)=>e.handleFocus&&e.handleFocus(...o)),onBlur:t[14]||(t[14]=(...o)=>e.handleBlur&&e.handleBlur(...o)),onChange:t[15]||(t[15]=(...o)=>e.handleChange&&e.handleChange(...o)),onKeydown:t[16]||(t[16]=(...o)=>e.handleKeydown&&e.handleKeydown(...o))}),null,16,_hoisted_2$e),e.isWordLimitVisible?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(e.nsInput.e("count"))},toDisplayString(e.textLength)+" / "+toDisplayString(e.attrs.maxlength),3)):createCommentVNode("v-if",!0)],64))],38)),[[vShow,e.type!=="hidden"]])}var Input=_export_sfc$1(_sfc_main$N,[["render",_sfc_render$E]]);const ElInput=withInstall(Input),BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle=({move:e,size:t,bar:r})=>({[r.size]:t,transform:`translate${r.axis}(${e}%)`}),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$1="Thumb",_sfc_main$M=defineComponent({name:COMPONENT_NAME$1,props:thumbProps,setup(e){const t=inject(scrollbarContextKey),r=useNamespace("scrollbar");t||throwError(COMPONENT_NAME$1,"can not inject scrollbar context");const d=ref(),u=ref(),c=ref({}),v=ref(!1);let g=!1,y=!1,o=isClient?document.onselectstart:null;const n=computed(()=>BAR_MAP[e.vertical?"vertical":"horizontal"]),s=computed(()=>renderThumbStyle({size:e.size,move:e.move,bar:n.value})),i=computed(()=>d.value[n.value.offset]**2/t.wrapElement[n.value.scrollSize]/e.ratio/u.value[n.value.offset]),a=S=>{var I;if(S.stopPropagation(),S.ctrlKey||[1,2].includes(S.button))return;(I=window.getSelection())==null||I.removeAllRanges(),f(S);const x=S.currentTarget;!x||(c.value[n.value.axis]=x[n.value.offset]-(S[n.value.client]-x.getBoundingClientRect()[n.value.direction]))},m=S=>{if(!u.value||!d.value||!t.wrapElement)return;const I=Math.abs(S.target.getBoundingClientRect()[n.value.direction]-S[n.value.client]),x=u.value[n.value.offset]/2,E=(I-x)*100*i.value/d.value[n.value.offset];t.wrapElement[n.value.scroll]=E*t.wrapElement[n.value.scrollSize]/100},f=S=>{S.stopImmediatePropagation(),g=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",C),o=document.onselectstart,document.onselectstart=()=>!1},b=S=>{if(!d.value||!u.value||g===!1)return;const I=c.value[n.value.axis];if(!I)return;const x=(d.value.getBoundingClientRect()[n.value.direction]-S[n.value.client])*-1,E=u.value[n.value.offset]-I,D=(x-E)*100*i.value/d.value[n.value.offset];t.wrapElement[n.value.scroll]=D*t.wrapElement[n.value.scrollSize]/100},C=()=>{g=!1,c.value[n.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",C),M(),y&&(v.value=!1)},_=()=>{y=!1,v.value=!!e.size},w=()=>{y=!0,v.value=g};onBeforeUnmount(()=>{M(),document.removeEventListener("mouseup",C)});const M=()=>{document.onselectstart!==o&&(document.onselectstart=o)};return useEventListener(toRef(t,"scrollbarElement"),"mousemove",_),useEventListener(toRef(t,"scrollbarElement"),"mouseleave",w),{ns:r,instance:d,thumb:u,bar:n,thumbStyle:s,visible:v,clickTrackHandler:m,clickThumbHandler:a}}});function _sfc_render$D(e,t,r,d,u,c){return openBlock(),createBlock(Transition,{name:e.ns.b("fade")},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref:"instance",class:normalizeClass([e.ns.e("bar"),e.ns.is(e.bar.key)]),onMousedown:t[1]||(t[1]=(...v)=>e.clickTrackHandler&&e.clickTrackHandler(...v))},[createBaseVNode("div",{ref:"thumb",class:normalizeClass(e.ns.e("thumb")),style:normalizeStyle(e.thumbStyle),onMousedown:t[0]||(t[0]=(...v)=>e.clickThumbHandler&&e.clickThumbHandler(...v))},null,38)],34),[[vShow,e.always||e.visible]])]),_:1},8,["name"])}var Thumb=_export_sfc$1(_sfc_main$M,[["render",_sfc_render$D]]);const barProps=buildProps({always:{type:Boolean,default:!0},width:{type:String,default:""},height:{type:String,default:""},ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),_sfc_main$L=defineComponent({components:{Thumb},props:barProps,setup(e){const t=ref(0),r=ref(0),d=4;return{handleScroll:c=>{if(c){const v=c.offsetHeight-d,g=c.offsetWidth-d;r.value=c.scrollTop*100/v*e.ratioY,t.value=c.scrollLeft*100/g*e.ratioX}},moveX:t,moveY:r}}});function _sfc_render$C(e,t,r,d,u,c){const v=resolveComponent("thumb");return openBlock(),createElementBlock(Fragment,null,[createVNode(v,{move:e.moveX,ratio:e.ratioX,size:e.width,always:e.always},null,8,["move","ratio","size","always"]),createVNode(v,{move:e.moveY,ratio:e.ratioY,size:e.height,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64)}var Bar=_export_sfc$1(_sfc_main$L,[["render",_sfc_render$C]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}}),scrollbarEmits={scroll:({scrollTop:e,scrollLeft:t})=>isNumber(e)&&isNumber(t)},_sfc_main$K=defineComponent({name:"ElScrollbar",components:{Bar},props:scrollbarProps,emits:scrollbarEmits,setup(e,{emit:t}){const r=useNamespace("scrollbar");let d,u;const c=ref(),v=ref(),g=ref(),y=ref("0"),o=ref("0"),n=ref(),s=ref(0),i=ref(0),a=ref(1),m=ref(1),f=4,b=computed(()=>{const S={};return e.height&&(S.height=addUnit(e.height)),e.maxHeight&&(S.maxHeight=addUnit(e.maxHeight)),[e.wrapStyle,S]}),C=()=>{var S;v.value&&((S=n.value)==null||S.handleScroll(v.value),t("scroll",{scrollTop:v.value.scrollTop,scrollLeft:v.value.scrollLeft}))},_=S=>{!isNumber(S)||(v.value.scrollTop=S)},w=S=>{!isNumber(S)||(v.value.scrollLeft=S)},M=()=>{if(!v.value)return;const S=v.value.offsetHeight-f,I=v.value.offsetWidth-f,x=S**2/v.value.scrollHeight,E=I**2/v.value.scrollWidth,D=Math.max(x,e.minSize),R=Math.max(E,e.minSize);a.value=x/(S-x)/(D/(S-D)),m.value=E/(I-E)/(R/(I-R)),o.value=D+f<S?`${D}px`:"",y.value=R+f<I?`${R}px`:""};return watch(()=>e.noresize,S=>{S?(d==null||d(),u==null||u()):({stop:d}=useResizeObserver(g,M),u=useEventListener("resize",M))},{immediate:!0}),watch(()=>[e.maxHeight,e.height],()=>{e.native||nextTick(()=>{var S;M(),v.value&&((S=n.value)==null||S.handleScroll(v.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:c,wrapElement:v})),onMounted(()=>{e.native||nextTick(()=>M())}),{ns:r,scrollbar$:c,wrap$:v,resize$:g,barRef:n,moveX:s,moveY:i,ratioX:m,ratioY:a,sizeWidth:y,sizeHeight:o,style:b,update:M,handleScroll:C,setScrollTop:_,setScrollLeft:w}}});function _sfc_render$B(e,t,r,d,u,c){const v=resolveComponent("bar");return openBlock(),createElementBlock("div",{ref:"scrollbar$",class:normalizeClass(e.ns.b())},[createBaseVNode("div",{ref:"wrap$",class:normalizeClass([e.wrapClass,e.ns.e("wrap"),{[e.ns.em("wrap","hidden-default")]:!e.native}]),style:normalizeStyle(e.style),onScroll:t[0]||(t[0]=(...g)=>e.handleScroll&&e.handleScroll(...g))},[(openBlock(),createBlock(resolveDynamicComponent(e.tag),{ref:"resize$",class:normalizeClass([e.ns.e("view"),e.viewClass]),style:normalizeStyle(e.viewStyle)},{default:withCtx(()=>[renderSlot(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(v,{key:0,ref:"barRef",height:e.sizeHeight,width:e.sizeWidth,always:e.always,"ratio-x":e.ratioX,"ratio-y":e.ratioY},null,8,["height","width","always","ratio-x","ratio-y"]))],2)}var Scrollbar=_export_sfc$1(_sfc_main$K,[["render",_sfc_render$B]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("elPopper"),POPPER_CONTENT_INJECTION_KEY=Symbol("elPopperContent"),_sfc_main$J=defineComponent({name:"ElPopperProvider",inheritAttrs:!1,setup(){const e={triggerRef:ref(null),popperInstanceRef:ref(null),contentRef:ref(null)};return provide(POPPER_INJECTION_KEY,e),e}});function _sfc_render$A(e,t,r,d,u,c){return renderSlot(e.$slots,"default")}var Popper=_export_sfc$1(_sfc_main$J,[["render",_sfc_render$A]]),top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper$1="popper",reference="reference",variationPlacements=basePlacements.reduce(function(e,t){return e.concat([t+"-"+start,t+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(e,t){return e.concat([t,t+"-"+start,t+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getWindow(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function isElement(e){var t=getWindow(e).Element;return e instanceof t||e instanceof Element}function isHTMLElement(e){var t=getWindow(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function isShadowRoot(e){if(typeof ShadowRoot=="undefined")return!1;var t=getWindow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function applyStyles(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var d=t.styles[r]||{},u=t.attributes[r]||{},c=t.elements[r];!isHTMLElement(c)||!getNodeName(c)||(Object.assign(c.style,d),Object.keys(u).forEach(function(v){var g=u[v];g===!1?c.removeAttribute(v):c.setAttribute(v,g===!0?"":g)}))})}function effect$2(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(d){var u=t.elements[d],c=t.attributes[d]||{},v=Object.keys(t.styles.hasOwnProperty(d)?t.styles[d]:r[d]),g=v.reduce(function(y,o){return y[o]="",y},{});!isHTMLElement(u)||!getNodeName(u)||(Object.assign(u.style,g),Object.keys(c).forEach(function(y){u.removeAttribute(y)}))})}}var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(e){return e.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var d=e.getBoundingClientRect(),u=1,c=1;t&&isHTMLElement(e)&&(u=e.offsetWidth>0&&round(d.width)/e.offsetWidth||1,c=e.offsetHeight>0&&round(d.height)/e.offsetHeight||1);var v=isElement(e)?getWindow(e):window,g=v.visualViewport,y=!isLayoutViewport()&&r,o=(d.left+(y&&g?g.offsetLeft:0))/u,n=(d.top+(y&&g?g.offsetTop:0))/c,s=d.width/u,i=d.height/c;return{width:s,height:i,top:n,right:o+s,bottom:n+i,left:o,x:o,y:n}}function getLayoutRect(e){var t=getBoundingClientRect(e),r=e.offsetWidth,d=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-d)<=1&&(d=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:d}}function contains(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&isShadowRoot(r)){var d=t;do{if(d&&e.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getDocumentElement(e){return((isElement(e)?e.ownerDocument:e.document)||window.document).documentElement}function getParentNode(e){return getNodeName(e)==="html"?e:e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getTrueOffsetParent(e){return!isHTMLElement(e)||getComputedStyle$1(e).position==="fixed"?null:e.offsetParent}function getContainingBlock(e){var t=/firefox/i.test(getUAString()),r=/Trident/i.test(getUAString());if(r&&isHTMLElement(e)){var d=getComputedStyle$1(e);if(d.position==="fixed")return null}var u=getParentNode(e);for(isShadowRoot(u)&&(u=u.host);isHTMLElement(u)&&["html","body"].indexOf(getNodeName(u))<0;){var c=getComputedStyle$1(u);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||t&&c.willChange==="filter"||t&&c.filter&&c.filter!=="none")return u;u=u.parentNode}return null}function getOffsetParent(e){for(var t=getWindow(e),r=getTrueOffsetParent(e);r&&isTableElement(r)&&getComputedStyle$1(r).position==="static";)r=getTrueOffsetParent(r);return r&&(getNodeName(r)==="html"||getNodeName(r)==="body"&&getComputedStyle$1(r).position==="static")?t:r||getContainingBlock(e)||t}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function within(e,t,r){return max(e,min(t,r))}function withinMaxClamp(e,t,r){var d=within(e,t,r);return d>r?r:d}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(e){return Object.assign({},getFreshSideObject(),e)}function expandToHashMap(e,t){return t.reduce(function(r,d){return r[d]=e,r},{})}var toPaddingObject=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,mergePaddingObject(typeof t!="number"?t:expandToHashMap(t,basePlacements))};function arrow(e){var t,r=e.state,d=e.name,u=e.options,c=r.elements.arrow,v=r.modifiersData.popperOffsets,g=getBasePlacement(r.placement),y=getMainAxisFromPlacement(g),o=[left,right].indexOf(g)>=0,n=o?"height":"width";if(!(!c||!v)){var s=toPaddingObject(u.padding,r),i=getLayoutRect(c),a=y==="y"?top:left,m=y==="y"?bottom:right,f=r.rects.reference[n]+r.rects.reference[y]-v[y]-r.rects.popper[n],b=v[y]-r.rects.reference[y],C=getOffsetParent(c),_=C?y==="y"?C.clientHeight||0:C.clientWidth||0:0,w=f/2-b/2,M=s[a],S=_-i[n]-s[m],I=_/2-i[n]/2+w,x=within(M,I,S),E=y;r.modifiersData[d]=(t={},t[E]=x,t.centerOffset=x-I,t)}}function effect$1(e){var t=e.state,r=e.options,d=r.element,u=d===void 0?"[data-popper-arrow]":d;u!=null&&(typeof u=="string"&&(u=t.elements.popper.querySelector(u),!u)||!contains(t.elements.popper,u)||(t.elements.arrow=u))}var arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(e){return e.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(e){var t=e.x,r=e.y,d=window,u=d.devicePixelRatio||1;return{x:round(t*u)/u||0,y:round(r*u)/u||0}}function mapToStyles(e){var t,r=e.popper,d=e.popperRect,u=e.placement,c=e.variation,v=e.offsets,g=e.position,y=e.gpuAcceleration,o=e.adaptive,n=e.roundOffsets,s=e.isFixed,i=v.x,a=i===void 0?0:i,m=v.y,f=m===void 0?0:m,b=typeof n=="function"?n({x:a,y:f}):{x:a,y:f};a=b.x,f=b.y;var C=v.hasOwnProperty("x"),_=v.hasOwnProperty("y"),w=left,M=top,S=window;if(o){var I=getOffsetParent(r),x="clientHeight",E="clientWidth";if(I===getWindow(r)&&(I=getDocumentElement(r),getComputedStyle$1(I).position!=="static"&&g==="absolute"&&(x="scrollHeight",E="scrollWidth")),I=I,u===top||(u===left||u===right)&&c===end){M=bottom;var D=s&&I===S&&S.visualViewport?S.visualViewport.height:I[x];f-=D-d.height,f*=y?1:-1}if(u===left||(u===top||u===bottom)&&c===end){w=right;var R=s&&I===S&&S.visualViewport?S.visualViewport.width:I[E];a-=R-d.width,a*=y?1:-1}}var q=Object.assign({position:g},o&&unsetSides),A=n===!0?roundOffsetsByDPR({x:a,y:f}):{x:a,y:f};if(a=A.x,f=A.y,y){var j;return Object.assign({},q,(j={},j[M]=_?"0":"",j[w]=C?"0":"",j.transform=(S.devicePixelRatio||1)<=1?"translate("+a+"px, "+f+"px)":"translate3d("+a+"px, "+f+"px, 0)",j))}return Object.assign({},q,(t={},t[M]=_?f+"px":"",t[w]=C?a+"px":"",t.transform="",t))}function computeStyles(e){var t=e.state,r=e.options,d=r.gpuAcceleration,u=d===void 0?!0:d,c=r.adaptive,v=c===void 0?!0:c,g=r.roundOffsets,y=g===void 0?!0:g,o={placement:getBasePlacement(t.placement),variation:getVariation(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:u,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,mapToStyles(Object.assign({},o,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:v,roundOffsets:y})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,mapToStyles(Object.assign({},o,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}},passive={passive:!0};function effect(e){var t=e.state,r=e.instance,d=e.options,u=d.scroll,c=u===void 0?!0:u,v=d.resize,g=v===void 0?!0:v,y=getWindow(t.elements.popper),o=[].concat(t.scrollParents.reference,t.scrollParents.popper);return c&&o.forEach(function(n){n.addEventListener("scroll",r.update,passive)}),g&&y.addEventListener("resize",r.update,passive),function(){c&&o.forEach(function(n){n.removeEventListener("scroll",r.update,passive)}),g&&y.removeEventListener("resize",r.update,passive)}}var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}},hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,function(t){return hash$1[t]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(e){return e.replace(/start|end/g,function(t){return hash[t]})}function getWindowScroll(e){var t=getWindow(e),r=t.pageXOffset,d=t.pageYOffset;return{scrollLeft:r,scrollTop:d}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getViewportRect(e,t){var r=getWindow(e),d=getDocumentElement(e),u=r.visualViewport,c=d.clientWidth,v=d.clientHeight,g=0,y=0;if(u){c=u.width,v=u.height;var o=isLayoutViewport();(o||!o&&t==="fixed")&&(g=u.offsetLeft,y=u.offsetTop)}return{width:c,height:v,x:g+getWindowScrollBarX(e),y}}function getDocumentRect(e){var t,r=getDocumentElement(e),d=getWindowScroll(e),u=(t=e.ownerDocument)==null?void 0:t.body,c=max(r.scrollWidth,r.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),v=max(r.scrollHeight,r.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),g=-d.scrollLeft+getWindowScrollBarX(e),y=-d.scrollTop;return getComputedStyle$1(u||r).direction==="rtl"&&(g+=max(r.clientWidth,u?u.clientWidth:0)-c),{width:c,height:v,x:g,y}}function isScrollParent(e){var t=getComputedStyle$1(e),r=t.overflow,d=t.overflowX,u=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+u+d)}function getScrollParent(e){return["html","body","#document"].indexOf(getNodeName(e))>=0?e.ownerDocument.body:isHTMLElement(e)&&isScrollParent(e)?e:getScrollParent(getParentNode(e))}function listScrollParents(e,t){var r;t===void 0&&(t=[]);var d=getScrollParent(e),u=d===((r=e.ownerDocument)==null?void 0:r.body),c=getWindow(d),v=u?[c].concat(c.visualViewport||[],isScrollParent(d)?d:[]):d,g=t.concat(v);return u?g:g.concat(listScrollParents(getParentNode(v)))}function rectToClientRect(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function getInnerBoundingClientRect(e,t){var r=getBoundingClientRect(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function getClientRectFromMixedType(e,t,r){return t===viewport?rectToClientRect(getViewportRect(e,r)):isElement(t)?getInnerBoundingClientRect(t,r):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){var t=listScrollParents(getParentNode(e)),r=["absolute","fixed"].indexOf(getComputedStyle$1(e).position)>=0,d=r&&isHTMLElement(e)?getOffsetParent(e):e;return isElement(d)?t.filter(function(u){return isElement(u)&&contains(u,d)&&getNodeName(u)!=="body"}):[]}function getClippingRect(e,t,r,d){var u=t==="clippingParents"?getClippingParents(e):[].concat(t),c=[].concat(u,[r]),v=c[0],g=c.reduce(function(y,o){var n=getClientRectFromMixedType(e,o,d);return y.top=max(n.top,y.top),y.right=min(n.right,y.right),y.bottom=min(n.bottom,y.bottom),y.left=max(n.left,y.left),y},getClientRectFromMixedType(e,v,d));return g.width=g.right-g.left,g.height=g.bottom-g.top,g.x=g.left,g.y=g.top,g}function computeOffsets(e){var t=e.reference,r=e.element,d=e.placement,u=d?getBasePlacement(d):null,c=d?getVariation(d):null,v=t.x+t.width/2-r.width/2,g=t.y+t.height/2-r.height/2,y;switch(u){case top:y={x:v,y:t.y-r.height};break;case bottom:y={x:v,y:t.y+t.height};break;case right:y={x:t.x+t.width,y:g};break;case left:y={x:t.x-r.width,y:g};break;default:y={x:t.x,y:t.y}}var o=u?getMainAxisFromPlacement(u):null;if(o!=null){var n=o==="y"?"height":"width";switch(c){case start:y[o]=y[o]-(t[n]/2-r[n]/2);break;case end:y[o]=y[o]+(t[n]/2-r[n]/2);break}}return y}function detectOverflow(e,t){t===void 0&&(t={});var r=t,d=r.placement,u=d===void 0?e.placement:d,c=r.strategy,v=c===void 0?e.strategy:c,g=r.boundary,y=g===void 0?clippingParents:g,o=r.rootBoundary,n=o===void 0?viewport:o,s=r.elementContext,i=s===void 0?popper$1:s,a=r.altBoundary,m=a===void 0?!1:a,f=r.padding,b=f===void 0?0:f,C=mergePaddingObject(typeof b!="number"?b:expandToHashMap(b,basePlacements)),_=i===popper$1?reference:popper$1,w=e.rects.popper,M=e.elements[m?_:i],S=getClippingRect(isElement(M)?M:M.contextElement||getDocumentElement(e.elements.popper),y,n,v),I=getBoundingClientRect(e.elements.reference),x=computeOffsets({reference:I,element:w,strategy:"absolute",placement:u}),E=rectToClientRect(Object.assign({},w,x)),D=i===popper$1?E:I,R={top:S.top-D.top+C.top,bottom:D.bottom-S.bottom+C.bottom,left:S.left-D.left+C.left,right:D.right-S.right+C.right},q=e.modifiersData.offset;if(i===popper$1&&q){var A=q[u];Object.keys(R).forEach(function(j){var H=[right,bottom].indexOf(j)>=0?1:-1,W=[top,bottom].indexOf(j)>=0?"y":"x";R[j]+=A[W]*H})}return R}function computeAutoPlacement(e,t){t===void 0&&(t={});var r=t,d=r.placement,u=r.boundary,c=r.rootBoundary,v=r.padding,g=r.flipVariations,y=r.allowedAutoPlacements,o=y===void 0?placements:y,n=getVariation(d),s=n?g?variationPlacements:variationPlacements.filter(function(m){return getVariation(m)===n}):basePlacements,i=s.filter(function(m){return o.indexOf(m)>=0});i.length===0&&(i=s);var a=i.reduce(function(m,f){return m[f]=detectOverflow(e,{placement:f,boundary:u,rootBoundary:c,padding:v})[getBasePlacement(f)],m},{});return Object.keys(a).sort(function(m,f){return a[m]-a[f]})}function getExpandedFallbackPlacements(e){if(getBasePlacement(e)===auto)return[];var t=getOppositePlacement(e);return[getOppositeVariationPlacement(e),t,getOppositeVariationPlacement(t)]}function flip(e){var t=e.state,r=e.options,d=e.name;if(!t.modifiersData[d]._skip){for(var u=r.mainAxis,c=u===void 0?!0:u,v=r.altAxis,g=v===void 0?!0:v,y=r.fallbackPlacements,o=r.padding,n=r.boundary,s=r.rootBoundary,i=r.altBoundary,a=r.flipVariations,m=a===void 0?!0:a,f=r.allowedAutoPlacements,b=t.options.placement,C=getBasePlacement(b),_=C===b,w=y||(_||!m?[getOppositePlacement(b)]:getExpandedFallbackPlacements(b)),M=[b].concat(w).reduce(function(G,Z){return G.concat(getBasePlacement(Z)===auto?computeAutoPlacement(t,{placement:Z,boundary:n,rootBoundary:s,padding:o,flipVariations:m,allowedAutoPlacements:f}):Z)},[]),S=t.rects.reference,I=t.rects.popper,x=new Map,E=!0,D=M[0],R=0;R<M.length;R++){var q=M[R],A=getBasePlacement(q),j=getVariation(q)===start,H=[top,bottom].indexOf(A)>=0,W=H?"width":"height",X=detectOverflow(t,{placement:q,boundary:n,rootBoundary:s,altBoundary:i,padding:o}),ee=H?j?right:left:j?bottom:top;S[W]>I[W]&&(ee=getOppositePlacement(ee));var ae=getOppositePlacement(ee),N=[];if(c&&N.push(X[A]<=0),g&&N.push(X[ee]<=0,X[ae]<=0),N.every(function(G){return G})){D=q,E=!1;break}x.set(q,N)}if(E)for(var k=m?3:1,L=function(Z){var re=M.find(function(z){var ie=x.get(z);if(ie)return ie.slice(0,Z).every(function(se){return se})});if(re)return D=re,"break"},$=k;$>0;$--){var B=L($);if(B==="break")break}t.placement!==D&&(t.modifiersData[d]._skip=!0,t.placement=D,t.reset=!0)}}var flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function isAnySideFullyClipped(e){return[top,right,bottom,left].some(function(t){return e[t]>=0})}function hide(e){var t=e.state,r=e.name,d=t.rects.reference,u=t.rects.popper,c=t.modifiersData.preventOverflow,v=detectOverflow(t,{elementContext:"reference"}),g=detectOverflow(t,{altBoundary:!0}),y=getSideOffsets(v,d),o=getSideOffsets(g,u,c),n=isAnySideFullyClipped(y),s=isAnySideFullyClipped(o);t.modifiersData[r]={referenceClippingOffsets:y,popperEscapeOffsets:o,isReferenceHidden:n,hasPopperEscaped:s},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":n,"data-popper-escaped":s})}var hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(e,t,r){var d=getBasePlacement(e),u=[left,top].indexOf(d)>=0?-1:1,c=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,v=c[0],g=c[1];return v=v||0,g=(g||0)*u,[left,right].indexOf(d)>=0?{x:g,y:v}:{x:v,y:g}}function offset(e){var t=e.state,r=e.options,d=e.name,u=r.offset,c=u===void 0?[0,0]:u,v=placements.reduce(function(n,s){return n[s]=distanceAndSkiddingToXY(s,t.rects,c),n},{}),g=v[t.placement],y=g.x,o=g.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=y,t.modifiersData.popperOffsets.y+=o),t.modifiersData[d]=v}var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(e){var t=e.state,r=e.name;t.modifiersData[r]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(e){return e==="x"?"y":"x"}function preventOverflow(e){var t=e.state,r=e.options,d=e.name,u=r.mainAxis,c=u===void 0?!0:u,v=r.altAxis,g=v===void 0?!1:v,y=r.boundary,o=r.rootBoundary,n=r.altBoundary,s=r.padding,i=r.tether,a=i===void 0?!0:i,m=r.tetherOffset,f=m===void 0?0:m,b=detectOverflow(t,{boundary:y,rootBoundary:o,padding:s,altBoundary:n}),C=getBasePlacement(t.placement),_=getVariation(t.placement),w=!_,M=getMainAxisFromPlacement(C),S=getAltAxis(M),I=t.modifiersData.popperOffsets,x=t.rects.reference,E=t.rects.popper,D=typeof f=="function"?f(Object.assign({},t.rects,{placement:t.placement})):f,R=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(!!I){if(c){var j,H=M==="y"?top:left,W=M==="y"?bottom:right,X=M==="y"?"height":"width",ee=I[M],ae=ee+b[H],N=ee-b[W],k=a?-E[X]/2:0,L=_===start?x[X]:E[X],$=_===start?-E[X]:-x[X],B=t.elements.arrow,G=a&&B?getLayoutRect(B):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject(),re=Z[H],z=Z[W],ie=within(0,x[X],G[X]),se=w?x[X]/2-k-ie-re-R.mainAxis:L-ie-re-R.mainAxis,Ce=w?-x[X]/2+k+ie+z+R.mainAxis:$+ie+z+R.mainAxis,Se=t.elements.arrow&&getOffsetParent(t.elements.arrow),F=Se?M==="y"?Se.clientTop||0:Se.clientLeft||0:0,J=(j=q==null?void 0:q[M])!=null?j:0,he=ee+se-J-F,de=ee+Ce-J,ge=within(a?min(ae,he):ae,ee,a?max(N,de):N);I[M]=ge,A[M]=ge-ee}if(g){var _e,fe=M==="x"?top:left,we=M==="x"?bottom:right,ke=I[S],Ie=S==="y"?"height":"width",De=ke+b[fe],Ee=ke-b[we],U=[top,left].indexOf(C)!==-1,oe=(_e=q==null?void 0:q[S])!=null?_e:0,te=U?De:ke-x[Ie]-E[Ie]-oe+R.altAxis,ue=U?ke+x[Ie]+E[Ie]-oe-R.altAxis:Ee,pe=a&&U?withinMaxClamp(te,ke,ue):within(a?te:De,ke,a?ue:Ee);I[S]=pe,A[S]=pe-ke}t.modifiersData[d]=A}}var preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){return e===getWindow(e)||!isHTMLElement(e)?getWindowScroll(e):getHTMLElementScroll(e)}function isElementScaled(e){var t=e.getBoundingClientRect(),r=round(t.width)/e.offsetWidth||1,d=round(t.height)/e.offsetHeight||1;return r!==1||d!==1}function getCompositeRect(e,t,r){r===void 0&&(r=!1);var d=isHTMLElement(t),u=isHTMLElement(t)&&isElementScaled(t),c=getDocumentElement(t),v=getBoundingClientRect(e,u,r),g={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(d||!d&&!r)&&((getNodeName(t)!=="body"||isScrollParent(c))&&(g=getNodeScroll(t)),isHTMLElement(t)?(y=getBoundingClientRect(t,!0),y.x+=t.clientLeft,y.y+=t.clientTop):c&&(y.x=getWindowScrollBarX(c))),{x:v.left+g.scrollLeft-y.x,y:v.top+g.scrollTop-y.y,width:v.width,height:v.height}}function order(e){var t=new Map,r=new Set,d=[];e.forEach(function(c){t.set(c.name,c)});function u(c){r.add(c.name);var v=[].concat(c.requires||[],c.requiresIfExists||[]);v.forEach(function(g){if(!r.has(g)){var y=t.get(g);y&&u(y)}}),d.push(c)}return e.forEach(function(c){r.has(c.name)||u(c)}),d}function orderModifiers(e){var t=order(e);return modifierPhases.reduce(function(r,d){return r.concat(t.filter(function(u){return u.phase===d}))},[])}function debounce(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function mergeByName(e){var t=e.reduce(function(r,d){var u=r[d.name];return r[d.name]=u?Object.assign({},u,d,{options:Object.assign({},u.options,d.options),data:Object.assign({},u.data,d.data)}):d,r},{});return Object.keys(t).map(function(r){return t[r]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(d){return!(d&&typeof d.getBoundingClientRect=="function")})}function popperGenerator(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,d=r===void 0?[]:r,u=t.defaultOptions,c=u===void 0?DEFAULT_OPTIONS:u;return function(g,y,o){o===void 0&&(o=c);var n={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,c),modifiersData:{},elements:{reference:g,popper:y},attributes:{},styles:{}},s=[],i=!1,a={state:n,setOptions:function(C){var _=typeof C=="function"?C(n.options):C;f(),n.options=Object.assign({},c,n.options,_),n.scrollParents={reference:isElement(g)?listScrollParents(g):g.contextElement?listScrollParents(g.contextElement):[],popper:listScrollParents(y)};var w=orderModifiers(mergeByName([].concat(d,n.options.modifiers)));return n.orderedModifiers=w.filter(function(M){return M.enabled}),m(),a.update()},forceUpdate:function(){if(!i){var C=n.elements,_=C.reference,w=C.popper;if(!!areValidElements(_,w)){n.rects={reference:getCompositeRect(_,getOffsetParent(w),n.options.strategy==="fixed"),popper:getLayoutRect(w)},n.reset=!1,n.placement=n.options.placement,n.orderedModifiers.forEach(function(R){return n.modifiersData[R.name]=Object.assign({},R.data)});for(var M=0;M<n.orderedModifiers.length;M++){if(n.reset===!0){n.reset=!1,M=-1;continue}var S=n.orderedModifiers[M],I=S.fn,x=S.options,E=x===void 0?{}:x,D=S.name;typeof I=="function"&&(n=I({state:n,options:E,name:D,instance:a})||n)}}}},update:debounce(function(){return new Promise(function(b){a.forceUpdate(),b(n)})}),destroy:function(){f(),i=!0}};if(!areValidElements(g,y))return a;a.setOptions(o).then(function(b){!i&&o.onFirstUpdate&&o.onFirstUpdate(b)});function m(){n.orderedModifiers.forEach(function(b){var C=b.name,_=b.options,w=_===void 0?{}:_,M=b.effect;if(typeof M=="function"){var S=M({state:n,name:C,instance:a,options:w}),I=function(){};s.push(S||I)}})}function f(){s.forEach(function(b){return b()}),s=[]}return a}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const usePopperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),usePopperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:()=>[]},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:placements,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:["fixed","absolute"],default:"absolute"}});buildProps({autoClose:{type:Number,default:0},cutoff:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}});const usePopperContentProps=buildProps({...usePopperCoreConfigProps,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},enterable:{type:Boolean,default:!0},pure:{type:Boolean},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},zIndex:Number}),usePopperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:{type:Boolean}}),_sfc_main$I=defineComponent({name:"ElPopperArrow",props:usePopperArrowProps,setup(e){const t=useNamespace("popper"),r=ref(null),d=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return watch(()=>e.arrowOffset,u=>{d.arrowOffset.value=u}),onMounted(()=>{d.arrowRef.value=unref(r)}),onBeforeUnmount(()=>{d.arrowRef.value=null}),{ns:t,arrowRef:r}}});function _sfc_render$z(e,t,r,d,u,c){return openBlock(),createElementBlock("span",{ref:"arrowRef",class:normalizeClass(e.ns.e("arrow")),"data-popper-arrow":""},null,2)}var ElPopperArrow=_export_sfc$1(_sfc_main$I,[["render",_sfc_render$z]]);const NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(e,{slots:t,attrs:r}){var d;const u=inject(FORWARD_REF_INJECTION_KEY,void 0),c=useForwardRefDirective((d=u.setForwardRef)!=null?d:NOOP);return()=>{var v;const g=(v=t.default)==null?void 0:v.call(t,r);if(!g||g.length>1)return null;const y=findFirstLegitChild(g);return y?withDirectives(cloneVNode(y,r),[[c]]):null}}});function findFirstLegitChild(e){if(!e)return null;const t=e;for(let r=0;r<t.length;r++){const d=t[r];if(isObject$1(d))switch(d.type){case Comment:continue;case Text:return wrapTextContent(d);case Fragment:return findFirstLegitChild(d.children);default:return d}return wrapTextContent(d)}return null}function wrapTextContent(e){return h("span",{class:"el-only-child__content"},[e])}const buildPopperOptions=(e,t)=>{const{placement:r,strategy:d,popperOptions:u}=e,c={placement:r,strategy:d,...u,modifiers:genModifiers(e)};return attachArrow(c,t),deriveExtraModifiers(c,u==null?void 0:u.modifiers),c},unwrapMeasurableEl=e=>{let t=null;return e?("getBoundingClientRect"in e||e instanceof HTMLElement?t=e:t=e.$el,t):null};function genModifiers(e){const{offset:t,gpuAcceleration:r,fallbackPlacements:d}=e;return[{name:"offset",options:{offset:[0,t!=null?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:d!=null?d:[]}},{name:"computeStyles",options:{gpuAcceleration:r,adaptive:r}}]}function attachArrow(e,{arrowEl:t,arrowOffset:r}){e.modifiers.push({name:"arrow",options:{element:t,padding:r!=null?r:5}})}function deriveExtraModifiers(e,t){t&&(e.modifiers=[...e.modifiers,...t!=null?t:[]])}const _sfc_main$H=defineComponent({name:"ElPopperTrigger",components:{ElOnlyChild:OnlyChild},inheritAttrs:!1,props:{...usePopperTriggerProps,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,onBlur:Function,onContextmenu:Function,id:String,open:Boolean},setup(e){const{triggerRef:t}=inject(POPPER_INJECTION_KEY,void 0);return useForwardRef(t),watch(()=>e.virtualRef,r=>{r&&(t.value=unwrapMeasurableEl(r))},{immediate:!0}),watch(()=>t.value,(r,d)=>{r&&r instanceof HTMLElement&&["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(u=>{const c=e[u];c&&(r.addEventListener(u.slice(2).toLowerCase(),c),d==null||d.removeEventListener(u.slice(2).toLowerCase(),c))})},{immediate:!0}),{triggerRef:t}}});function _sfc_render$y(e,t,r,d,u,c){const v=resolveComponent("el-only-child");return e.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(v,mergeProps({key:0},e.$attrs,{"aria-describedby":e.open?e.id:void 0}),{default:withCtx(()=>[renderSlot(e.$slots,"default")]),_:3},16,["aria-describedby"]))}var ElPopperTrigger=_export_sfc$1(_sfc_main$H,[["render",_sfc_render$y]]);const _sfc_main$G=defineComponent({name:"ElPopperContent",props:usePopperContentProps,emits:["mouseenter","mouseleave"],setup(e){const{triggerRef:t,popperInstanceRef:r,contentRef:d}=inject(POPPER_INJECTION_KEY,void 0),{nextZIndex:u}=useZIndex(),c=useNamespace("popper"),v=ref(null),g=ref(null),y=ref();provide(POPPER_CONTENT_INJECTION_KEY,{arrowRef:g,arrowOffset:y});const o=ref(e.zIndex||u()),n=computed(()=>[{zIndex:unref(o)},e.popperStyle]),s=computed(()=>[c.b(),c.is("pure",e.pure),c.is(e.effect),e.popperClass]),i=({referenceEl:m,popperContentEl:f,arrowEl:b})=>{const C=buildPopperOptions(e,{arrowEl:b,arrowOffset:unref(y)});return createPopper(m,f,C)},a=()=>{var m;(m=unref(r))==null||m.update(),o.value=e.zIndex||u()};return onMounted(()=>{let m;watch(()=>unwrapMeasurableEl(e.referenceEl)||unref(t),f=>{var b;if(m==null||m(),f){(b=r.value)==null||b.destroy();const C=unref(v);d.value=C;const _=unref(g),w=i({referenceEl:f,popperContentEl:unref(v),arrowEl:_});r.value=w,m=watch(()=>f.getBoundingClientRect(),()=>{a()},{immediate:!0})}else r.value=null},{immediate:!0}),watch(()=>buildPopperOptions(e,{arrowEl:unref(g),arrowOffset:unref(y)}),f=>{var b;return(b=r.value)==null?void 0:b.setOptions(f)})}),{ns:c,popperContentRef:v,popperInstanceRef:r,contentStyle:n,contentClass:s,updatePopper:a}}});function _sfc_render$x(e,t,r,d,u,c){return openBlock(),createElementBlock("div",{ref:"popperContentRef",style:normalizeStyle(e.contentStyle),class:normalizeClass(e.contentClass),role:"tooltip",onMouseenter:t[0]||(t[0]=v=>e.$emit("mouseenter",v)),onMouseleave:t[1]||(t[1]=v=>e.$emit("mouseleave",v))},[renderSlot(e.$slots,"default")],38)}var ElPopperContent=_export_sfc$1(_sfc_main$G,[["render",_sfc_render$x]]);function useDeprecateAppendToBody(e,t){const r=getCurrentInstance(),d=computed(()=>isBoolean(r.props[t])?r.props[t]:r.props.teleported);return useDeprecated({scope:e,from:t,replacement:"teleported",version:"2.1.0",ref:"https://element-plus.org/en-US/component/tooltip.html#attributes"},computed(()=>isBoolean(r.props[t]))),{compatTeleported:d}}const ElPopper=withInstall(Popper),_sfc_main$F=defineComponent({name:"ElVisuallyHidden",props:{style:{type:[String,Object,Array]}},setup(e){return{computedStyle:computed(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}])}}});function _sfc_render$w(e,t,r,d,u,c){return openBlock(),createElementBlock("span",mergeProps(e.$attrs,{style:e.computedStyle}),null,16)}var ElVisuallyHidden=_export_sfc$1(_sfc_main$F,[["render",_sfc_render$w]]);const useTooltipContentProps=buildProps({...useDelayedToggleProps,...usePopperContentProps,appendTo:{type:definePropType([String,Object]),default:POPPER_CONTAINER_SELECTOR},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:definePropType(Boolean),default:null},transition:{type:String,default:"el-fade-in-linear"},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),useTooltipTriggerProps=buildProps({...usePopperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"}}),useTooltipProps=buildProps({openDelay:{type:Number},visibleArrow:{type:Boolean,default:void 0},hideAfter:{type:Number,default:200},showArrow:{type:Boolean,default:!0}}),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),_sfc_main$E=defineComponent({name:"ElTooltipContent",components:{ElPopperContent,ElVisuallyHidden},inheritAttrs:!1,props:useTooltipContentProps,setup(e){const t=ref(null),r=ref(!1),d=ref(!1),u=ref(!1),{controlled:c,id:v,open:g,trigger:y,onClose:o,onOpen:n,onShow:s,onHide:i}=inject(TOOLTIP_INJECTION_KEY,void 0),a=computed(()=>e.persistent),m=computed(()=>unref(a)?!0:unref(g)),f=computed(()=>e.disabled?!1:unref(g)),b=computed(()=>{var D;return(D=e.style)!=null?D:{}}),C=computed(()=>!unref(g));useEscapeKeydown(o);const _=()=>{i()},w=()=>{if(unref(c))return!0},M=composeEventHandlers(w,()=>{e.enterable&&unref(y)==="hover"&&n()}),S=composeEventHandlers(w,()=>{unref(y)==="hover"&&o()}),I=()=>{var D,R;(R=(D=t.value)==null?void 0:D.updatePopper)==null||R.call(D)},x=()=>{s()};let E;return watch(()=>unref(g),D=>{D?E=onClickOutside(computed(()=>{var R;return(R=t.value)==null?void 0:R.popperContentRef}),()=>{if(unref(c))return;unref(y)!=="hover"&&o()}):E==null||E()},{flush:"post"}),{ariaHidden:C,entering:d,leaving:u,id:v,intermediateOpen:r,contentStyle:b,contentRef:t,shouldRender:m,shouldShow:f,open:g,onAfterShow:x,onBeforeEnter:I,onContentEnter:M,onContentLeave:S,onTransitionLeave:_}}});function _sfc_render$v(e,t,r,d,u,c){const v=resolveComponent("el-visually-hidden"),g=resolveComponent("el-popper-content");return openBlock(),createBlock(Teleport,{disabled:!e.teleported,to:e.appendTo},[createVNode(Transition,{name:e.transition,onAfterLeave:e.onTransitionLeave,onBeforeEnter:e.onBeforeEnter,onAfterEnter:e.onAfterShow},{default:withCtx(()=>[e.shouldRender?withDirectives((openBlock(),createBlock(g,mergeProps({key:0,ref:"contentRef"},e.$attrs,{"aria-hidden":e.ariaHidden,"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,e.contentStyle],"reference-el":e.referenceEl,"z-index":e.zIndex,onMouseenter:e.onContentEnter,onMouseleave:e.onContentLeave}),{default:withCtx(()=>[renderSlot(e.$slots,"default"),createVNode(v,{id:e.id,role:"tooltip"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.ariaLabel),1)]),_:1},8,["id"])]),_:3},16,["aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","z-index","onMouseenter","onMouseleave"])),[[vShow,e.shouldShow]]):createCommentVNode("v-if",!0)]),_:3},8,["name","onAfterLeave","onBeforeEnter","onAfterEnter"])],8,["disabled","to"])}var ElTooltipContent=_export_sfc$1(_sfc_main$E,[["render",_sfc_render$v]]);const isTriggerType=(e,t)=>isArray$2(e)?e.includes(t):e===t,whenTrigger=(e,t,r)=>d=>{isTriggerType(unref(e),t)&&r(d)},_sfc_main$D=defineComponent({name:"ElTooltipTrigger",components:{ElPopperTrigger},props:useTooltipTriggerProps,setup(e){const t=useNamespace("tooltip"),{controlled:r,id:d,open:u,onOpen:c,onClose:v,onToggle:g}=inject(TOOLTIP_INJECTION_KEY,void 0),y=ref(null),o=()=>{if(unref(r)||e.disabled)return!0},n=toRef(e,"trigger"),s=composeEventHandlers(o,whenTrigger(n,"hover",c)),i=composeEventHandlers(o,whenTrigger(n,"hover",v)),a=composeEventHandlers(o,whenTrigger(n,"click",_=>{_.button===0&&g(_)})),m=composeEventHandlers(o,whenTrigger(n,"focus",c)),f=composeEventHandlers(o,whenTrigger(n,"focus",v)),b=composeEventHandlers(o,whenTrigger(n,"contextmenu",_=>{_.preventDefault(),g(_)})),C=composeEventHandlers(o,_=>{const{code:w}=_;(w===EVENT_CODE.enter||w===EVENT_CODE.space)&&g(_)});return{onBlur:f,onContextMenu:b,onFocus:m,onMouseenter:s,onMouseleave:i,onClick:a,onKeydown:C,open:u,id:d,triggerRef:y,ns:t}}});function _sfc_render$u(e,t,r,d,u,c){const v=resolveComponent("el-popper-trigger");return openBlock(),createBlock(v,{id:e.id,"virtual-ref":e.virtualRef,open:e.open,"virtual-triggering":e.virtualTriggering,class:normalizeClass(e.ns.e("trigger")),onBlur:e.onBlur,onClick:e.onClick,onContextmenu:e.onContextMenu,onFocus:e.onFocus,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave,onKeydown:e.onKeydown},{default:withCtx(()=>[renderSlot(e.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"])}var ElTooltipTrigger=_export_sfc$1(_sfc_main$D,[["render",_sfc_render$u]]);const{useModelToggleProps,useModelToggle,useModelToggleEmits}=createModelToggleComposable("visible"),_sfc_main$C=defineComponent({name:"ElTooltip",components:{ElPopper,ElPopperArrow,ElTooltipContent,ElTooltipTrigger},props:{...useModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...usePopperArrowProps,...useTooltipProps},emits:[...useModelToggleEmits,"show","hide"],setup(e,{emit:t}){usePopperContainer();const r=computed(()=>(isUndefined(e.openDelay),e.openDelay||e.showAfter)),d=computed(()=>(isUndefined(e.visibleArrow),isBoolean(e.visibleArrow)?e.visibleArrow:e.showArrow)),u=useId(),c=ref(null),v=()=>{var a;const m=unref(c);m&&((a=m.popperInstanceRef)==null||a.update())},g=ref(!1),{show:y,hide:o}=useModelToggle({indicator:g}),{onOpen:n,onClose:s}=useDelayedToggle({showAfter:r,hideAfter:toRef(e,"hideAfter"),open:y,close:o}),i=computed(()=>isBoolean(e.visible));return provide(TOOLTIP_INJECTION_KEY,{controlled:i,id:u,open:readonly(g),trigger:toRef(e,"trigger"),onOpen:n,onClose:s,onToggle:()=>{unref(g)?s():n()},onShow:()=>{t("show")},onHide:()=>{t("hide")},updatePopper:v}),{compatShowAfter:r,compatShowArrow:d,popperRef:c,open:g,hide:o,updatePopper:v,onOpen:n,onClose:s}}}),_hoisted_1$k=["innerHTML"],_hoisted_2$d={key:1};function _sfc_render$t(e,t,r,d,u,c){const v=resolveComponent("el-tooltip-trigger"),g=resolveComponent("el-popper-arrow"),y=resolveComponent("el-tooltip-content"),o=resolveComponent("el-popper");return openBlock(),createBlock(o,{ref:"popperRef"},{default:withCtx(()=>[createVNode(v,{disabled:e.disabled,trigger:e.trigger,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:withCtx(()=>[e.$slots.default?renderSlot(e.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","virtual-ref","virtual-triggering"]),createVNode(y,{"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"show-after":e.compatShowAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"z-index":e.zIndex},{default:withCtx(()=>[renderSlot(e.$slots,"content",{},()=>[e.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:e.content},null,8,_hoisted_1$k)):(openBlock(),createElementBlock("span",_hoisted_2$d,toDisplayString(e.content),1))]),e.compatShowArrow?(openBlock(),createBlock(g,{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","show-after","strategy","teleported","transition","z-index"])]),_:3},512)}var Tooltip=_export_sfc$1(_sfc_main$C,[["render",_sfc_render$t]]);const ElTooltip=withInstall(Tooltip),avatarProps=buildProps({size:{type:[Number,String],values:["large","default","small"],default:"default",validator:e=>typeof e=="number"},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:iconPropType},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:definePropType(String),default:"cover"}}),avatarEmits={error:e=>e instanceof Event},_sfc_main$B=defineComponent({name:"ElAvatar",components:{ElIcon},props:avatarProps,emits:avatarEmits,setup(e,{emit:t}){const r=useNamespace("avatar"),d=ref(!1),u=computed(()=>{const{size:y,icon:o,shape:n}=e,s=[r.b()];return isString$1(y)&&s.push(r.m(y)),o&&s.push(r.m("icon")),n&&s.push(r.m(n)),s}),c=computed(()=>{const{size:y}=e;return isNumber(y)?{"--el-avatar-size":addUnit(y)}:void 0}),v=computed(()=>({objectFit:e.fit}));watch(()=>e.src,()=>d.value=!1);function g(y){d.value=!0,t("error",y)}return{hasLoadError:d,avatarClass:u,sizeStyle:c,fitStyle:v,handleError:g}}}),_hoisted_1$j=["src","alt","srcset"];function _sfc_render$s(e,t,r,d,u,c){const v=resolveComponent("el-icon");return openBlock(),createElementBlock("span",{class:normalizeClass(e.avatarClass),style:normalizeStyle(e.sizeStyle)},[(e.src||e.srcSet)&&!e.hasLoadError?(openBlock(),createElementBlock("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:normalizeStyle(e.fitStyle),onError:t[0]||(t[0]=(...g)=>e.handleError&&e.handleError(...g))},null,44,_hoisted_1$j)):e.icon?(openBlock(),createBlock(v,{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(e.icon)))]),_:1})):renderSlot(e.$slots,"default",{key:2})],6)}var Avatar=_export_sfc$1(_sfc_main$B,[["render",_sfc_render$s]]);const ElAvatar=withInstall(Avatar),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),_sfc_main$A=defineComponent({name:"ElBadge",props:badgeProps,setup(e){const t=useNamespace("badge"),r=computed(()=>e.isDot?"":typeof e.value=="number"&&typeof e.max=="number"?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`);return{ns:t,content:r}}}),_hoisted_1$i=["textContent"];function _sfc_render$r(e,t,r,d,u,c){return openBlock(),createElementBlock("div",{class:normalizeClass(e.ns.b())},[renderSlot(e.$slots,"default"),createVNode(Transition,{name:`${e.ns.namespace.value}-zoom-in-center`},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([e.ns.e("content"),e.ns.em("content",e.type),e.ns.is("fixed",!!e.$slots.default),e.ns.is("dot",e.isDot)]),textContent:toDisplayString(e.content)},null,10,_hoisted_1$i),[[vShow,!e.hidden&&(e.content||e.content==="0"||e.isDot)]])]),_:1},8,["name"])],2)}var Badge=_export_sfc$1(_sfc_main$A,[["render",_sfc_render$r]]);const ElBadge=withInstall(Badge);function bound01(e,t){isOnePointZero(e)&&(e="100%");var r=isPercentage(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function clamp01(e){return Math.min(1,Math.max(0,e))}function isOnePointZero(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function isPercentage(e){return typeof e=="string"&&e.indexOf("%")!==-1}function boundAlpha(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function convertToPercentage(e){return e<=1?"".concat(Number(e)*100,"%"):e}function pad2(e){return e.length===1?"0"+e:String(e)}function rgbToRgb(e,t,r){return{r:bound01(e,255)*255,g:bound01(t,255)*255,b:bound01(r,255)*255}}function rgbToHsl(e,t,r){e=bound01(e,255),t=bound01(t,255),r=bound01(r,255);var d=Math.max(e,t,r),u=Math.min(e,t,r),c=0,v=0,g=(d+u)/2;if(d===u)v=0,c=0;else{var y=d-u;switch(v=g>.5?y/(2-d-u):y/(d+u),d){case e:c=(t-r)/y+(t<r?6:0);break;case t:c=(r-e)/y+2;break;case r:c=(e-t)/y+4;break}c/=6}return{h:c,s:v,l:g}}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e,t,r){var d,u,c;if(e=bound01(e,360),t=bound01(t,100),r=bound01(r,100),t===0)u=r,c=r,d=r;else{var v=r<.5?r*(1+t):r+t-r*t,g=2*r-v;d=hue2rgb(g,v,e+1/3),u=hue2rgb(g,v,e),c=hue2rgb(g,v,e-1/3)}return{r:d*255,g:u*255,b:c*255}}function rgbToHsv(e,t,r){e=bound01(e,255),t=bound01(t,255),r=bound01(r,255);var d=Math.max(e,t,r),u=Math.min(e,t,r),c=0,v=d,g=d-u,y=d===0?0:g/d;if(d===u)c=0;else{switch(d){case e:c=(t-r)/g+(t<r?6:0);break;case t:c=(r-e)/g+2;break;case r:c=(e-t)/g+4;break}c/=6}return{h:c,s:y,v}}function hsvToRgb(e,t,r){e=bound01(e,360)*6,t=bound01(t,100),r=bound01(r,100);var d=Math.floor(e),u=e-d,c=r*(1-t),v=r*(1-u*t),g=r*(1-(1-u)*t),y=d%6,o=[r,v,c,c,g,r][y],n=[g,r,r,v,c,c][y],s=[c,c,g,r,r,v][y];return{r:o*255,g:n*255,b:s*255}}function rgbToHex(e,t,r,d){var u=[pad2(Math.round(e).toString(16)),pad2(Math.round(t).toString(16)),pad2(Math.round(r).toString(16))];return d&&u[0].startsWith(u[0].charAt(1))&&u[1].startsWith(u[1].charAt(1))&&u[2].startsWith(u[2].charAt(1))?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0):u.join("")}function rgbaToHex(e,t,r,d,u){var c=[pad2(Math.round(e).toString(16)),pad2(Math.round(t).toString(16)),pad2(Math.round(r).toString(16)),pad2(convertDecimalToHex(d))];return u&&c[0].startsWith(c[0].charAt(1))&&c[1].startsWith(c[1].charAt(1))&&c[2].startsWith(c[2].charAt(1))&&c[3].startsWith(c[3].charAt(1))?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("")}function convertDecimalToHex(e){return Math.round(parseFloat(e)*255).toString(16)}function convertHexToDecimal(e){return parseIntFromHex(e)/255}function parseIntFromHex(e){return parseInt(e,16)}function numberInputToObject(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(e){var t={r:0,g:0,b:0},r=1,d=null,u=null,c=null,v=!1,g=!1;return typeof e=="string"&&(e=stringInputToObject(e)),typeof e=="object"&&(isValidCSSUnit(e.r)&&isValidCSSUnit(e.g)&&isValidCSSUnit(e.b)?(t=rgbToRgb(e.r,e.g,e.b),v=!0,g=String(e.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.v)?(d=convertToPercentage(e.s),u=convertToPercentage(e.v),t=hsvToRgb(e.h,d,u),v=!0,g="hsv"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.l)&&(d=convertToPercentage(e.s),c=convertToPercentage(e.l),t=hslToRgb(e.h,d,c),v=!0,g="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=boundAlpha(r),{ok:v,format:e.format||g,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(names[e])e=names[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=matchers.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=matchers.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=matchers.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=matchers.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=matchers.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=matchers.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=matchers.hex8.exec(e),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),a:convertHexToDecimal(r[4]),format:t?"name":"hex8"}:(r=matchers.hex6.exec(e),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),format:t?"name":"hex"}:(r=matchers.hex4.exec(e),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),a:convertHexToDecimal(r[4]+r[4]),format:t?"name":"hex8"}:(r=matchers.hex3.exec(e),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function isValidCSSUnit(e){return Boolean(matchers.CSS_UNIT.exec(String(e)))}var TinyColor=function(){function e(t,r){t===void 0&&(t=""),r===void 0&&(r={});var d;if(t instanceof e)return t;typeof t=="number"&&(t=numberInputToObject(t)),this.originalInput=t;var u=inputToRGB(t);this.originalInput=t,this.r=u.r,this.g=u.g,this.b=u.b,this.a=u.a,this.roundA=Math.round(100*this.a)/100,this.format=(d=r.format)!==null&&d!==void 0?d:u.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=u.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),r,d,u,c=t.r/255,v=t.g/255,g=t.b/255;return c<=.03928?r=c/12.92:r=Math.pow((c+.055)/1.055,2.4),v<=.03928?d=v/12.92:d=Math.pow((v+.055)/1.055,2.4),g<=.03928?u=g/12.92:u=Math.pow((g+.055)/1.055,2.4),.2126*r+.7152*d+.0722*u},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=boundAlpha(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=rgbToHsv(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=rgbToHsv(this.r,this.g,this.b),r=Math.round(t.h*360),d=Math.round(t.s*100),u=Math.round(t.v*100);return this.a===1?"hsv(".concat(r,", ").concat(d,"%, ").concat(u,"%)"):"hsva(".concat(r,", ").concat(d,"%, ").concat(u,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=rgbToHsl(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=rgbToHsl(this.r,this.g,this.b),r=Math.round(t.h*360),d=Math.round(t.s*100),u=Math.round(t.l*100);return this.a===1?"hsl(".concat(r,", ").concat(d,"%, ").concat(u,"%)"):"hsla(".concat(r,", ").concat(d,"%, ").concat(u,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),rgbToHex(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),rgbaToHex(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),r=Math.round(this.g),d=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(r,", ").concat(d,")"):"rgba(".concat(t,", ").concat(r,", ").concat(d,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(r){return"".concat(Math.round(bound01(r,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(r){return Math.round(bound01(r,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+rgbToHex(this.r,this.g,this.b,!1),r=0,d=Object.entries(names);r<d.length;r++){var u=d[r],c=u[0],v=u[1];if(t===v)return c}return!1},e.prototype.toString=function(t){var r=Boolean(t);t=t!=null?t:this.format;var d=!1,u=this.a<1&&this.a>=0,c=!r&&u&&(t.startsWith("hex")||t==="name");return c?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(d=this.toRgbString()),t==="prgb"&&(d=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(d=this.toHexString()),t==="hex3"&&(d=this.toHexString(!0)),t==="hex4"&&(d=this.toHex8String(!0)),t==="hex8"&&(d=this.toHex8String()),t==="name"&&(d=this.toName()),t==="hsl"&&(d=this.toHslString()),t==="hsv"&&(d=this.toHsvString()),d||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=clamp01(r.l),new e(r)},e.prototype.brighten=function(t){t===void 0&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)},e.prototype.darken=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=clamp01(r.l),new e(r)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=clamp01(r.s),new e(r)},e.prototype.saturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=clamp01(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),d=(r.h+t)%360;return r.h=d<0?360+d:d,new e(r)},e.prototype.mix=function(t,r){r===void 0&&(r=50);var d=this.toRgb(),u=new e(t).toRgb(),c=r/100,v={r:(u.r-d.r)*c+d.r,g:(u.g-d.g)*c+d.g,b:(u.b-d.b)*c+d.b,a:(u.a-d.a)*c+d.a};return new e(v)},e.prototype.analogous=function(t,r){t===void 0&&(t=6),r===void 0&&(r=30);var d=this.toHsl(),u=360/r,c=[this];for(d.h=(d.h-(u*t>>1)+720)%360;--t;)d.h=(d.h+u)%360,c.push(new e(d));return c},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var r=this.toHsv(),d=r.h,u=r.s,c=r.v,v=[],g=1/t;t--;)v.push(new e({h:d,s:u,v:c})),c=(c+g)%1;return v},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),d=new e(t).toRgb();return new e({r:d.r+(r.r-d.r)*r.a,g:d.g+(r.g-d.g)*r.a,b:d.b+(r.b-d.b)*r.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),d=r.h,u=[this],c=360/t,v=1;v<t;v++)u.push(new e({h:(d+v*c)%360,s:r.s,l:r.l}));return u},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();const buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType,default:""},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading$1},plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,autoInsertSpace:{type:Boolean,default:void 0}}),buttonEmits={click:e=>e instanceof MouseEvent},_hoisted_1$h=["disabled","autofocus","type"],__default__={name:"ElButton"},_sfc_main$z=defineComponent({...__default__,props:buttonProps,emits:buttonEmits,setup(e,{expose:t,emit:r}){const d=e,u=useSlots(),c=inject(buttonGroupContextKey,void 0),v=useGlobalConfig("button"),g=useNamespace("button"),{form:y}=useFormItem(),o=useSize(computed(()=>c==null?void 0:c.size)),n=useDisabled$1(),s=ref(),i=computed(()=>d.type||(c==null?void 0:c.type)||""),a=computed(()=>{var _,w,M;return(M=(w=d.autoInsertSpace)!=null?w:(_=v.value)==null?void 0:_.autoInsertSpace)!=null?M:!1}),m=computed(()=>{var _;const w=(_=u.default)==null?void 0:_.call(u);if(a.value&&(w==null?void 0:w.length)===1){const M=w[0];if((M==null?void 0:M.type)===Text){const S=M.children;return/^\p{Unified_Ideograph}{2}$/u.test(S)}}return!1}),f=computed(()=>useCssVar(`--el-color-${d.type}`).value),b=computed(()=>{let _={};const w=d.color||f.value;if(w){const M=new TinyColor(w),S=M.shade(10).toString();if(d.plain)_={"--el-button-bg-color":M.tint(90).toString(),"--el-button-text-color":w,"--el-button-hover-text-color":"var(--el-color-white)","--el-button-hover-bg-color":w,"--el-button-hover-border-color":w,"--el-button-active-bg-color":S,"--el-button-active-text-color":"var(--el-color-white)","--el-button-active-border-color":S};else{const I=M.tint(20).toString();_={"--el-button-bg-color":w,"--el-button-border-color":w,"--el-button-hover-bg-color":I,"--el-button-hover-border-color":I,"--el-button-active-bg-color":S,"--el-button-active-border-color":S}}if(n.value){const I=M.tint(50).toString();_["--el-button-disabled-bg-color"]=I,_["--el-button-disabled-border-color"]=I}}return _}),C=_=>{d.nativeType==="reset"&&(y==null||y.resetFields()),r("click",_)};return t({ref:s,size:o,type:i,disabled:n,shouldAddSpace:m}),(_,w)=>(openBlock(),createElementBlock("button",{ref_key:"_ref",ref:s,class:normalizeClass([unref(g).b(),unref(g).m(unref(i)),unref(g).m(unref(o)),unref(g).is("disabled",unref(n)),unref(g).is("loading",_.loading),unref(g).is("plain",_.plain),unref(g).is("round",_.round),unref(g).is("circle",_.circle)]),disabled:unref(n)||_.loading,autofocus:_.autofocus,type:_.nativeType,style:normalizeStyle(unref(b)),onClick:C},[_.loading?(openBlock(),createElementBlock(Fragment,{key:0},[_.$slots.loading?renderSlot(_.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(g).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(_.loadingIcon)))]),_:1},8,["class"]))],2112)):_.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(_.icon)))]),_:1})):createCommentVNode("v-if",!0),_.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(g).em("text","expand")]:unref(m)})},[renderSlot(_.$slots,"default")],2)):createCommentVNode("v-if",!0)],14,_hoisted_1$h))}}),buttonGroupProps={size:buttonProps.size,type:buttonProps.type},_sfc_main$y=defineComponent({name:"ElButtonGroup",props:buttonGroupProps,setup(e){return provide(buttonGroupContextKey,reactive({size:toRef(e,"size"),type:toRef(e,"type")})),{ns:useNamespace("button")}}});function _sfc_render$q(e,t,r,d,u,c){return openBlock(),createElementBlock("div",{class:normalizeClass(`${e.ns.b("group")}`)},[renderSlot(e.$slots,"default")],2)}var ButtonGroup=_export_sfc$1(_sfc_main$y,[["render",_sfc_render$q]]);const ElButton=withInstall(_sfc_main$z,{ButtonGroup});withNoopInstall(ButtonGroup);var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}const useCheckboxProps={modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},tabindex:[String,Number],size:String},useCheckboxGroup=()=>{const e=inject(elFormKey,{}),t=inject(elFormItemKey,{}),r=inject("CheckboxGroup",{}),d=computed(()=>r&&(r==null?void 0:r.name)==="ElCheckboxGroup"),u=computed(()=>t.size);return{isGroup:d,checkboxGroup:r,elForm:e,elFormItemSize:u,elFormItem:t}},useModel=e=>{const t=ref(!1),{emit:r}=getCurrentInstance(),{isGroup:d,checkboxGroup:u}=useCheckboxGroup(),c=ref(!1);return{model:computed({get(){var g,y;return d.value?(g=u.modelValue)==null?void 0:g.value:(y=e.modelValue)!=null?y:t.value},set(g){var y;d.value&&Array.isArray(g)?(c.value=u.max!==void 0&&g.length>u.max.value,c.value===!1&&((y=u==null?void 0:u.changeEvent)==null||y.call(u,g))):(r(UPDATE_MODEL_EVENT,g),t.value=g)}}),isLimitExceeded:c}},useCheckboxStatus=(e,{model:t})=>{const{isGroup:r,checkboxGroup:d}=useCheckboxGroup(),u=ref(!1),c=useSize(d==null?void 0:d.checkboxGroupSize,{prop:!0}),v=computed(()=>{const y=t.value;return toTypeString(y)==="[object Boolean]"?y:Array.isArray(y)?y.includes(e.label):y!=null?y===e.trueLabel:!!y}),g=useSize(computed(()=>{var y;return r.value?(y=d==null?void 0:d.checkboxGroupSize)==null?void 0:y.value:void 0}));return{isChecked:v,focus:u,size:c,checkboxSize:g}},useDisabled=(e,{model:t,isChecked:r})=>{const{elForm:d,isGroup:u,checkboxGroup:c}=useCheckboxGroup(),v=computed(()=>{var y,o;const n=(y=c.max)==null?void 0:y.value,s=(o=c.min)==null?void 0:o.value;return!!(n||s)&&t.value.length>=n&&!r.value||t.value.length<=s&&r.value});return{isDisabled:computed(()=>{var y,o;const n=e.disabled||d.disabled;return(o=u.value?((y=c.disabled)==null?void 0:y.value)||n||v.value:e.disabled||d.disabled)!=null?o:!1}),isLimitDisabled:v}},setStoreValue=(e,{model:t})=>{function r(){Array.isArray(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&r()},useEvent=(e,{isLimitExceeded:t})=>{const{elFormItem:r}=useCheckboxGroup(),{emit:d}=getCurrentInstance();function u(c){var v,g;if(t.value)return;const o=c.target.checked?(v=e.trueLabel)!=null?v:!0:(g=e.falseLabel)!=null?g:!1;d("change",o,c)}return watch(()=>e.modelValue,()=>{var c;(c=r.validate)==null||c.call(r,"change")}),{handleChange:u}},useCheckbox=e=>{const{model:t,isLimitExceeded:r}=useModel(e),{focus:d,size:u,isChecked:c,checkboxSize:v}=useCheckboxStatus(e,{model:t}),{isDisabled:g}=useDisabled(e,{model:t,isChecked:c}),{handleChange:y}=useEvent(e,{isLimitExceeded:r});return setStoreValue(e,{model:t}),{isChecked:c,isDisabled:g,checkboxSize:v,model:t,handleChange:y,focus:d,size:u}},_sfc_main$x=defineComponent({name:"ElCheckbox",props:{modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:{type:String,validator:isValidComponentSize},tabindex:[String,Number]},emits:[UPDATE_MODEL_EVENT,"change"],setup(e){return{ns:useNamespace("checkbox"),...useCheckbox(e)}}}),_hoisted_1$g=["id","aria-controls"],_hoisted_2$c=["tabindex","role","aria-checked"],_hoisted_3$8=["aria-hidden","name","tabindex","disabled","true-value","false-value"],_hoisted_4$7=["aria-hidden","disabled","value","name","tabindex"];function _sfc_render$p(e,t,r,d,u,c){return openBlock(),createElementBlock("label",{id:e.id,class:normalizeClass([e.ns.b(),e.ns.m(e.checkboxSize),e.ns.is("disabled",e.isDisabled),e.ns.is("bordered",e.border),e.ns.is("checked",e.isChecked)]),"aria-controls":e.indeterminate?e.controls:null},[createBaseVNode("span",{class:normalizeClass([e.ns.e("input"),e.ns.is("disabled",e.isDisabled),e.ns.is("checked",e.isChecked),e.ns.is("indeterminate",e.indeterminate),e.ns.is("focus",e.focus)]),tabindex:e.indeterminate?0:void 0,role:e.indeterminate?"checkbox":void 0,"aria-checked":e.indeterminate?"mixed":!1},[createBaseVNode("span",{class:normalizeClass(e.ns.e("inner"))},null,2),e.trueLabel||e.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=v=>e.model=v),class:normalizeClass(e.ns.e("original")),type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,tabindex:e.tabindex,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...v)=>e.handleChange&&e.handleChange(...v)),onFocus:t[2]||(t[2]=v=>e.focus=!0),onBlur:t[3]||(t[3]=v=>e.focus=!1)},null,42,_hoisted_3$8)),[[vModelCheckbox,e.model]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":t[4]||(t[4]=v=>e.model=v),class:normalizeClass(e.ns.e("original")),type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,value:e.label,name:e.name,tabindex:e.tabindex,onChange:t[5]||(t[5]=(...v)=>e.handleChange&&e.handleChange(...v)),onFocus:t[6]||(t[6]=v=>e.focus=!0),onBlur:t[7]||(t[7]=v=>e.focus=!1)},null,42,_hoisted_4$7)),[[vModelCheckbox,e.model]])],10,_hoisted_2$c),e.$slots.default||e.label?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(e.ns.e("label"))},[renderSlot(e.$slots,"default"),e.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(e.label),1)],2112))],2)):createCommentVNode("v-if",!0)],10,_hoisted_1$g)}var Checkbox=_export_sfc$1(_sfc_main$x,[["render",_sfc_render$p]]);const _sfc_main$w=defineComponent({name:"ElCheckboxButton",props:useCheckboxProps,emits:[UPDATE_MODEL_EVENT,"change"],setup(e){const{focus:t,isChecked:r,isDisabled:d,size:u,model:c,handleChange:v}=useCheckbox(e),{checkboxGroup:g}=useCheckboxGroup(),y=useNamespace("checkbox"),o=computed(()=>{var n,s,i,a;const m=(s=(n=g==null?void 0:g.fill)==null?void 0:n.value)!=null?s:"";return{backgroundColor:m,borderColor:m,color:(a=(i=g==null?void 0:g.textColor)==null?void 0:i.value)!=null?a:"",boxShadow:m?`-1px 0 0 0 ${m}`:null}});return{focus:t,isChecked:r,isDisabled:d,model:c,handleChange:v,activeStyle:o,size:u,ns:y}}}),_hoisted_1$f=["aria-checked","aria-disabled"],_hoisted_2$b=["name","tabindex","disabled","true-value","false-value"],_hoisted_3$7=["name","tabindex","disabled","value"];function _sfc_render$o(e,t,r,d,u,c){return openBlock(),createElementBlock("label",{class:normalizeClass([e.ns.b("button"),e.ns.bm("button",e.size),e.ns.is("disabled",e.isDisabled),e.ns.is("checked",e.isChecked),e.ns.is("focus",e.focus)]),role:"checkbox","aria-checked":e.isChecked,"aria-disabled":e.isDisabled},[e.trueLabel||e.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=v=>e.model=v),class:normalizeClass(e.ns.be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...v)=>e.handleChange&&e.handleChange(...v)),onFocus:t[2]||(t[2]=v=>e.focus=!0),onBlur:t[3]||(t[3]=v=>e.focus=!1)},null,42,_hoisted_2$b)),[[vModelCheckbox,e.model]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":t[4]||(t[4]=v=>e.model=v),class:normalizeClass(e.ns.be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:e.isDisabled,value:e.label,onChange:t[5]||(t[5]=(...v)=>e.handleChange&&e.handleChange(...v)),onFocus:t[6]||(t[6]=v=>e.focus=!0),onBlur:t[7]||(t[7]=v=>e.focus=!1)},null,42,_hoisted_3$7)),[[vModelCheckbox,e.model]]),e.$slots.default||e.label?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(e.ns.be("button","inner")),style:normalizeStyle(e.isChecked?e.activeStyle:null)},[renderSlot(e.$slots,"default",{},()=>[createTextVNode(toDisplayString(e.label),1)])],6)):createCommentVNode("v-if",!0)],10,_hoisted_1$f)}var CheckboxButton=_export_sfc$1(_sfc_main$w,[["render",_sfc_render$o]]);const _sfc_main$v=defineComponent({name:"ElCheckboxGroup",props:{modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:{type:String,validator:isValidComponentSize},fill:{type:String,default:void 0},textColor:{type:String,default:void 0},tag:{type:String,default:"div"}},emits:[UPDATE_MODEL_EVENT,"change"],setup(e,{emit:t,slots:r}){const{elFormItem:d}=useCheckboxGroup(),u=useSize(),c=useNamespace("checkbox"),v=y=>{t(UPDATE_MODEL_EVENT,y),nextTick(()=>{t("change",y)})},g=computed({get(){return e.modelValue},set(y){v(y)}});return provide("CheckboxGroup",{name:"ElCheckboxGroup",modelValue:g,...toRefs(e),checkboxGroupSize:u,changeEvent:v}),watch(()=>e.modelValue,()=>{var y;(y=d.validate)==null||y.call(d,"change")}),()=>h(e.tag,{class:c.b("group"),role:"group","aria-label":"checkbox-group"},[renderSlot(r,"default")])}}),ElCheckbox=withInstall(Checkbox,{CheckboxButton,CheckboxGroup:_sfc_main$v});withNoopInstall(CheckboxButton);const ElCheckboxGroup=withNoopInstall(_sfc_main$v),radioPropsBase=buildProps({size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),radioProps=buildProps({...radioPropsBase,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:e=>isString$1(e)||isNumber(e)||isBoolean(e),change:e=>isString$1(e)||isNumber(e)||isBoolean(e)},useRadio=(e,t)=>{const r=ref(),d=inject(radioGroupKey,void 0),u=computed(()=>!!d),c=computed({get(){return u.value?d.modelValue:e.modelValue},set(n){u.value?d.changeEvent(n):t(UPDATE_MODEL_EVENT,n),r.value.checked=e.modelValue===e.label}}),v=useSize(computed(()=>d==null?void 0:d.size)),g=useDisabled$1(computed(()=>d==null?void 0:d.disabled)),y=ref(!1),o=computed(()=>g.value||u.value&&c.value!==e.label?-1:0);return{radioRef:r,isGroup:u,radioGroup:d,focus:y,size:v,disabled:g,tabIndex:o,modelValue:c}},_sfc_main$u=defineComponent({name:"ElRadio",props:radioProps,emits:radioEmits,setup(e,{emit:t}){const r=useNamespace("radio"),{radioRef:d,isGroup:u,focus:c,size:v,disabled:g,tabIndex:y,modelValue:o}=useRadio(e,t);function n(){nextTick(()=>t("change",o.value))}return{ns:r,focus:c,isGroup:u,modelValue:o,tabIndex:y,size:v,disabled:g,radioRef:d,handleChange:n}}}),_hoisted_1$e=["aria-checked","aria-disabled","tabindex"],_hoisted_2$a=["value","name","disabled"];function _sfc_render$n(e,t,r,d,u,c){return openBlock(),createElementBlock("label",{class:normalizeClass([e.ns.b(),e.ns.is("disabled",e.disabled),e.ns.is("focus",e.focus),e.ns.is("bordered",e.border),e.ns.is("checked",e.modelValue===e.label),e.ns.m(e.size)]),role:"radio","aria-checked":e.modelValue===e.label,"aria-disabled":e.disabled,tabindex:e.tabIndex,onKeydown:t[5]||(t[5]=withKeys(withModifiers(v=>e.modelValue=e.disabled?e.modelValue:e.label,["stop","prevent"]),["space"]))},[createBaseVNode("span",{class:normalizeClass([e.ns.e("input"),e.ns.is("disabled",e.disabled),e.ns.is("checked",e.modelValue===e.label)])},[createBaseVNode("span",{class:normalizeClass(e.ns.e("inner"))},null,2),withDirectives(createBaseVNode("input",{ref:"radioRef","onUpdate:modelValue":t[0]||(t[0]=v=>e.modelValue=v),class:normalizeClass(e.ns.e("original")),value:e.label,type:"radio","aria-hidden":"true",name:e.name,disabled:e.disabled,tabindex:"-1",onFocus:t[1]||(t[1]=v=>e.focus=!0),onBlur:t[2]||(t[2]=v=>e.focus=!1),onChange:t[3]||(t[3]=(...v)=>e.handleChange&&e.handleChange(...v))},null,42,_hoisted_2$a),[[vModelRadio,e.modelValue]])],2),createBaseVNode("span",{class:normalizeClass(e.ns.e("label")),onKeydown:t[4]||(t[4]=withModifiers(()=>{},["stop"]))},[renderSlot(e.$slots,"default",{},()=>[createTextVNode(toDisplayString(e.label),1)])],34)],42,_hoisted_1$e)}var Radio=_export_sfc$1(_sfc_main$u,[["render",_sfc_render$n]]);const radioButtonProps=buildProps({...radioPropsBase,name:{type:String,default:""}}),_sfc_main$t=defineComponent({name:"ElRadioButton",props:radioButtonProps,setup(e,{emit:t}){const r=useNamespace("radio"),{radioRef:d,isGroup:u,focus:c,size:v,disabled:g,tabIndex:y,modelValue:o,radioGroup:n}=useRadio(e,t),s=computed(()=>({backgroundColor:(n==null?void 0:n.fill)||"",borderColor:(n==null?void 0:n.fill)||"",boxShadow:n!=null&&n.fill?`-1px 0 0 0 ${n.fill}`:"",color:(n==null?void 0:n.textColor)||""}));return{ns:r,isGroup:u,size:v,disabled:g,tabIndex:y,modelValue:o,focus:c,activeStyle:s,radioRef:d}}}),_hoisted_1$d=["aria-checked","aria-disabled","tabindex"],_hoisted_2$9=["value","name","disabled"];function _sfc_render$m(e,t,r,d,u,c){return openBlock(),createElementBlock("label",{class:normalizeClass([e.ns.b("button"),e.ns.is("active",e.modelValue===e.label),e.ns.is("disabled",e.disabled),e.ns.is("focus",e.focus),e.ns.bm("button",e.size)]),role:"radio","aria-checked":e.modelValue===e.label,"aria-disabled":e.disabled,tabindex:e.tabIndex,onKeydown:t[4]||(t[4]=withKeys(withModifiers(v=>e.modelValue=e.disabled?e.modelValue:e.label,["stop","prevent"]),["space"]))},[withDirectives(createBaseVNode("input",{ref:"radioRef","onUpdate:modelValue":t[0]||(t[0]=v=>e.modelValue=v),class:normalizeClass(e.ns.be("button","original-radio")),value:e.label,type:"radio",name:e.name,disabled:e.disabled,tabindex:"-1",onFocus:t[1]||(t[1]=v=>e.focus=!0),onBlur:t[2]||(t[2]=v=>e.focus=!1)},null,42,_hoisted_2$9),[[vModelRadio,e.modelValue]]),createBaseVNode("span",{class:normalizeClass(e.ns.be("button","inner")),style:normalizeStyle(e.modelValue===e.label?e.activeStyle:{}),onKeydown:t[3]||(t[3]=withModifiers(()=>{},["stop"]))},[renderSlot(e.$slots,"default",{},()=>[createTextVNode(toDisplayString(e.label),1)])],38)],42,_hoisted_1$d)}var RadioButton=_export_sfc$1(_sfc_main$t,[["render",_sfc_render$m]]);const radioGroupProps=buildProps({size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},textColor:{type:String,default:""}}),radioGroupEmits=radioEmits,_sfc_main$s=defineComponent({name:"ElRadioGroup",props:radioGroupProps,emits:radioGroupEmits,setup(e,t){const r=useNamespace("radio"),d=ref(),{formItem:u}=useFormItem(),c=g=>{t.emit(UPDATE_MODEL_EVENT,g),nextTick(()=>t.emit("change",g))},v=g=>{if(!d.value)return;const y=g.target,o=y.nodeName==="INPUT"?"[type=radio]":"[role=radio]",n=d.value.querySelectorAll(o),s=n.length,i=Array.from(n).indexOf(y),a=d.value.querySelectorAll("[role=radio]");let m=null;switch(g.code){case EVENT_CODE.left:case EVENT_CODE.up:g.stopPropagation(),g.preventDefault(),m=i===0?s-1:i-1;break;case EVENT_CODE.right:case EVENT_CODE.down:g.stopPropagation(),g.preventDefault(),m=i===s-1?0:i+1;break}m!==null&&(a[m].click(),a[m].focus())};return onMounted(()=>{const g=d.value.querySelectorAll("[type=radio]"),y=g[0];!Array.from(g).some(o=>o.checked)&&y&&(y.tabIndex=0)}),provide(radioGroupKey,reactive({...toRefs(e),changeEvent:c})),watch(()=>e.modelValue,()=>u==null?void 0:u.validate("change")),{ns:r,radioGroupRef:d,handleKeydown:v}}});function _sfc_render$l(e,t,r,d,u,c){return openBlock(),createElementBlock("div",{ref:"radioGroupRef",class:normalizeClass(e.ns.b("group")),role:"radiogroup",onKeydown:t[0]||(t[0]=(...v)=>e.handleKeydown&&e.handleKeydown(...v))},[renderSlot(e.$slots,"default")],34)}var RadioGroup=_export_sfc$1(_sfc_main$s,[["render",_sfc_render$l]]);const ElRadio=withInstall(Radio,{RadioButton,RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup);withNoopInstall(RadioButton);const tagProps=buildProps({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:["large","default","small"]},effect:{type:String,values:["dark","light","plain"],default:"light"}}),tagEmits={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},_sfc_main$r=defineComponent({name:"ElTag",components:{ElIcon,Close:close$2},props:tagProps,emits:tagEmits,setup(e,{emit:t}){const r=useSize(),d=useNamespace("tag"),u=computed(()=>{const{type:g,hit:y,effect:o,closable:n}=e;return[d.b(),d.is("closable",n),d.m(g),d.m(r.value),d.m(o),d.is("hit",y)]});return{ns:d,classes:u,handleClose:g=>{g.stopPropagation(),t("close",g)},handleClick:g=>{t("click",g)}}}});function _sfc_render$k(e,t,r,d,u,c){const v=resolveComponent("close"),g=resolveComponent("el-icon");return e.disableTransitions?(openBlock(),createBlock(Transition,{key:1,name:`${e.ns.namespace.value}-zoom-in-center`},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(e.classes),style:normalizeStyle({backgroundColor:e.color}),onClick:t[1]||(t[1]=(...y)=>e.handleClick&&e.handleClick(...y))},[createBaseVNode("span",{class:normalizeClass(e.ns.e("content"))},[renderSlot(e.$slots,"default")],2),e.closable?(openBlock(),createBlock(g,{key:0,class:normalizeClass(e.ns.e("close")),onClick:e.handleClose},{default:withCtx(()=>[createVNode(v)]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"])):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(e.classes),style:normalizeStyle({backgroundColor:e.color}),onClick:t[0]||(t[0]=(...y)=>e.handleClick&&e.handleClick(...y))},[createBaseVNode("span",{class:normalizeClass(e.ns.e("content"))},[renderSlot(e.$slots,"default")],2),e.closable?(openBlock(),createBlock(g,{key:0,class:normalizeClass(e.ns.e("close")),onClick:e.handleClose},{default:withCtx(()=>[createVNode(v)]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6))}var Tag=_export_sfc$1(_sfc_main$r,[["render",_sfc_render$k]]);const ElTag=withInstall(Tag),messageConfig={},configProviderProps=buildProps({locale:{type:definePropType(Object)},size:{type:String,values:["large","default","small"]},button:{type:definePropType(Object)},message:{type:definePropType(Object)},zIndex:{type:Number},namespace:{type:String,default:"el"}});defineComponent({name:"ElConfigProvider",props:configProviderProps,setup(e,{slots:t}){watch(()=>e.message,d=>{Object.assign(messageConfig,d!=null?d:{})},{immediate:!0,deep:!0});const r=provideGlobalConfig(e);return()=>renderSlot(t,"default",{config:r==null?void 0:r.value})}});const overlayProps=buildProps({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:definePropType([String,Array,Object])},zIndex:{type:definePropType([String,Number])}}),overlayEmits={click:e=>e instanceof MouseEvent};var Overlay=defineComponent({name:"ElOverlay",props:overlayProps,emits:overlayEmits,setup(e,{slots:t,emit:r}){const d=useNamespace("overlay"),u=y=>{r("click",y)},{onClick:c,onMousedown:v,onMouseup:g}=useSameTarget(e.customMaskEvent?void 0:u);return()=>e.mask?createVNode("div",{class:[d.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:v,onMouseup:g},[renderSlot(t,"default")],PatchFlags.STYLE|PatchFlags.CLASS|PatchFlags.PROPS,["onClick","onMouseup","onMousedown"]):h("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[renderSlot(t,"default")])}});const ElOverlay=Overlay,dialogProps=buildProps({appendToBody:{type:Boolean,default:!1},beforeClose:{type:definePropType(Function)},destroyOnClose:{type:Boolean,default:!1},center:{type:Boolean,default:!1},customClass:{type:String,default:""},closeIcon:{type:iconPropType,default:""},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},title:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number}}),dialogEmits={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[UPDATE_MODEL_EVENT]:e=>typeof e=="boolean"},useDialog=(e,{emit:t},r)=>{let d="";const u=ref(!1),c=ref(!1),v=ref(!1),{nextZIndex:g}=useZIndex(),y=ref(e.zIndex||g());let o,n;const s=computed(()=>isNumber(e.width)?`${e.width}px`:e.width),i=computed(()=>{const x={},E="--el-dialog";return e.fullscreen||(e.top&&(x[`${E}-margin-top`]=e.top),e.width&&(x[`${E}-width`]=s.value)),x});function a(){t("opened")}function m(){t("closed"),t(UPDATE_MODEL_EVENT,!1),e.destroyOnClose&&(v.value=!1)}function f(){t("close")}function b(){n==null||n(),o==null||o(),e.openDelay&&e.openDelay>0?{stop:o}=useTimeoutFn(()=>S(),e.openDelay):S()}function C(){o==null||o(),n==null||n(),e.closeDelay&&e.closeDelay>0?{stop:n}=useTimeoutFn(()=>I(),e.closeDelay):I()}function _(x){x||(c.value=!0,u.value=!1)}function w(){e.beforeClose?e.beforeClose(_):C()}function M(){e.closeOnClickModal&&w()}function S(){!isClient||(u.value=!0)}function I(){u.value=!1}return e.lockScroll&&useLockscreen(u),e.closeOnPressEscape&&useModal({handleClose:w},u),useRestoreActive(u),watch(()=>e.modelValue,x=>{x?(c.value=!1,b(),v.value=!0,t("open"),y.value=e.zIndex?y.value++:g(),nextTick(()=>{r.value&&(r.value.scrollTop=0)})):u.value&&C()}),watch(()=>e.fullscreen,x=>{!r.value||(x?(d=r.value.style.transform,r.value.style.transform=""):r.value.style.transform=d)}),onMounted(()=>{e.modelValue&&(u.value=!0,v.value=!0,b())}),{afterEnter:a,afterLeave:m,beforeLeave:f,handleClose:w,onModalClick:M,close:C,doClose:I,closed:c,style:i,rendered:v,visible:u,zIndex:y}},_sfc_main$q=defineComponent({name:"ElDialog",components:{ElOverlay,ElIcon,...CloseComponents},directives:{TrapFocus},props:dialogProps,emits:dialogEmits,setup(e,t){const r=useNamespace("dialog"),d=ref(),u=ref(),c=useDialog(e,t,d),v=useSameTarget(c.onModalClick),g=computed(()=>e.draggable&&!e.fullscreen);return useDraggable(d,u,g),{ns:r,dialogRef:d,headerRef:u,overlayEvent:v,...c}}}),_hoisted_1$c=["aria-label"];function _sfc_render$j(e,t,r,d,u,c){const v=resolveComponent("el-icon"),g=resolveComponent("el-overlay"),y=resolveDirective("trap-focus");return openBlock(),createBlock(Teleport,{to:"body",disabled:!e.appendToBody},[createVNode(Transition,{name:"dialog-fade",onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave},{default:withCtx(()=>[withDirectives(createVNode(g,{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(`${e.ns.namespace.value}-overlay-dialog`),onClick:t[2]||(t[2]=(...o)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...o)),onMousedown:t[3]||(t[3]=(...o)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...o)),onMouseup:t[4]||(t[4]=(...o)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...o))},[withDirectives((openBlock(),createElementBlock("div",{ref:"dialogRef",class:normalizeClass([e.ns.b(),e.ns.is("fullscreen",e.fullscreen),e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center},e.customClass]),"aria-modal":"true",role:"dialog","aria-label":e.title||"dialog",style:normalizeStyle(e.style),onClick:t[1]||(t[1]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{ref:"headerRef",class:normalizeClass(e.ns.e("header"))},[renderSlot(e.$slots,"title",{},()=>[createBaseVNode("span",{class:normalizeClass(e.ns.e("title"))},toDisplayString(e.title),3)]),e.showClose?(openBlock(),createElementBlock("button",{key:0,"aria-label":"close",class:normalizeClass(e.ns.e("headerbtn")),type:"button",onClick:t[0]||(t[0]=(...o)=>e.handleClose&&e.handleClose(...o))},[createVNode(v,{class:normalizeClass(e.ns.e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(e.closeIcon||"close")))]),_:1},8,["class"])],2)):createCommentVNode("v-if",!0)],2),e.rendered?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(e.ns.e("body"))},[renderSlot(e.$slots,"default")],2)):createCommentVNode("v-if",!0),e.$slots.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(e.ns.e("footer"))},[renderSlot(e.$slots,"footer")],2)):createCommentVNode("v-if",!0)],14,_hoisted_1$c)),[[y]])],34)]),_:3},8,["mask","overlay-class","z-index"]),[[vShow,e.visible]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Dialog=_export_sfc$1(_sfc_main$q,[["render",_sfc_render$j]]);const ElDialog=withInstall(Dialog),dividerProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:definePropType(String),default:"solid"}}),_sfc_main$p=defineComponent({name:"ElDivider",props:dividerProps,setup(e){const t=useNamespace("divider"),r=computed(()=>({"--el-border-style":e.borderStyle}));return{ns:t,dividerStyle:r}}});function _sfc_render$i(e,t,r,d,u,c){return openBlock(),createElementBlock("div",{class:normalizeClass([e.ns.b(),e.ns.m(e.direction)]),style:normalizeStyle(e.dividerStyle)},[e.$slots.default&&e.direction!=="vertical"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([e.ns.e("text"),e.ns.is(e.contentPosition)])},[renderSlot(e.$slots,"default")],2)):createCommentVNode("v-if",!0)],6)}var Divider=_export_sfc$1(_sfc_main$p,[["render",_sfc_render$i]]);const ElDivider=withInstall(Divider),obtainAllFocusableElements=e=>{const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:d=>{const u=d.tagName==="INPUT"&&d.type==="hidden";return d.disabled||d.hidden||u?NodeFilter.FILTER_SKIP:d.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t},getVisibleElement=(e,t)=>{for(const r of e)if(!isHidden(r,t))return r},isHidden=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},getEdges=e=>{const t=obtainAllFocusableElements(e),r=getVisibleElement(t,e),d=getVisibleElement(t.reverse(),e);return[r,d]},isSelectable=e=>e instanceof HTMLInputElement&&"select"in e,tryFocus=(e,t)=>{if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&isSelectable(e)&&t&&e.select()}};function removeFromStack(e,t){const r=[...e],d=e.indexOf(t);return d!==-1&&r.splice(d,1),r}const createFocusableStack=()=>{let e=[];return{push:d=>{const u=e[0];u&&d!==u&&u.pause(),e=removeFromStack(e,d),e.unshift(d)},remove:d=>{var u,c;e=removeFromStack(e,d),(c=(u=e[0])==null?void 0:u.resume)==null||c.call(u)}}},focusFirstDescendant=(e,t=!1)=>{const r=document.activeElement;for(const d of e)if(tryFocus(d,t),document.activeElement!==r)return},focusableStack=createFocusableStack(),FOCUS_ON_MOUNT="focus-trap.focus-on-mount",FOCUS_ON_UNMOUNT="focus-trap.focus-on-unmount",FOCUS_ON_MOUNT_OPTS={cancelable:!0,bubbles:!1},ON_MOUNT_FOCUS_EVT="mountOnFocus",ON_UNMOUNT_FOCUS_EVT="unmountOnFocus",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),_sfc_main$o=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean},emits:[ON_MOUNT_FOCUS_EVT,ON_UNMOUNT_FOCUS_EVT],setup(e,{emit:t}){const r=ref(),d=ref(null);let u,c;const v={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},g=i=>{if(!e.loop&&!e.trapped||v.paused)return;const{key:a,altKey:m,ctrlKey:f,metaKey:b,currentTarget:C,shiftKey:_}=i,{loop:w}=e,M=a===EVENT_CODE.tab&&!m&&!f&&!b,S=document.activeElement;if(M&&S){const I=C,[x,E]=getEdges(I);x&&E?!_&&S===E?(i.preventDefault(),w&&tryFocus(x,!0)):_&&S===x&&(i.preventDefault(),w&&tryFocus(E,!0)):S===I&&i.preventDefault()}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:d,onKeydown:g});const y=i=>{t(ON_MOUNT_FOCUS_EVT,i)},o=i=>t(ON_UNMOUNT_FOCUS_EVT,i),n=i=>{const a=unref(d);if(v.paused||!a)return;const m=i.target;m&&a.contains(m)?c=m:tryFocus(c,!0)},s=i=>{const a=unref(d);v.paused||!a||a.contains(i.relatedTarget)||tryFocus(c,!0)};return onMounted(()=>{const i=unref(d);if(i){focusableStack.push(v);const a=document.activeElement;if(u=a,!i.contains(a)){const f=new Event(FOCUS_ON_MOUNT,FOCUS_ON_MOUNT_OPTS);on(i,FOCUS_ON_MOUNT,y),i.dispatchEvent(f),f.defaultPrevented||(focusFirstDescendant(obtainAllFocusableElements(i),!0),document.activeElement===a&&tryFocus(i))}}watch(()=>e.trapped,a=>{a?(on(document,"focusin",n),on(document,"focusout",s)):(off(document,"focusin",n),off(document,"focusout",s))},{immediate:!0})}),onBeforeUnmount(()=>{const i=unref(d);if(i){off(i,FOCUS_ON_MOUNT,y);const a=new Event(FOCUS_ON_UNMOUNT,FOCUS_ON_MOUNT_OPTS);on(i,FOCUS_ON_UNMOUNT,o),i.dispatchEvent(a),a.defaultPrevented||tryFocus(u!=null?u:document.body,!0),off(i,FOCUS_ON_UNMOUNT,o),focusableStack.remove(v)}}),{focusTrapRef:r,forwardRef:d,onKeydown:g}}});function _sfc_render$h(e,t,r,d,u,c){return renderSlot(e.$slots,"default")}var ElFocusTrap=_export_sfc$1(_sfc_main$o,[["render",_sfc_render$h]]);const _sfc_main$n=defineComponent({inheritAttrs:!1});function _sfc_render$g(e,t,r,d,u,c){return renderSlot(e.$slots,"default")}var Collection=_export_sfc$1(_sfc_main$n,[["render",_sfc_render$g]]);const _sfc_main$m=defineComponent({name:"ElCollectionItem",inheritAttrs:!1});function _sfc_render$f(e,t,r,d,u,c){return renderSlot(e.$slots,"default")}var CollectionItem=_export_sfc$1(_sfc_main$m,[["render",_sfc_render$f]]);const COLLECTION_ITEM_SIGN="data-el-collection-item",createCollectionWithScope=e=>{const t=`El${e}Collection`,r=`${t}Item`,d=Symbol(t),u=Symbol(r),c={...Collection,name:t,setup(){const g=ref(null),y=new Map;provide(d,{itemMap:y,getItems:()=>{const n=unref(g);if(!n)return[];const s=Array.from(n.querySelectorAll(`[${COLLECTION_ITEM_SIGN}]`));return[...y.values()].sort((m,f)=>s.indexOf(m.ref)-s.indexOf(f.ref))},collectionRef:g})}},v={...CollectionItem,name:r,setup(g,{attrs:y}){const o=ref(null),n=inject(d,void 0);provide(u,{collectionItemRef:o}),onMounted(()=>{const s=unref(o);s&&n.itemMap.set(s,{ref:s,...y})}),onBeforeUnmount(()=>{const s=unref(o);n.itemMap.delete(s)})}};return{COLLECTION_INJECTION_KEY:d,COLLECTION_ITEM_INJECTION_KEY:u,ElCollection:c,ElCollectionItem:v}},rovingFocusGroupProps=buildProps({style:{type:definePropType([String,Array,Object])},currentTabId:{type:definePropType(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:definePropType(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:ElCollection$1,ElCollectionItem:ElCollectionItem$1,COLLECTION_INJECTION_KEY:COLLECTION_INJECTION_KEY$1,COLLECTION_ITEM_INJECTION_KEY:COLLECTION_ITEM_INJECTION_KEY$1}=createCollectionWithScope("RovingFocusGroup"),ROVING_FOCUS_GROUP_INJECTION_KEY=Symbol("elRovingFocusGroup"),ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY=Symbol("elRovingFocusGroupItem"),MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},getDirectionAwareKey=(e,t)=>{if(t!=="rtl")return e;switch(e){case EVENT_CODE.right:return EVENT_CODE.left;case EVENT_CODE.left:return EVENT_CODE.right;default:return e}},getFocusIntent=(e,t,r)=>{const d=getDirectionAwareKey(e.key,r);if(!(t==="vertical"&&[EVENT_CODE.left,EVENT_CODE.right].includes(d))&&!(t==="horizontal"&&[EVENT_CODE.up,EVENT_CODE.down].includes(d)))return MAP_KEY_TO_FOCUS_INTENT[d]},reorderArray=(e,t)=>e.map((r,d)=>e[(d+t)%e.length]),focusFirst=e=>{const{activeElement:t}=document;for(const r of e)if(r===t||(r.focus(),t!==document.activeElement))return},CURRENT_TAB_ID_CHANGE_EVT="currentTabIdChange",ENTRY_FOCUS_EVT="rovingFocusGroup.entryFocus",EVT_OPTS={bubbles:!1,cancelable:!0},_sfc_main$l=defineComponent({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:rovingFocusGroupProps,emits:[CURRENT_TAB_ID_CHANGE_EVT,"entryFocus"],setup(e,{emit:t}){var r;const d=ref((r=e.currentTabId||e.defaultCurrentTabId)!=null?r:null),u=ref(!1),c=ref(!1),v=ref(null),{getItems:g}=inject(COLLECTION_INJECTION_KEY$1,void 0),y=computed(()=>[{outline:"none"},e.style]),o=f=>{t(CURRENT_TAB_ID_CHANGE_EVT,f)},n=()=>{u.value=!0},s=composeEventHandlers(f=>{var b;(b=e.onMousedown)==null||b.call(e,f)},()=>{c.value=!0}),i=composeEventHandlers(f=>{var b;(b=e.onFocus)==null||b.call(e,f)},f=>{const b=!unref(c),{target:C,currentTarget:_}=f;if(C===_&&b&&!unref(u)){const w=new Event(ENTRY_FOCUS_EVT,EVT_OPTS);if(_==null||_.dispatchEvent(w),!w.defaultPrevented){const M=g().filter(D=>D.focusable),S=M.find(D=>D.active),I=M.find(D=>D.id===unref(d)),E=[S,I,...M].filter(Boolean).map(D=>D.ref);focusFirst(E)}}c.value=!1}),a=composeEventHandlers(f=>{var b;(b=e.onBlur)==null||b.call(e,f)},()=>{u.value=!1}),m=(...f)=>{t("entryFocus",...f)};provide(ROVING_FOCUS_GROUP_INJECTION_KEY,{currentTabbedId:readonly(d),loop:toRef(e,"loop"),tabIndex:computed(()=>unref(u)?-1:0),rovingFocusGroupRef:v,rovingFocusGroupRootStyle:y,orientation:toRef(e,"orientation"),dir:toRef(e,"dir"),onItemFocus:o,onItemShiftTab:n,onBlur:a,onFocus:i,onMousedown:s}),watch(()=>e.currentTabId,f=>{d.value=f!=null?f:null}),onMounted(()=>{const f=unref(v);on(f,ENTRY_FOCUS_EVT,m)}),onBeforeUnmount(()=>{const f=unref(v);off(f,ENTRY_FOCUS_EVT,m)})}});function _sfc_render$e(e,t,r,d,u,c){return renderSlot(e.$slots,"default")}var ElRovingFocusGroupImpl=_export_sfc$1(_sfc_main$l,[["render",_sfc_render$e]]);const _sfc_main$k=defineComponent({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ElCollection$1,ElRovingFocusGroupImpl}});function _sfc_render$d(e,t,r,d,u,c){const v=resolveComponent("el-roving-focus-group-impl"),g=resolveComponent("el-focus-group-collection");return openBlock(),createBlock(g,null,{default:withCtx(()=>[createVNode(v,normalizeProps(guardReactiveProps(e.$attrs)),{default:withCtx(()=>[renderSlot(e.$slots,"default")]),_:3},16)]),_:3})}var ElRovingFocusGroup=_export_sfc$1(_sfc_main$k,[["render",_sfc_render$d]]);const _sfc_main$j=defineComponent({components:{ElRovingFocusCollectionItem:ElCollectionItem$1},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:r,loop:d,onItemFocus:u,onItemShiftTab:c}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{getItems:v}=inject(COLLECTION_INJECTION_KEY$1,void 0),g=useId(),y=ref(null),o=composeEventHandlers(a=>{t("mousedown",a)},a=>{e.focusable?u(unref(g)):a.preventDefault()}),n=composeEventHandlers(a=>{t("focus",a)},()=>{u(unref(g))}),s=composeEventHandlers(a=>{t("keydown",a)},a=>{const{key:m,shiftKey:f,target:b,currentTarget:C}=a;if(m===EVENT_CODE.tab&&f){c();return}if(b!==C)return;const _=getFocusIntent(a);if(_){a.preventDefault();let M=v().filter(S=>S.focusable).map(S=>S.ref);switch(_){case"last":{M.reverse();break}case"prev":case"next":{_==="prev"&&M.reverse();const S=M.indexOf(C);M=d.value?reorderArray(M,S+1):M.slice(S+1);break}}nextTick(()=>{focusFirst(M)})}}),i=computed(()=>r.value===unref(g));return provide(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,{rovingFocusGroupItemRef:y,tabIndex:computed(()=>unref(i)?0:-1),handleMousedown:o,handleFocus:n,handleKeydown:s}),{id:g,handleKeydown:s,handleFocus:n,handleMousedown:o}}});function _sfc_render$c(e,t,r,d,u,c){const v=resolveComponent("el-roving-focus-collection-item");return openBlock(),createBlock(v,{id:e.id,focusable:e.focusable,active:e.active},{default:withCtx(()=>[renderSlot(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var ElRovingFocusItem=_export_sfc$1(_sfc_main$j,[["render",_sfc_render$c]]);const dropdownProps=buildProps({trigger:useTooltipTriggerProps.trigger,effect:{...useTooltipContentProps.effect,default:"light"},type:{type:definePropType(String)},placement:{type:definePropType(String),default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:definePropType([Number,String]),default:0},maxHeight:{type:definePropType([Number,String]),default:""},popperClass:{type:String,default:""}}),dropdownItemProps=buildProps({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:iconPropType}}),dropdownMenuProps=buildProps({onKeydown:{type:definePropType(Function)}}),FIRST_KEYS=[EVENT_CODE.down,EVENT_CODE.pageDown,EVENT_CODE.home],LAST_KEYS=[EVENT_CODE.up,EVENT_CODE.pageUp,EVENT_CODE.end],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],{ElCollection,ElCollectionItem,COLLECTION_INJECTION_KEY,COLLECTION_ITEM_INJECTION_KEY}=createCollectionWithScope("Dropdown"),DROPDOWN_INJECTION_KEY=Symbol("elDropdown"),{ButtonGroup:ElButtonGroup}=ElButton,_sfc_main$i=defineComponent({name:"ElDropdown",components:{ElButton,ElFocusTrap,ElButtonGroup,ElScrollbar,ElDropdownCollection:ElCollection,ElTooltip,ElRovingFocusGroup,ElIcon,ArrowDown:arrowDown},props:dropdownProps,emits:["visible-change","click","command"],setup(e,{emit:t}){const r=getCurrentInstance(),d=useNamespace("dropdown"),u=ref(),c=ref(),v=ref(null),g=ref(null),y=ref(null),o=ref(null),n=ref(!1),s=computed(()=>({maxHeight:addUnit(e.maxHeight)})),i=computed(()=>[d.m(b.value)]);function a(){m()}function m(){var E;(E=v.value)==null||E.onClose()}function f(){var E;(E=v.value)==null||E.onOpen()}const b=useSize();function C(...E){t("command",...E)}function _(){}function w(){const E=unref(g);E==null||E.focus(),o.value=null}function M(E){o.value=E}function S(E){n.value||(E.preventDefault(),E.stopImmediatePropagation())}return provide(DROPDOWN_INJECTION_KEY,{contentRef:g,isUsingKeyboard:n,onItemEnter:_,onItemLeave:w}),provide("elDropdown",{instance:r,dropdownSize:b,handleClick:a,commandHandler:C,trigger:toRef(e,"trigger"),hideOnClick:toRef(e,"hideOnClick")}),{ns:d,scrollbar:y,wrapStyle:s,dropdownTriggerKls:i,dropdownSize:b,currentTabId:o,handleCurrentTabIdChange:M,handlerMainButtonClick:E=>{t("click",E)},handleEntryFocus:S,handleClose:m,handleOpen:f,onMountOnFocus:E=>{var D,R;E.preventDefault(),(R=(D=g.value)==null?void 0:D.focus)==null||R.call(D,{preventScroll:!0})},popperRef:v,triggeringElementRef:u,referenceElementRef:c}}});function _sfc_render$b(e,t,r,d,u,c){var v;const g=resolveComponent("el-dropdown-collection"),y=resolveComponent("el-roving-focus-group"),o=resolveComponent("el-focus-trap"),n=resolveComponent("el-scrollbar"),s=resolveComponent("el-tooltip"),i=resolveComponent("el-button"),a=resolveComponent("arrow-down"),m=resolveComponent("el-icon"),f=resolveComponent("el-button-group");return openBlock(),createElementBlock("div",{class:normalizeClass(e.ns.b())},[createVNode(s,{ref:"popperRef",effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.hideTimeout,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(v=e.referenceElementRef)==null?void 0:v.$el,trigger:e.trigger,"show-after":e.showTimeout,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,"append-to-body":"",pure:"",transition:`${e.ns.namespace.value}-zoom-in-top`,persistent:"",onShow:t[0]||(t[0]=b=>e.$emit("visible-change",!0)),onHide:t[1]||(t[1]=b=>e.$emit("visible-change",!1))},createSlots({content:withCtx(()=>[createVNode(n,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"ul","view-class":e.ns.e("list")},{default:withCtx(()=>[createVNode(o,{trapped:"",onMountOnFocus:e.onMountOnFocus},{default:withCtx(()=>[createVNode(y,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:withCtx(()=>[createVNode(g,null,{default:withCtx(()=>[renderSlot(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["onMountOnFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(e.dropdownTriggerKls)},[renderSlot(e.$slots,"default")],2)])}]),1032,["effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","show-after","virtual-ref","virtual-triggering","transition"]),e.splitButton?(openBlock(),createBlock(f,{key:0},{default:withCtx(()=>[createVNode(i,{ref:"referenceElementRef",size:e.dropdownSize,type:e.type,onClick:e.handlerMainButtonClick},{default:withCtx(()=>[renderSlot(e.$slots,"default")]),_:3},8,["size","type","onClick"]),createVNode(i,{ref:"triggeringElementRef",size:e.dropdownSize,type:e.type,class:normalizeClass(e.ns.e("caret-button"))},{default:withCtx(()=>[createVNode(m,{class:normalizeClass(e.ns.e("icon"))},{default:withCtx(()=>[createVNode(a)]),_:1},8,["class"])]),_:1},8,["size","type","class"])]),_:3})):createCommentVNode("v-if",!0)],2)}var Dropdown=_export_sfc$1(_sfc_main$i,[["render",_sfc_render$b]]);const _sfc_main$h=defineComponent({name:"DropdownItemImpl",components:{ElIcon},props:dropdownItemProps,emits:["pointermove","pointerleave","click"],setup(e,{emit:t}){const r=useNamespace("dropdown"),{collectionItemRef:d}=inject(COLLECTION_ITEM_INJECTION_KEY,void 0),{collectionItemRef:u}=inject(COLLECTION_ITEM_INJECTION_KEY$1,void 0),{rovingFocusGroupItemRef:c,tabIndex:v,handleFocus:g,handleKeydown:y,handleMousedown:o}=inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,void 0),n=composeRefs(d,u,c),s=composeEventHandlers(i=>{const{code:a}=i;if(a===EVENT_CODE.enter||a===EVENT_CODE.space)return i.preventDefault(),i.stopImmediatePropagation(),t("click",i),!0},y);return{ns:r,itemRef:n,dataset:{[COLLECTION_ITEM_SIGN]:""},tabIndex:v,handleFocus:g,handleKeydown:s,handleMousedown:o}}}),_hoisted_1$b=["aria-disabled","tabindex"];function _sfc_render$a(e,t,r,d,u,c){const v=resolveComponent("el-icon");return openBlock(),createElementBlock(Fragment,null,[e.divided?(openBlock(),createElementBlock("div",mergeProps({key:0,class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):createCommentVNode("v-if",!0),createBaseVNode("div",mergeProps({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:"menuitem",onClick:t[0]||(t[0]=g=>e.$emit("click",g)),onFocus:t[1]||(t[1]=(...g)=>e.handleFocus&&e.handleFocus(...g)),onKeydown:t[2]||(t[2]=(...g)=>e.handleKeydown&&e.handleKeydown(...g)),onMousedown:t[3]||(t[3]=(...g)=>e.handleMousedown&&e.handleMousedown(...g)),onPointermove:t[4]||(t[4]=g=>e.$emit("pointermove",g)),onPointerleave:t[5]||(t[5]=g=>e.$emit("pointerleave",g))}),[e.icon?(openBlock(),createBlock(v,{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(e.icon)))]),_:1})):createCommentVNode("v-if",!0),renderSlot(e.$slots,"default")],16,_hoisted_1$b)],64)}var ElDropdownItemImpl=_export_sfc$1(_sfc_main$h,[["render",_sfc_render$a]]);const useDropdown=()=>{const e=inject("elDropdown",{}),t=computed(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},_sfc_main$g=defineComponent({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ElCollectionItem,ElRovingFocusItem,ElDropdownItemImpl},inheritAttrs:!1,props:dropdownItemProps,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:r}){const{elDropdown:d}=useDropdown(),u=getCurrentInstance(),c=ref(null),v=computed(()=>{var a,m;return(m=(a=unref(c))==null?void 0:a.textContent)!=null?m:""}),{onItemEnter:g,onItemLeave:y}=inject(DROPDOWN_INJECTION_KEY,void 0),o=composeEventHandlers(a=>(t("pointermove",a),a.defaultPrevented),whenMouse(a=>{var m;e.disabled?y(a):(g(a),a.defaultPrevented||(m=a.currentTarget)==null||m.focus())})),n=composeEventHandlers(a=>(t("pointerleave",a),a.defaultPrevented),whenMouse(a=>{y(a)})),s=composeEventHandlers(a=>(t("click",a),a.defaultPrevented),a=>{var m,f,b;if(e.disabled){a.stopImmediatePropagation();return}(m=d==null?void 0:d.hideOnClick)!=null&&m.value&&((f=d.handleClick)==null||f.call(d)),(b=d.commandHandler)==null||b.call(d,e.command,u,a)}),i=computed(()=>({...e,...r}));return{handleClick:s,handlePointerMove:o,handlePointerLeave:n,textContent:v,propsAndAttrs:i}}});function _sfc_render$9(e,t,r,d,u,c){var v;const g=resolveComponent("el-dropdown-item-impl"),y=resolveComponent("el-roving-focus-item"),o=resolveComponent("el-dropdown-collection-item");return openBlock(),createBlock(o,{disabled:e.disabled,"text-value":(v=e.textValue)!=null?v:e.textContent},{default:withCtx(()=>[createVNode(y,{focusable:!e.disabled},{default:withCtx(()=>[createVNode(g,mergeProps(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClick:e.handleClick}),{default:withCtx(()=>[renderSlot(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClick"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var DropdownItem=_export_sfc$1(_sfc_main$g,[["render",_sfc_render$9]]);const _sfc_main$f=defineComponent({name:"ElDropdownMenu",props:dropdownMenuProps,setup(e){const t=useNamespace("dropdown"),{_elDropdownSize:r}=useDropdown(),d=r.value,{focusTrapRef:u,onKeydown:c}=inject(FOCUS_TRAP_INJECTION_KEY,void 0),{contentRef:v}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionRef:g,getItems:y}=inject(COLLECTION_INJECTION_KEY,void 0),{rovingFocusGroupRef:o,rovingFocusGroupRootStyle:n,tabIndex:s,onBlur:i,onFocus:a,onMousedown:m}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{collectionRef:f}=inject(COLLECTION_INJECTION_KEY$1,void 0),b=computed(()=>[t.b("menu"),t.bm("menu",d==null?void 0:d.value)]),C=composeRefs(v,g,u,o,f),_=composeEventHandlers(M=>{var S;(S=e.onKeydown)==null||S.call(e,M)},M=>{const{currentTarget:S,code:I,target:x}=M;if(S.contains(x),EVENT_CODE.tab===I&&M.stopImmediatePropagation(),M.preventDefault(),x!==unref(v)||!FIRST_LAST_KEYS.includes(I))return;const D=y().filter(R=>!R.disabled).map(R=>R.ref);LAST_KEYS.includes(I)&&D.reverse(),focusFirst(D)});return{size:d,rovingFocusGroupRootStyle:n,tabIndex:s,dropdownKls:b,dropdownListWrapperRef:C,handleKeydown:M=>{_(M),c(M)},onBlur:i,onFocus:a,onMousedown:m}}});function _sfc_render$8(e,t,r,d,u,c){return openBlock(),createElementBlock("ul",{ref:e.dropdownListWrapperRef,class:normalizeClass(e.dropdownKls),style:normalizeStyle(e.rovingFocusGroupRootStyle),tabindex:-1,role:"menu",onBlur:t[0]||(t[0]=(...v)=>e.onBlur&&e.onBlur(...v)),onFocus:t[1]||(t[1]=(...v)=>e.onFocus&&e.onFocus(...v)),onKeydown:t[2]||(t[2]=(...v)=>e.handleKeydown&&e.handleKeydown(...v)),onMousedown:t[3]||(t[3]=(...v)=>e.onMousedown&&e.onMousedown(...v))},[renderSlot(e.$slots,"default")],38)}var DropdownMenu=_export_sfc$1(_sfc_main$f,[["render",_sfc_render$8]]);const ElDropdown=withInstall(Dropdown,{DropdownItem,DropdownMenu}),ElDropdownItem=withNoopInstall(DropdownItem),ElDropdownMenu=withNoopInstall(DropdownMenu);function useFormLabelWidth(){const e=ref([]),t=computed(()=>{if(!e.value.length)return"0";const c=Math.max(...e.value);return c?`${c}px`:""});function r(c){return e.value.indexOf(c)}function d(c,v){if(c&&v){const g=r(v);e.value.splice(g,1,c)}else c&&e.value.push(c)}function u(c){const v=r(c);v>-1&&e.value.splice(v,1)}return{autoLabelWidth:t,registerLabelWidth:d,deregisterLabelWidth:u}}const _sfc_main$e=defineComponent({name:"ElForm",props:{model:Object,rules:Object,labelPosition:String,labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean},emits:["validate"],setup(e,{emit:t}){const r=[];watch(()=>e.rules,()=>{r.forEach(m=>{m.evaluateValidationEnabled()}),e.validateOnRuleChange&&n(()=>({}))});const d=useSize(),u="el-form",c=computed(()=>{const{labelPosition:m,inline:f}=e;return[u,`${u}--${d.value}`,m?`${u}--label-${m}`:"",f?`${u}--inline`:""]}),v=m=>{m&&r.push(m)},g=m=>{m.prop&&r.splice(r.indexOf(m),1)},y=()=>{!e.model||r.forEach(m=>{m.resetField()})},o=(m=[])=>{(m.length?typeof m=="string"?r.filter(b=>m===b.prop):r.filter(b=>m.indexOf(b.prop)>-1):r).forEach(b=>{b.clearValidate()})},n=m=>{if(!e.model)return;let f;typeof m!="function"&&(f=new Promise((M,S)=>{m=function(I,x){I?M(!0):S(x)}})),r.length===0&&m(!0);let b=!0,C=0,_={},w;for(const M of r)M.validate("",(S,I)=>{S&&(b=!1,w||(w=I)),_={..._,...I},++C===r.length&&m(b,_)});return!b&&e.scrollToError&&i(Object.keys(w)[0]),f},s=(m,f)=>{m=[].concat(m);const b=r.filter(C=>m.indexOf(C.prop)!==-1);!r.length||b.forEach(C=>{C.validate("",f)})},i=m=>{r.forEach(f=>{var b,C;f.prop===m&&((C=(b=f.$el).scrollIntoView)==null||C.call(b))})},a=reactive({...toRefs(e),resetFields:y,clearValidate:o,validateField:s,emit:t,addField:v,removeField:g,...useFormLabelWidth()});return provide(elFormKey,a),{formKls:c,validate:n,resetFields:y,clearValidate:o,validateField:s,scrollToField:i}}});function _sfc_render$7(e,t,r,d,u,c){return openBlock(),createElementBlock("form",{class:normalizeClass(e.formKls)},[renderSlot(e.$slots,"default")],2)}var Form=_export_sfc$1(_sfc_main$e,[["render",_sfc_render$7]]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(e[d]=r[d])}return e},_extends.apply(this,arguments)}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,u){return d.__proto__=u,d},_setPrototypeOf(e,t)}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(e,t,r){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(u,c,v){var g=[null];g.push.apply(g,c);var y=Function.bind.apply(u,g),o=new y;return v&&_setPrototypeOf(o,v.prototype),o},_construct.apply(null,arguments)}function _isNativeFunction(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function _wrapNativeSuper(e){var t=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(d){if(d===null||!_isNativeFunction(d))return d;if(typeof d!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(d))return t.get(d);t.set(d,u)}function u(){return _construct(d,arguments,_getPrototypeOf(this).constructor)}return u.prototype=Object.create(d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(u,d)},_wrapNativeSuper(e)}var formatRegExp=/%[sdj%]/g,warning=function(){};typeof process!="undefined"&&process.env;function convertFieldsError(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var d=r.field;t[d]=t[d]||[],t[d].push(r)}),t}function format(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),d=1;d<t;d++)r[d-1]=arguments[d];var u=0,c=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var v=e.replace(formatRegExp,function(g){if(g==="%%")return"%";if(u>=c)return g;switch(g){case"%s":return String(r[u++]);case"%d":return Number(r[u++]);case"%j":try{return JSON.stringify(r[u++])}catch{return"[Circular]"}break;default:return g}});return v}return e}function isNativeStringType(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function isEmptyValue(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||isNativeStringType(t)&&typeof e=="string"&&!e)}function asyncParallelArray(e,t,r){var d=[],u=0,c=e.length;function v(g){d.push.apply(d,g||[]),u++,u===c&&r(d)}e.forEach(function(g){t(g,v)})}function asyncSerialArray(e,t,r){var d=0,u=e.length;function c(v){if(v&&v.length){r(v);return}var g=d;d=d+1,g<u?t(e[g],c):r([])}c([])}function flattenObjArr(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,e[r]||[])}),t}var AsyncValidationError=function(e){_inheritsLoose(t,e);function t(r,d){var u;return u=e.call(this,"Async Validation Error")||this,u.errors=r,u.fields=d,u}return t}(_wrapNativeSuper(Error));function asyncMap(e,t,r,d,u){if(t.first){var c=new Promise(function(i,a){var m=function(C){return d(C),C.length?a(new AsyncValidationError(C,convertFieldsError(C))):i(u)},f=flattenObjArr(e);asyncSerialArray(f,r,m)});return c.catch(function(i){return i}),c}var v=t.firstFields===!0?Object.keys(e):t.firstFields||[],g=Object.keys(e),y=g.length,o=0,n=[],s=new Promise(function(i,a){var m=function(b){if(n.push.apply(n,b),o++,o===y)return d(n),n.length?a(new AsyncValidationError(n,convertFieldsError(n))):i(u)};g.length||(d(n),i(u)),g.forEach(function(f){var b=e[f];v.indexOf(f)!==-1?asyncSerialArray(b,r,m):asyncParallelArray(b,r,m)})});return s.catch(function(i){return i}),s}function isErrorObj(e){return!!(e&&e.message!==void 0)}function getValue(e,t){for(var r=e,d=0;d<t.length;d++){if(r==null)return r;r=r[t[d]]}return r}function complementError(e,t){return function(r){var d;return e.fullFields?d=getValue(t,e.fullFields):d=t[r.field||e.fullField],isErrorObj(r)?(r.field=r.field||e.fullField,r.fieldValue=d,r):{message:typeof r=="function"?r():r,fieldValue:d,field:r.field||e.fullField}}}function deepMerge(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var d=t[r];typeof d=="object"&&typeof e[r]=="object"?e[r]=_extends({},e[r],d):e[r]=d}}return e}var required$1=function(t,r,d,u,c,v){t.required&&(!d.hasOwnProperty(t.field)||isEmptyValue(r,v||t.type))&&u.push(format(c.messages.required,t.fullField))},whitespace=function(t,r,d,u,c){(/^\s+$/.test(r)||r==="")&&u.push(format(c.messages.whitespace,t.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var e="[a-fA-F\\d:]",t=function(M){return M&&M.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",d="[a-fA-F\\d]{1,4}",u=(`
(?:
(?:`+d+":){7}(?:"+d+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+d+":){6}(?:"+r+"|:"+d+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+d+":){5}(?::"+r+"|(?::"+d+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+d+":){4}(?:(?::"+d+"){0,1}:"+r+"|(?::"+d+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+d+":){3}(?:(?::"+d+"){0,2}:"+r+"|(?::"+d+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+d+":){2}(?:(?::"+d+"){0,3}:"+r+"|(?::"+d+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+d+":){1}(?:(?::"+d+"){0,4}:"+r+"|(?::"+d+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+d+"){0,5}:"+r+"|(?::"+d+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),c=new RegExp("(?:^"+r+"$)|(?:^"+u+"$)"),v=new RegExp("^"+r+"$"),g=new RegExp("^"+u+"$"),y=function(M){return M&&M.exact?c:new RegExp("(?:"+t(M)+r+t(M)+")|(?:"+t(M)+u+t(M)+")","g")};y.v4=function(w){return w&&w.exact?v:new RegExp(""+t(w)+r+t(w),"g")},y.v6=function(w){return w&&w.exact?g:new RegExp(""+t(w)+u+t(w),"g")};var o="(?:(?:[a-z]+:)?//)",n="(?:\\S+(?::\\S*)?@)?",s=y.v4().source,i=y.v6().source,a="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",m="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",f="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",C='(?:[/?#][^\\s"]*)?',_="(?:"+o+"|www\\.)"+n+"(?:localhost|"+s+"|"+i+"|"+a+m+f+")"+b+C;return urlReg=new RegExp("(?:^"+_+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function(t){return types.number(t)&&parseInt(t,10)===t},float:function(t){return types.number(t)&&!types.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!types.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(pattern$2.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(getUrlRegex())},hex:function(t){return typeof t=="string"&&!!t.match(pattern$2.hex)}},type$1=function(t,r,d,u,c){if(t.required&&r===void 0){required$1(t,r,d,u,c);return}var v=["integer","float","array","regexp","object","method","email","number","date","url","hex"],g=t.type;v.indexOf(g)>-1?types[g](r)||u.push(format(c.messages.types[g],t.fullField,t.type)):g&&typeof r!==t.type&&u.push(format(c.messages.types[g],t.fullField,t.type))},range=function(t,r,d,u,c){var v=typeof t.len=="number",g=typeof t.min=="number",y=typeof t.max=="number",o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n=r,s=null,i=typeof r=="number",a=typeof r=="string",m=Array.isArray(r);if(i?s="number":a?s="string":m&&(s="array"),!s)return!1;m&&(n=r.length),a&&(n=r.replace(o,"_").length),v?n!==t.len&&u.push(format(c.messages[s].len,t.fullField,t.len)):g&&!y&&n<t.min?u.push(format(c.messages[s].min,t.fullField,t.min)):y&&!g&&n>t.max?u.push(format(c.messages[s].max,t.fullField,t.max)):g&&y&&(n<t.min||n>t.max)&&u.push(format(c.messages[s].range,t.fullField,t.min,t.max))},ENUM$1="enum",enumerable$1=function(t,r,d,u,c){t[ENUM$1]=Array.isArray(t[ENUM$1])?t[ENUM$1]:[],t[ENUM$1].indexOf(r)===-1&&u.push(format(c.messages[ENUM$1],t.fullField,t[ENUM$1].join(", ")))},pattern$1=function(t,r,d,u,c){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||u.push(format(c.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var v=new RegExp(t.pattern);v.test(r)||u.push(format(c.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r,"string")&&!t.required)return d();rules.required(t,r,u,v,c,"string"),isEmptyValue(r,"string")||(rules.type(t,r,u,v,c),rules.range(t,r,u,v,c),rules.pattern(t,r,u,v,c),t.whitespace===!0&&rules.whitespace(t,r,u,v,c))}d(v)},method=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r)&&!t.required)return d();rules.required(t,r,u,v,c),r!==void 0&&rules.type(t,r,u,v,c)}d(v)},number=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(r===""&&(r=void 0),isEmptyValue(r)&&!t.required)return d();rules.required(t,r,u,v,c),r!==void 0&&(rules.type(t,r,u,v,c),rules.range(t,r,u,v,c))}d(v)},_boolean=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r)&&!t.required)return d();rules.required(t,r,u,v,c),r!==void 0&&rules.type(t,r,u,v,c)}d(v)},regexp=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r)&&!t.required)return d();rules.required(t,r,u,v,c),isEmptyValue(r)||rules.type(t,r,u,v,c)}d(v)},integer=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r)&&!t.required)return d();rules.required(t,r,u,v,c),r!==void 0&&(rules.type(t,r,u,v,c),rules.range(t,r,u,v,c))}d(v)},floatFn=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r)&&!t.required)return d();rules.required(t,r,u,v,c),r!==void 0&&(rules.type(t,r,u,v,c),rules.range(t,r,u,v,c))}d(v)},array=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(r==null&&!t.required)return d();rules.required(t,r,u,v,c,"array"),r!=null&&(rules.type(t,r,u,v,c),rules.range(t,r,u,v,c))}d(v)},object=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r)&&!t.required)return d();rules.required(t,r,u,v,c),r!==void 0&&rules.type(t,r,u,v,c)}d(v)},ENUM="enum",enumerable=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r)&&!t.required)return d();rules.required(t,r,u,v,c),r!==void 0&&rules[ENUM](t,r,u,v,c)}d(v)},pattern=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r,"string")&&!t.required)return d();rules.required(t,r,u,v,c),isEmptyValue(r,"string")||rules.pattern(t,r,u,v,c)}d(v)},date=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r,"date")&&!t.required)return d();if(rules.required(t,r,u,v,c),!isEmptyValue(r,"date")){var y;r instanceof Date?y=r:y=new Date(r),rules.type(t,y,u,v,c),y&&rules.range(t,y.getTime(),u,v,c)}}d(v)},required=function(t,r,d,u,c){var v=[],g=Array.isArray(r)?"array":typeof r;rules.required(t,r,u,v,c,g),d(v)},type=function(t,r,d,u,c){var v=t.type,g=[],y=t.required||!t.required&&u.hasOwnProperty(t.field);if(y){if(isEmptyValue(r,v)&&!t.required)return d();rules.required(t,r,u,g,c,v),isEmptyValue(r,v)||rules.type(t,r,u,g,c)}d(g)},any=function(t,r,d,u,c){var v=[],g=t.required||!t.required&&u.hasOwnProperty(t.field);if(g){if(isEmptyValue(r)&&!t.required)return d();rules.required(t,r,u,v,c)}d(v)},validators={string,method,number,boolean:_boolean,regexp,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var messages=newMessages(),Schema=function(){function e(r){this.rules=null,this._messages=messages,this.define(r)}var t=e.prototype;return t.define=function(d){var u=this;if(!d)throw new Error("Cannot configure a schema with no rules");if(typeof d!="object"||Array.isArray(d))throw new Error("Rules must be an object");this.rules={},Object.keys(d).forEach(function(c){var v=d[c];u.rules[c]=Array.isArray(v)?v:[v]})},t.messages=function(d){return d&&(this._messages=deepMerge(newMessages(),d)),this._messages},t.validate=function(d,u,c){var v=this;u===void 0&&(u={}),c===void 0&&(c=function(){});var g=d,y=u,o=c;if(typeof y=="function"&&(o=y,y={}),!this.rules||Object.keys(this.rules).length===0)return o&&o(null,g),Promise.resolve(g);function n(f){var b=[],C={};function _(M){if(Array.isArray(M)){var S;b=(S=b).concat.apply(S,M)}else b.push(M)}for(var w=0;w<f.length;w++)_(f[w]);b.length?(C=convertFieldsError(b),o(b,C)):o(null,g)}if(y.messages){var s=this.messages();s===messages&&(s=newMessages()),deepMerge(s,y.messages),y.messages=s}else y.messages=this.messages();var i={},a=y.keys||Object.keys(this.rules);a.forEach(function(f){var b=v.rules[f],C=g[f];b.forEach(function(_){var w=_;typeof w.transform=="function"&&(g===d&&(g=_extends({},g)),C=g[f]=w.transform(C)),typeof w=="function"?w={validator:w}:w=_extends({},w),w.validator=v.getValidationMethod(w),w.validator&&(w.field=f,w.fullField=w.fullField||f,w.type=v.getType(w),i[f]=i[f]||[],i[f].push({rule:w,value:C,source:g,field:f}))})});var m={};return asyncMap(i,y,function(f,b){var C=f.rule,_=(C.type==="object"||C.type==="array")&&(typeof C.fields=="object"||typeof C.defaultField=="object");_=_&&(C.required||!C.required&&f.value),C.field=f.field;function w(I,x){return _extends({},x,{fullField:C.fullField+"."+I,fullFields:C.fullFields?[].concat(C.fullFields,[I]):[I]})}function M(I){I===void 0&&(I=[]);var x=Array.isArray(I)?I:[I];!y.suppressWarning&&x.length&&e.warning("async-validator:",x),x.length&&C.message!==void 0&&(x=[].concat(C.message));var E=x.map(complementError(C,g));if(y.first&&E.length)return m[C.field]=1,b(E);if(!_)b(E);else{if(C.required&&!f.value)return C.message!==void 0?E=[].concat(C.message).map(complementError(C,g)):y.error&&(E=[y.error(C,format(y.messages.required,C.field))]),b(E);var D={};C.defaultField&&Object.keys(f.value).map(function(A){D[A]=C.defaultField}),D=_extends({},D,f.rule.fields);var R={};Object.keys(D).forEach(function(A){var j=D[A],H=Array.isArray(j)?j:[j];R[A]=H.map(w.bind(null,A))});var q=new e(R);q.messages(y.messages),f.rule.options&&(f.rule.options.messages=y.messages,f.rule.options.error=y.error),q.validate(f.value,f.rule.options||y,function(A){var j=[];E&&E.length&&j.push.apply(j,E),A&&A.length&&j.push.apply(j,A),b(j.length?j:null)})}}var S;if(C.asyncValidator)S=C.asyncValidator(C,f.value,M,f.source,y);else if(C.validator){try{S=C.validator(C,f.value,M,f.source,y)}catch(I){console.error==null||console.error(I),y.suppressValidatorError||setTimeout(function(){throw I},0),M(I.message)}S===!0?M():S===!1?M(typeof C.message=="function"?C.message(C.fullField||C.field):C.message||(C.fullField||C.field)+" fails"):S instanceof Array?M(S):S instanceof Error&&M(S.message)}S&&S.then&&S.then(function(){return M()},function(I){return M(I)})},function(f){n(f)},g)},t.getType=function(d){if(d.type===void 0&&d.pattern instanceof RegExp&&(d.type="pattern"),typeof d.validator!="function"&&d.type&&!validators.hasOwnProperty(d.type))throw new Error(format("Unknown rule type %s",d.type));return d.type||"string"},t.getValidationMethod=function(d){if(typeof d.validator=="function")return d.validator;var u=Object.keys(d),c=u.indexOf("message");return c!==-1&&u.splice(c,1),u.length===1&&u[0]==="required"?validators.required:validators[this.getType(d)]||void 0},e}();Schema.register=function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[t]=r};Schema.warning=warning;Schema.messages=messages;Schema.validators=validators;var LabelWrap=defineComponent({name:"ElLabelWrap",props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const r=ref(null),d=inject(elFormKey),u=inject(elFormItemKey),c=ref(0);watch(c,(n,s)=>{e.updateAll&&(d.registerLabelWidth(n,s),u.updateComputedLabelWidth(n))});const v=()=>{var n;if((n=r.value)!=null&&n.firstElementChild){const s=window.getComputedStyle(r.value.firstElementChild).width;return Math.ceil(parseFloat(s))}else return 0},g=(n="update")=>{nextTick(()=>{t.default&&e.isAutoWidth&&(n==="update"?c.value=v():n==="remove"&&d.deregisterLabelWidth(c.value))})},y=()=>g("update");onMounted(()=>{addResizeListener(r.value.firstElementChild,y),y()}),onUpdated(y),onBeforeUnmount(()=>{var n;g("remove"),removeResizeListener((n=r.value)==null?void 0:n.firstElementChild,y)});function o(){var n,s;if(!t)return null;if(e.isAutoWidth){const i=d.autoLabelWidth,a={};if(i&&i!=="auto"){const m=Math.max(0,parseInt(i,10)-c.value),f=d.labelPosition==="left"?"marginRight":"marginLeft";m&&(a[f]=`${m}px`)}return h("div",{ref:r,class:["el-form-item__label-wrap"],style:a},(n=t.default)==null?void 0:n.call(t))}else return h(Fragment,{ref:r},(s=t.default)==null?void 0:s.call(t))}return o}});const _sfc_main$d=defineComponent({name:"ElFormItem",componentName:"ElFormItem",components:{LabelWrap},props:{label:String,labelWidth:{type:[String,Number],default:""},prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,validator:isValidComponentSize}},setup(e,{slots:t}){const r=inject(elFormKey,{}),d=ref(""),u=ref(""),c=ref(!1),v=ref(""),g=ref(),y=getCurrentInstance(),o=computed(()=>{let A=y.parent;for(;A&&A.type.name!=="ElForm";){if(A.type.name==="ElFormItem")return!0;A=A.parent}return!1});let n;watch(()=>e.error,A=>{u.value=A,d.value=A?"error":""},{immediate:!0}),watch(()=>e.validateStatus,A=>{d.value=A});const s=computed(()=>e.for||e.prop),i=computed(()=>{const A={};if(r.labelPosition==="top")return A;const j=addUnit(e.labelWidth||r.labelWidth);return j&&(A.width=j),A}),a=computed(()=>{const A={};if(r.labelPosition==="top"||r.inline||!e.label&&!e.labelWidth&&o.value)return A;const j=addUnit(e.labelWidth||r.labelWidth);return!e.label&&!t.label&&(A.marginLeft=j),A}),m=computed(()=>{const A=r.model;if(!A||!e.prop)return;let j=e.prop;return j.indexOf(":")!==-1&&(j=j.replace(/:/,".")),getPropByPath(A,j,!0).v}),f=computed(()=>{const A=M();let j=!1;return A&&A.length&&A.every(H=>H.required?(j=!0,!1):!0),j}),b=useSize(void 0,{formItem:!1}),C=(A,j=NOOP)=>{if(!c.value){j();return}const H=S(A);if((!H||H.length===0)&&e.required===void 0){j();return}d.value="validating";const W={};H&&H.length>0&&H.forEach(ae=>{delete ae.trigger}),W[e.prop]=H;const X=new Schema(W),ee={};ee[e.prop]=m.value,X.validate(ee,{firstFields:!0},(ae,N)=>{var k;d.value=ae?"error":"success",u.value=ae?ae[0].message||`${e.prop} is required`:"",j(u.value,ae?N:{}),(k=r.emit)==null||k.call(r,"validate",e.prop,!ae,u.value||null)})},_=()=>{d.value="",u.value=""},w=()=>{const A=r.model,j=m.value;let H=e.prop;H.indexOf(":")!==-1&&(H=H.replace(/:/,"."));const W=getPropByPath(A,H,!0);Array.isArray(j)?W.o[W.k]=[].concat(n):W.o[W.k]=n,nextTick(()=>{_()})},M=()=>{const A=r.rules,j=e.rules,H=e.required!==void 0?{required:!!e.required}:[],W=getPropByPath(A,e.prop||"",!1),X=A?W.o[e.prop||""]||W.v:[];return[].concat(j||X||[]).concat(H)},S=A=>M().filter(H=>!H.trigger||A===""?!0:Array.isArray(H.trigger)?H.trigger.indexOf(A)>-1:H.trigger===A).map(H=>({...H})),I=()=>{var A;c.value=!!((A=M())!=null&&A.length)},x=A=>{v.value=A?`${A}px`:""},E=reactive({...toRefs(e),size:b,validateState:d,$el:g,evaluateValidationEnabled:I,resetField:w,clearValidate:_,validate:C,updateComputedLabelWidth:x});onMounted(()=>{if(e.prop){r==null||r.addField(E);const A=m.value;n=Array.isArray(A)?[...A]:A,I()}}),onBeforeUnmount(()=>{r==null||r.removeField(E)}),provide(elFormItemKey,E);const D=computed(()=>[{"el-form-item--feedback":r.statusIcon,"is-error":d.value==="error","is-validating":d.value==="validating","is-success":d.value==="success","is-required":f.value||e.required,"is-no-asterisk":r.hideRequiredAsterisk},b.value?`el-form-item--${b.value}`:""]),R=computed(()=>d.value==="error"&&e.showMessage&&r.showMessage),q=computed(()=>(e.label||"")+(r.labelSuffix||""));return{formItemRef:g,formItemClass:D,shouldShowError:R,elForm:r,labelStyle:i,contentStyle:a,validateMessage:u,labelFor:s,resetField:w,clearValidate:_,currentLabel:q}}}),_hoisted_1$a=["for"];function _sfc_render$6(e,t,r,d,u,c){const v=resolveComponent("LabelWrap");return openBlock(),createElementBlock("div",{ref:"formItemRef",class:normalizeClass(["el-form-item",e.formItemClass])},[createVNode(v,{"is-auto-width":e.labelStyle.width==="auto","update-all":e.elForm.labelWidth==="auto"},{default:withCtx(()=>[e.label||e.$slots.label?(openBlock(),createElementBlock("label",{key:0,for:e.labelFor,class:"el-form-item__label",style:normalizeStyle(e.labelStyle)},[renderSlot(e.$slots,"label",{label:e.currentLabel},()=>[createTextVNode(toDisplayString(e.currentLabel),1)])],12,_hoisted_1$a)):createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),createBaseVNode("div",{class:"el-form-item__content",style:normalizeStyle(e.contentStyle)},[renderSlot(e.$slots,"default"),createVNode(Transition,{name:"el-zoom-in-top"},{default:withCtx(()=>[e.shouldShowError?renderSlot(e.$slots,"error",{key:0,error:e.validateMessage},()=>[createBaseVNode("div",{class:normalizeClass(["el-form-item__error",{"el-form-item__error--inline":typeof e.inlineMessage=="boolean"?e.inlineMessage:e.elForm.inlineMessage||!1}])},toDisplayString(e.validateMessage),3)]):createCommentVNode("v-if",!0)]),_:3})],4)],2)}var FormItem=_export_sfc$1(_sfc_main$d,[["render",_sfc_render$6]]);const ElForm=withInstall(Form,{FormItem}),ElFormItem=withNoopInstall(FormItem),selectGroupKey="ElSelectGroup",selectKey="ElSelect";function useOption(e,t){const r=inject(selectKey),d=inject(selectGroupKey,{disabled:!1}),u=computed(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),c=computed(()=>r.props.multiple?s(r.props.modelValue,e.value):i(e.value,r.props.modelValue)),v=computed(()=>{if(r.props.multiple){const f=r.props.modelValue||[];return!c.value&&f.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),g=computed(()=>e.label||(u.value?"":e.value)),y=computed(()=>e.value||e.label||""),o=computed(()=>e.disabled||t.groupDisabled||v.value),n=getCurrentInstance(),s=(f=[],b)=>{if(u.value){const C=r.props.valueKey;return f&&f.some(_=>get(_,C)===get(b,C))}else return f&&f.indexOf(b)>-1},i=(f,b)=>{if(u.value){const{valueKey:C}=r.props;return get(f,C)===get(b,C)}else return f===b},a=()=>{!e.disabled&&!d.disabled&&(r.hoverIndex=r.optionsArray.indexOf(n.proxy))};watch(()=>g.value,()=>{!e.created&&!r.props.remote&&r.setSelected()}),watch(()=>e.value,(f,b)=>{const{remote:C,valueKey:_}=r.props;if(!e.created&&!C){if(_&&typeof f=="object"&&typeof b=="object"&&f[_]===b[_])return;r.setSelected()}}),watch(()=>d.disabled,()=>{t.groupDisabled=d.disabled},{immediate:!0});const{queryChange:m}=toRaw(r);return watch(m,f=>{const{query:b}=unref(f),C=new RegExp(escapeStringRegexp(b),"i");t.visible=C.test(g.value)||e.created,t.visible||r.filteredOptionsCount--}),{select:r,currentLabel:g,currentValue:y,itemSelected:c,isDisabled:o,hoverItem:a}}const _sfc_main$c=defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=useNamespace("select"),r=reactive({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:d,itemSelected:u,isDisabled:c,select:v,hoverItem:g}=useOption(e,r),{visible:y,hover:o}=toRefs(r),n=getCurrentInstance().proxy,s=n.value;v.onOptionCreate(n),onBeforeUnmount(()=>{const{selected:a}=v,m=v.props.multiple?a:[a],f=v.cachedOptions.has(s),b=m.some(C=>C.value===n.value);f&&!b&&v.cachedOptions.delete(s),v.onOptionDestroy(s)});function i(){e.disabled!==!0&&r.groupDisabled!==!0&&v.handleOptionSelect(n,!0)}return{ns:t,currentLabel:d,itemSelected:u,isDisabled:c,select:v,hoverItem:g,visible:y,hover:o,selectOptionClick:i,states:r}}});function _sfc_render$5(e,t,r,d,u,c){return withDirectives((openBlock(),createElementBlock("li",{class:normalizeClass([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...v)=>e.hoverItem&&e.hoverItem(...v)),onClick:t[1]||(t[1]=withModifiers((...v)=>e.selectOptionClick&&e.selectOptionClick(...v),["stop"]))},[renderSlot(e.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(e.currentLabel),1)])],34)),[[vShow,e.visible]])}var Option=_export_sfc$1(_sfc_main$c,[["render",_sfc_render$5]]);const _sfc_main$b=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=inject(selectKey),t=useNamespace("select"),r=computed(()=>e.props.popperClass),d=computed(()=>e.props.multiple),u=computed(()=>e.props.fitInputWidth),c=ref("");function v(){var g;c.value=`${(g=e.selectWrapper)==null?void 0:g.getBoundingClientRect().width}px`}return onMounted(()=>{v(),addResizeListener(e.selectWrapper,v)}),onBeforeUnmount(()=>{removeResizeListener(e.selectWrapper,v)}),{ns:t,minWidth:c,popperClass:r,isMultiple:d,isFitInputWidth:u}}});function _sfc_render$4(e,t,r,d,u,c){return openBlock(),createElementBlock("div",{class:normalizeClass([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:normalizeStyle({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[renderSlot(e.$slots,"default")],6)}var ElSelectMenu=_export_sfc$1(_sfc_main$b,[["render",_sfc_render$4]]);function useSelectStates(e){const{t}=useLocale();return reactive({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1})}const useSelect=(e,t,r)=>{const{t:d}=useLocale(),u=useNamespace("select"),c=ref(null),v=ref(null),g=ref(null),y=ref(null),o=ref(null),n=ref(null),s=ref(-1),i=shallowRef({query:""}),a=shallowRef(""),m=inject(elFormKey,{}),f=inject(elFormItemKey,{}),b=computed(()=>!e.filterable||e.multiple||!t.visible),C=computed(()=>e.disabled||m.disabled),_=computed(()=>{const K=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!C.value&&t.inputHovering&&K}),w=computed(()=>e.remote&&e.filterable?"":e.suffixIcon),M=computed(()=>u.is("reverse",w.value&&t.visible)),S=computed(()=>e.remote?300:0),I=computed(()=>e.loading?e.loadingText||d("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||d("el.select.noMatch"):t.options.size===0?e.noDataText||d("el.select.noData"):null),x=computed(()=>Array.from(t.options.values())),E=computed(()=>Array.from(t.cachedOptions.values())),D=computed(()=>{const K=x.value.filter(ce=>!ce.created).some(ce=>ce.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!K}),R=useSize(),q=computed(()=>["small"].indexOf(R.value)>-1?"small":"default"),A=computed({get(){return t.visible&&I.value!==!1},set(K){t.visible=K}});watch(()=>C.value,()=>{nextTick(()=>{j()})}),watch(()=>e.placeholder,K=>{t.cachedPlaceHolder=t.currentPlaceholder=K}),watch(()=>e.modelValue,(K,ce)=>{var me;e.multiple&&(j(),K&&K.length>0||v.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",H(t.query))),ee(),e.filterable&&!e.multiple&&(t.inputLength=20),isEqual(K,ce)||(me=f.validate)==null||me.call(f,"change")},{flush:"post",deep:!0}),watch(()=>t.visible,K=>{var ce,me,be;K?((me=(ce=g.value)==null?void 0:ce.updatePopper)==null||me.call(ce),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,e.multiple?(be=v.value)==null||be.focus():t.selectedLabel&&(t.currentPlaceholder=t.selectedLabel,t.selectedLabel=""),H(t.query),!e.multiple&&!e.remote&&(i.value.query="",triggerRef(i),triggerRef(a)))):(v.value&&v.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,N(),nextTick(()=>{v.value&&v.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),r.emit("visible-change",K)}),watch(()=>t.options.entries(),()=>{var K,ce,me;if(!isClient)return;(ce=(K=g.value)==null?void 0:K.updatePopper)==null||ce.call(K),e.multiple&&j();const be=((me=o.value)==null?void 0:me.querySelectorAll("input"))||[];Array.from(be).indexOf(document.activeElement)===-1&&ee(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&X()},{flush:"post"}),watch(()=>t.hoverIndex,K=>{typeof K=="number"&&K>-1&&(s.value=x.value[K]||{}),x.value.forEach(ce=>{ce.hover=s.value===ce})});const j=()=>{e.collapseTags&&!e.filterable||nextTick(()=>{var K,ce;if(!c.value)return;const me=c.value.$el.childNodes,be=Array.from(me).filter(Re=>Re.tagName==="INPUT")[0],Me=y.value,Oe=t.initialInputHeight||40;be.style.height=t.selected.length===0?`${Oe}px`:`${Math.max(Me?Me.clientHeight+(Me.clientHeight>Oe?6:0):0,Oe)}px`,t.tagInMultiLine=parseFloat(be.style.height)>=Oe,t.visible&&I.value!==!1&&((ce=(K=g.value)==null?void 0:K.updatePopper)==null||ce.call(K))})},H=K=>{if(!(t.previousQuery===K||t.isOnComposition)){if(t.previousQuery===null&&(typeof e.filterMethod=="function"||typeof e.remoteMethod=="function")){t.previousQuery=K;return}t.previousQuery=K,nextTick(()=>{var ce,me;t.visible&&((me=(ce=g.value)==null?void 0:ce.updatePopper)==null||me.call(ce))}),t.hoverIndex=-1,e.multiple&&e.filterable&&nextTick(()=>{const ce=v.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,ce):ce,W(),j()}),e.remote&&typeof e.remoteMethod=="function"?(t.hoverIndex=-1,e.remoteMethod(K)):typeof e.filterMethod=="function"?(e.filterMethod(K),triggerRef(a)):(t.filteredOptionsCount=t.optionsCount,i.value.query=K,triggerRef(i),triggerRef(a)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&X()}},W=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=v.value.value?"":t.cachedPlaceHolder)},X=()=>{const K=x.value.filter(be=>be.visible&&!be.disabled&&!be.states.groupDisabled),ce=K.filter(be=>be.created)[0],me=K[0];t.hoverIndex=Ce(x.value,ce||me)},ee=()=>{var K;if(!e.multiple){const me=ae(e.modelValue);(K=me.props)!=null&&K.created?(t.createdLabel=me.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=me.currentLabel,t.selected=me,e.filterable&&(t.query=t.selectedLabel);return}const ce=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(me=>{ce.push(ae(me))}),t.selected=ce,nextTick(()=>{j()})},ae=K=>{let ce;const me=toRawType(K).toLowerCase()==="object",be=toRawType(K).toLowerCase()==="null",Me=toRawType(K).toLowerCase()==="undefined";for(let Te=t.cachedOptions.size-1;Te>=0;Te--){const qe=E.value[Te];if(me?get(qe.value,e.valueKey)===get(K,e.valueKey):qe.value===K){ce={value:K,currentLabel:qe.currentLabel,isDisabled:qe.isDisabled};break}}if(ce)return ce;const Oe=me?K.label:!be&&!Me?K:"",Re={value:K,currentLabel:Oe};return e.multiple&&(Re.hitState=!1),Re},N=()=>{setTimeout(()=>{const K=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(ce=>x.value.findIndex(me=>get(me,K)===get(ce,K)))):t.hoverIndex=-1:t.hoverIndex=x.value.findIndex(ce=>te(ce)===te(t.selected))},300)},k=()=>{var K,ce;L(),(ce=(K=g.value)==null?void 0:K.updatePopper)==null||ce.call(K),e.multiple&&!e.filterable&&j()},L=()=>{var K;t.inputWidth=(K=c.value)==null?void 0:K.$el.getBoundingClientRect().width},$=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,H(t.query))},B=debounce$1(()=>{$()},S.value),G=debounce$1(K=>{H(K.target.value)},S.value),Z=K=>{isEqual(e.modelValue,K)||r.emit(CHANGE_EVENT,K)},re=K=>{if(K.target.value.length<=0&&!ge()){const ce=e.modelValue.slice();ce.pop(),r.emit(UPDATE_MODEL_EVENT,ce),Z(ce)}K.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)},z=(K,ce)=>{const me=t.selected.indexOf(ce);if(me>-1&&!C.value){const be=e.modelValue.slice();be.splice(me,1),r.emit(UPDATE_MODEL_EVENT,be),Z(be),r.emit("remove-tag",ce.value)}K.stopPropagation()},ie=K=>{K.stopPropagation();const ce=e.multiple?[]:"";if(typeof ce!="string")for(const me of t.selected)me.isDisabled&&ce.push(me.value);r.emit(UPDATE_MODEL_EVENT,ce),Z(ce),t.visible=!1,r.emit("clear")},se=(K,ce)=>{var me;if(e.multiple){const be=(e.modelValue||[]).slice(),Me=Ce(be,K.value);Me>-1?be.splice(Me,1):(e.multipleLimit<=0||be.length<e.multipleLimit)&&be.push(K.value),r.emit(UPDATE_MODEL_EVENT,be),Z(be),K.created&&(t.query="",H(""),t.inputLength=20),e.filterable&&((me=v.value)==null||me.focus())}else r.emit(UPDATE_MODEL_EVENT,K.value),Z(K.value),t.visible=!1;t.isSilentBlur=ce,Se(),!t.visible&&nextTick(()=>{F(K)})},Ce=(K=[],ce)=>{if(!isObject$1(ce))return K.indexOf(ce);const me=e.valueKey;let be=-1;return K.some((Me,Oe)=>get(Me,me)===get(ce,me)?(be=Oe,!0):!1),be},Se=()=>{t.softFocus=!0;const K=v.value||c.value;K&&(K==null||K.focus())},F=K=>{var ce,me,be,Me,Oe;const Re=Array.isArray(K)?K[0]:K;let Te=null;if(Re!=null&&Re.value){const qe=x.value.filter($e=>$e.value===Re.value);qe.length>0&&(Te=qe[0].$el)}if(g.value&&Te){const qe=(Me=(be=(me=(ce=g.value)==null?void 0:ce.popperRef)==null?void 0:me.contentRef)==null?void 0:be.querySelector)==null?void 0:Me.call(be,".el-select-dropdown__wrap");qe&&scrollIntoView(qe,Te)}(Oe=n.value)==null||Oe.handleScroll()},J=K=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(K.value,K),t.cachedOptions.set(K.value,K)},he=K=>{t.optionsCount--,t.filteredOptionsCount--,t.options.delete(K)},de=K=>{K.code!==EVENT_CODE.backspace&&ge(!1),t.inputLength=v.value.value.length*15+20,j()},ge=K=>{if(!Array.isArray(t.selected))return;const ce=t.selected[t.selected.length-1];if(!!ce)return K===!0||K===!1?(ce.hitState=K,K):(ce.hitState=!ce.hitState,ce.hitState)},_e=K=>{const ce=K.target.value;if(K.type==="compositionend")t.isOnComposition=!1,nextTick(()=>H(ce));else{const me=ce[ce.length-1]||"";t.isOnComposition=!isKorean(me)}},fe=()=>{nextTick(()=>F(t.selected))},we=K=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(t.visible=!0,e.filterable&&(t.menuVisibleOnFocus=!0)),r.emit("focus",K))},ke=()=>{var K;t.visible=!1,(K=c.value)==null||K.blur()},Ie=K=>{nextTick(()=>{t.isSilentBlur?t.isSilentBlur=!1:r.emit("blur",K)}),t.softFocus=!1},De=K=>{ie(K)},Ee=()=>{t.visible=!1},U=()=>{var K;e.automaticDropdown||C.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:t.visible=!t.visible,t.visible&&((K=v.value||c.value)==null||K.focus()))},oe=()=>{t.visible?x.value[t.hoverIndex]&&se(x.value[t.hoverIndex],void 0):U()},te=K=>isObject$1(K.value)?get(K.value,e.valueKey):K.value,ue=computed(()=>x.value.filter(K=>K.visible).every(K=>K.disabled)),pe=K=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!ue.value){K==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):K==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const ce=x.value[t.hoverIndex];(ce.disabled===!0||ce.states.groupDisabled===!0||!ce.visible)&&pe(K),nextTick(()=>F(s.value))}};return{optionsArray:x,selectSize:R,handleResize:k,debouncedOnInputChange:B,debouncedQueryChange:G,deletePrevTag:re,deleteTag:z,deleteSelected:ie,handleOptionSelect:se,scrollToOption:F,readonly:b,resetInputHeight:j,showClose:_,iconComponent:w,iconReverse:M,showNewOption:D,collapseTagSize:q,setSelected:ee,managePlaceholder:W,selectDisabled:C,emptyText:I,toggleLastOptionHitState:ge,resetInputState:de,handleComposition:_e,onOptionCreate:J,onOptionDestroy:he,handleMenuEnter:fe,handleFocus:we,blur:ke,handleBlur:Ie,handleClearClick:De,handleClose:Ee,toggleMenu:U,selectOption:oe,getValueKey:te,navigateOptions:pe,dropMenuVisible:A,queryChange:i,groupQueryChange:a,reference:c,input:v,tooltipRef:g,tags:y,selectWrapper:o,scrollbar:n}},COMPONENT_NAME="ElSelect",_sfc_main$a=defineComponent({name:COMPONENT_NAME,componentName:COMPONENT_NAME,components:{ElInput,ElSelectMenu,ElOption:Option,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:isValidComponentSize},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:useTooltipContentProps.teleported,clearIcon:{type:[String,Object],default:circleClose},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:[String,Object],default:arrowUp},tagType:{...tagProps.type,default:"info"}},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const r=useNamespace("select"),d=useNamespace("input"),{t:u}=useLocale(),c=useSelectStates(e),{optionsArray:v,selectSize:g,readonly:y,handleResize:o,collapseTagSize:n,debouncedOnInputChange:s,debouncedQueryChange:i,deletePrevTag:a,deleteTag:m,deleteSelected:f,handleOptionSelect:b,scrollToOption:C,setSelected:_,resetInputHeight:w,managePlaceholder:M,showClose:S,selectDisabled:I,iconComponent:x,iconReverse:E,showNewOption:D,emptyText:R,toggleLastOptionHitState:q,resetInputState:A,handleComposition:j,onOptionCreate:H,onOptionDestroy:W,handleMenuEnter:X,handleFocus:ee,blur:ae,handleBlur:N,handleClearClick:k,handleClose:L,toggleMenu:$,selectOption:B,getValueKey:G,navigateOptions:Z,dropMenuVisible:re,reference:z,input:ie,tooltipRef:se,tags:Ce,selectWrapper:Se,scrollbar:F,queryChange:J,groupQueryChange:he}=useSelect(e,c,t),{focus:de}=useFocus(z),{inputWidth:ge,selected:_e,inputLength:fe,filteredOptionsCount:we,visible:ke,softFocus:Ie,selectedLabel:De,hoverIndex:Ee,query:U,inputHovering:oe,currentPlaceholder:te,menuVisibleOnFocus:ue,isOnComposition:pe,isSilentBlur:K,options:ce,cachedOptions:me,optionsCount:be,prefixWidth:Me,tagInMultiLine:Oe}=toRefs(c),Re=computed(()=>{const Pe=[r.b()],je=unref(g);return je&&Pe.push(r.m(je)),e.disabled&&Pe.push(r.m("disabled")),Pe}),Te=computed(()=>({maxWidth:`${unref(ge)-32}px`,width:"100%"}));provide(selectKey,reactive({props:e,options:ce,optionsArray:v,cachedOptions:me,optionsCount:be,filteredOptionsCount:we,hoverIndex:Ee,handleOptionSelect:b,onOptionCreate:H,onOptionDestroy:W,selectWrapper:Se,selected:_e,setSelected:_,queryChange:J,groupQueryChange:he})),onMounted(()=>{if(c.cachedPlaceHolder=te.value=e.placeholder||u("el.select.placeholder"),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(te.value=""),addResizeListener(Se.value,o),z.value&&z.value.$el){const Pe={large:36,default:32,small:28},je=z.value.input;c.initialInputHeight=je.getBoundingClientRect().height||Pe[g.value]}e.remote&&e.multiple&&w(),nextTick(()=>{if(!!z.value&&(z.value.$el&&(ge.value=z.value.$el.getBoundingClientRect().width),t.slots.prefix)){const Pe=z.value.$el.childNodes,je=Array.from(Pe).filter(Xe=>Xe.tagName==="INPUT")[0],We=z.value.$el.querySelector(`.${d.e("prefix")}`);Me.value=Math.max(We.getBoundingClientRect().width+5,30),c.prefixWidth&&(je.style.paddingLeft=`${Math.max(c.prefixWidth,30)}px`)}}),_()}),onBeforeUnmount(()=>{removeResizeListener(Se.value,o)}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(UPDATE_MODEL_EVENT,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(UPDATE_MODEL_EVENT,"");const qe=computed(()=>{var Pe,je;return(je=(Pe=se.value)==null?void 0:Pe.popperRef)==null?void 0:je.contentRef}),{compatTeleported:$e}=useDeprecateAppendToBody(COMPONENT_NAME,"popperAppendToBody");return{tagInMultiLine:Oe,prefixWidth:Me,selectSize:g,readonly:y,handleResize:o,collapseTagSize:n,debouncedOnInputChange:s,debouncedQueryChange:i,deletePrevTag:a,deleteTag:m,deleteSelected:f,handleOptionSelect:b,scrollToOption:C,inputWidth:ge,selected:_e,inputLength:fe,filteredOptionsCount:we,visible:ke,softFocus:Ie,selectedLabel:De,hoverIndex:Ee,query:U,inputHovering:oe,currentPlaceholder:te,menuVisibleOnFocus:ue,isOnComposition:pe,isSilentBlur:K,options:ce,resetInputHeight:w,managePlaceholder:M,showClose:S,selectDisabled:I,iconComponent:x,iconReverse:E,showNewOption:D,emptyText:R,toggleLastOptionHitState:q,resetInputState:A,handleComposition:j,handleMenuEnter:X,handleFocus:ee,blur:ae,handleBlur:N,handleClearClick:k,handleClose:L,toggleMenu:$,selectOption:B,getValueKey:G,navigateOptions:Z,dropMenuVisible:re,focus:de,reference:z,input:ie,tooltipRef:se,popperPaneRef:qe,tags:Ce,selectWrapper:Se,scrollbar:F,wrapperKls:Re,selectTagsStyle:Te,compatTeleported:$e,nsSelect:r}}}),_hoisted_1$9={class:"select-trigger"},_hoisted_2$8={key:0},_hoisted_3$6=["disabled","autocomplete"],_hoisted_4$6={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function _sfc_render$3(e,t,r,d,u,c){const v=resolveComponent("el-tag"),g=resolveComponent("el-icon"),y=resolveComponent("el-input"),o=resolveComponent("el-option"),n=resolveComponent("el-scrollbar"),s=resolveComponent("el-select-menu"),i=resolveComponent("el-tooltip"),a=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectWrapper",class:normalizeClass(e.wrapperKls),onClick:t[24]||(t[24]=withModifiers((...m)=>e.toggleMenu&&e.toggleMenu(...m),["stop"]))},[createVNode(i,{ref:"tooltipRef",visible:e.dropMenuVisible,"onUpdate:visible":t[23]||(t[23]=m=>e.dropMenuVisible=m),placement:"bottom-start",teleported:e.compatTeleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:"",onShow:e.handleMenuEnter},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$9,[e.multiple?(openBlock(),createElementBlock("div",{key:0,ref:"tags",class:normalizeClass(e.nsSelect.e("tags")),style:normalizeStyle(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(openBlock(),createElementBlock("span",_hoisted_2$8,[createVNode(v,{closable:!e.selectDisabled&&!e.selected[0].isDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:e.tagType,"disable-transitions":"",onClose:t[0]||(t[0]=m=>e.deleteTag(m,e.selected[0]))},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelect.e("tags-text")),style:normalizeStyle({maxWidth:e.inputWidth-123+"px"})},toDisplayString(e.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),e.selected.length>1?(openBlock(),createBlock(v,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelect.e("tags-text"))},"+ "+toDisplayString(e.selected.length-1),3)]),_:1},8,["size","type"])):createCommentVNode("v-if",!0)])):createCommentVNode("v-if",!0),createCommentVNode(" <div> "),e.collapseTags?createCommentVNode("v-if",!0):(openBlock(),createBlock(Transition,{key:1,onAfterLeave:e.resetInputHeight},{default:withCtx(()=>[createBaseVNode("span",{style:normalizeStyle({marginLeft:e.prefixWidth&&e.selected.length?`${e.prefixWidth}px`:""})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.selected,m=>(openBlock(),createBlock(v,{key:e.getValueKey(m),closable:!e.selectDisabled&&!m.isDisabled,size:e.collapseTagSize,hit:m.hitState,type:e.tagType,"disable-transitions":"",onClose:f=>e.deleteTag(f,m)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelect.e("tags-text")),style:normalizeStyle({maxWidth:e.inputWidth-75+"px"})},toDisplayString(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],4)]),_:1},8,["onAfterLeave"])),createCommentVNode(" </div> "),e.filterable?withDirectives((openBlock(),createElementBlock("input",{key:2,ref:"input","onUpdate:modelValue":t[1]||(t[1]=m=>e.query=m),type:"text",class:normalizeClass([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:normalizeStyle({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:t[2]||(t[2]=(...m)=>e.handleFocus&&e.handleFocus(...m)),onBlur:t[3]||(t[3]=(...m)=>e.handleBlur&&e.handleBlur(...m)),onKeyup:t[4]||(t[4]=(...m)=>e.managePlaceholder&&e.managePlaceholder(...m)),onKeydown:[t[5]||(t[5]=(...m)=>e.resetInputState&&e.resetInputState(...m)),t[6]||(t[6]=withKeys(withModifiers(m=>e.navigateOptions("next"),["prevent"]),["down"])),t[7]||(t[7]=withKeys(withModifiers(m=>e.navigateOptions("prev"),["prevent"]),["up"])),t[8]||(t[8]=withKeys(withModifiers(m=>e.visible=!1,["stop","prevent"]),["esc"])),t[9]||(t[9]=withKeys(withModifiers((...m)=>e.selectOption&&e.selectOption(...m),["stop","prevent"]),["enter"])),t[10]||(t[10]=withKeys((...m)=>e.deletePrevTag&&e.deletePrevTag(...m),["delete"])),t[11]||(t[11]=withKeys(m=>e.visible=!1,["tab"]))],onCompositionstart:t[12]||(t[12]=(...m)=>e.handleComposition&&e.handleComposition(...m)),onCompositionupdate:t[13]||(t[13]=(...m)=>e.handleComposition&&e.handleComposition(...m)),onCompositionend:t[14]||(t[14]=(...m)=>e.handleComposition&&e.handleComposition(...m)),onInput:t[15]||(t[15]=(...m)=>e.debouncedQueryChange&&e.debouncedQueryChange(...m))},null,46,_hoisted_3$6)),[[vModelText,e.query]]):createCommentVNode("v-if",!0)],6)):createCommentVNode("v-if",!0),createVNode(y,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[16]||(t[16]=m=>e.selectedLabel=m),type:"text",placeholder:e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:normalizeClass([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[17]||(t[17]=withKeys(withModifiers(m=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[18]||(t[18]=withKeys(withModifiers(m=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),withKeys(withModifiers(e.selectOption,["stop","prevent"]),["enter"]),t[19]||(t[19]=withKeys(withModifiers(m=>e.visible=!1,["stop","prevent"]),["esc"])),t[20]||(t[20]=withKeys(m=>e.visible=!1,["tab"]))],onMouseenter:t[21]||(t[21]=m=>e.inputHovering=!0),onMouseleave:t[22]||(t[22]=m=>e.inputHovering=!1)},createSlots({suffix:withCtx(()=>[e.iconComponent?withDirectives((openBlock(),createBlock(g,{key:0,class:normalizeClass([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(e.iconComponent)))]),_:1},8,["class"])),[[vShow,!e.showClose]]):createCommentVNode("v-if",!0),e.showClose&&e.clearIcon?(openBlock(),createBlock(g,{key:1,class:normalizeClass([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(e.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:withCtx(()=>[createBaseVNode("div",_hoisted_4$6,[renderSlot(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])])]),content:withCtx(()=>[createVNode(s,null,{default:withCtx(()=>[withDirectives(createVNode(n,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:normalizeClass([e.nsSelect.is("empty",!e.allowCreate&&e.query&&e.filteredOptionsCount===0)])},{default:withCtx(()=>[e.showNewOption?(openBlock(),createBlock(o,{key:0,value:e.query,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),renderSlot(e.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[vShow,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(openBlock(),createElementBlock(Fragment,{key:0},[e.$slots.empty?renderSlot(e.$slots,"empty",{key:0}):(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(e.nsSelect.be("dropdown","empty"))},toDisplayString(e.emptyText),3))],2112)):createCommentVNode("v-if",!0)]),_:3})]),_:3},8,["visible","teleported","popper-class","effect","transition","onShow"])],2)),[[a,e.handleClose,e.popperPaneRef]])}var Select=_export_sfc$1(_sfc_main$a,[["render",_sfc_render$3]]);const _sfc_main$9=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=useNamespace("select"),r=ref(!0),d=getCurrentInstance(),u=ref([]);provide(selectGroupKey,reactive({...toRefs(e)}));const c=inject(selectKey);onMounted(()=>{u.value=v(d.subTree)});const v=y=>{const o=[];return Array.isArray(y.children)&&y.children.forEach(n=>{var s;n.type&&n.type.name==="ElOption"&&n.component&&n.component.proxy?o.push(n.component.proxy):(s=n.children)!=null&&s.length&&o.push(...v(n))}),o},{groupQueryChange:g}=toRaw(c);return watch(g,()=>{r.value=u.value.some(y=>y.visible===!0)}),{visible:r,ns:t}}});function _sfc_render$2(e,t,r,d,u,c){return withDirectives((openBlock(),createElementBlock("ul",{class:normalizeClass(e.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(e.ns.be("group","title"))},toDisplayString(e.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(e.ns.b("group"))},[renderSlot(e.$slots,"default")],2)])],2)),[[vShow,e.visible]])}var OptionGroup=_export_sfc$1(_sfc_main$9,[["render",_sfc_render$2]]);const ElSelect=withInstall(Select,{Option,OptionGroup}),ElOption=withNoopInstall(Option);withNoopInstall(OptionGroup);function createLoadingComponent(e){let t;const r=ref(!1),d=reactive({...e,originalPosition:"",originalOverflow:"",visible:!1});function u(s){d.text=s}function c(){const s=d.parent;if(!s.vLoadingAddClassList){let i=s.getAttribute("loading-number");i=Number.parseInt(i)-1,i?s.setAttribute("loading-number",i.toString()):(removeClass(s,"el-loading-parent--relative"),s.removeAttribute("loading-number")),removeClass(s,"el-loading-parent--hidden")}v()}function v(){var s,i;(i=(s=n.$el)==null?void 0:s.parentNode)==null||i.removeChild(n.$el)}function g(){var s;if(e.beforeClose&&!e.beforeClose())return;const i=d.parent;i.vLoadingAddClassList=void 0,r.value=!0,clearTimeout(t),t=window.setTimeout(()=>{r.value&&(r.value=!1,c())},400),d.visible=!1,(s=e.closed)==null||s.call(e)}function y(){!r.value||(r.value=!1,c())}const n=createApp({name:"ElLoading",setup(){return()=>{const s=d.spinner||d.svg,i=h("svg",{class:"circular",viewBox:d.svgViewBox?d.svgViewBox:"25 25 50 50",...s?{innerHTML:s}:{}},[h("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),a=d.text?h("p",{class:"el-loading-text"},[d.text]):void 0;return h(Transition,{name:"el-loading-fade",onAfterLeave:y},{default:withCtx(()=>[withDirectives(createVNode("div",{style:{backgroundColor:d.background||""},class:["el-loading-mask",d.customClass,d.fullscreen?"is-fullscreen":""]},[h("div",{class:"el-loading-spinner"},[i,a])]),[[vShow,d.visible]])])})}}}).mount(document.createElement("div"));return{...toRefs(d),setText:u,remvoeElLoadingChild:v,close:g,handleAfterLeave:y,vm:n,get $el(){return n.$el}}}let fullscreenInstance;const Loading=function(e={}){if(!isClient)return;const t=resolveOptions(e);t.fullscreen&&fullscreenInstance&&(fullscreenInstance.remvoeElLoadingChild(),fullscreenInstance.close());const r=createLoadingComponent({...t,closed:()=>{var u;(u=t.closed)==null||u.call(t),t.fullscreen&&(fullscreenInstance=void 0)}});addStyle(t,t.parent,r),addClassList(t,t.parent,r),t.parent.vLoadingAddClassList=()=>addClassList(t,t.parent,r);let d=t.parent.getAttribute("loading-number");return d?d=`${Number.parseInt(d)+1}`:d="1",t.parent.setAttribute("loading-number",d),t.parent.appendChild(r.$el),nextTick(()=>r.visible.value=t.visible),t.fullscreen&&(fullscreenInstance=r),r},resolveOptions=e=>{var t,r,d,u;let c;return isString$1(e.target)?c=(t=document.querySelector(e.target))!=null?t:document.body:c=e.target||document.body,{parent:c===document.body||e.body?document.body:c,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:c===document.body&&((r=e.fullscreen)!=null?r:!0),lock:(d=e.lock)!=null?d:!1,customClass:e.customClass||"",visible:(u=e.visible)!=null?u:!0,target:c}},addStyle=async(e,t,r)=>{const{nextZIndex:d}=useZIndex(),u={};if(e.fullscreen)r.originalPosition.value=getStyle(document.body,"position"),r.originalOverflow.value=getStyle(document.body,"overflow"),u.zIndex=d();else if(e.parent===document.body){r.originalPosition.value=getStyle(document.body,"position"),await nextTick();for(const c of["top","left"]){const v=c==="top"?"scrollTop":"scrollLeft";u[c]=`${e.target.getBoundingClientRect()[c]+document.body[v]+document.documentElement[v]-parseInt(getStyle(document.body,`margin-${c}`),10)}px`}for(const c of["height","width"])u[c]=`${e.target.getBoundingClientRect()[c]}px`}else r.originalPosition.value=getStyle(t,"position");for(const[c,v]of Object.entries(u))r.$el.style[c]=v},addClassList=(e,t,r)=>{r.originalPosition.value!=="absolute"&&r.originalPosition.value!=="fixed"?addClass(t,"el-loading-parent--relative"):removeClass(t,"el-loading-parent--relative"),e.fullscreen&&e.lock?addClass(t,"el-loading-parent--hidden"):removeClass(t,"el-loading-parent--hidden")},INSTANCE_KEY=Symbol("ElLoading"),createInstance=(e,t)=>{var r,d,u,c;const v=t.instance,g=i=>isObject$1(t.value)?t.value[i]:void 0,y=i=>{const a=isString$1(i)&&(v==null?void 0:v[i])||i;return a&&ref(a)},o=i=>y(g(i)||e.getAttribute(`element-loading-${hyphenate(i)}`)),n=(r=g("fullscreen"))!=null?r:t.modifiers.fullscreen,s={text:o("text"),svg:o("svg"),svgViewBox:o("svgViewBox"),spinner:o("spinner"),background:o("background"),customClass:o("customClass"),fullscreen:n,target:(d=g("target"))!=null?d:n?void 0:e,body:(u=g("body"))!=null?u:t.modifiers.body,lock:(c=g("lock"))!=null?c:t.modifiers.lock};e[INSTANCE_KEY]={options:s,instance:Loading(s)}},updateOptions=(e,t)=>{for(const r of Object.keys(t))isRef(t[r])&&(t[r].value=e[r])},vLoading={mounted(e,t){t.value&&createInstance(e,t)},updated(e,t){const r=e[INSTANCE_KEY];t.oldValue!==t.value&&(t.value&&!t.oldValue?createInstance(e,t):t.value&&t.oldValue?isObject$1(t.value)&&updateOptions(t.value,r.options):r==null||r.instance.close())},unmounted(e){var t;(t=e[INSTANCE_KEY])==null||t.instance.close()}},ElLoadingDirective=vLoading,messageTypes=["success","info","warning","error"],messageProps=buildProps({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:iconPropType,default:""},id:{type:String,default:""},message:{type:definePropType([String,Object]),default:""},onClose:{type:definePropType(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:messageTypes,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),messageEmits={destroy:()=>!0},_sfc_main$8=defineComponent({name:"ElMessage",components:{ElBadge,ElIcon,...TypeComponents},props:messageProps,emits:messageEmits,setup(e){const t=useNamespace("message"),r=ref(!1),d=ref(e.type?e.type==="error"?"danger":e.type:"info");let u;const c=computed(()=>{const i=e.type;return{[t.bm("icon",i)]:i&&TypeComponentsMap[i]}}),v=computed(()=>e.icon||TypeComponentsMap[e.type]||""),g=computed(()=>({top:`${e.offset}px`,zIndex:e.zIndex}));function y(){e.duration>0&&({stop:u}=useTimeoutFn(()=>{r.value&&n()},e.duration))}function o(){u==null||u()}function n(){r.value=!1}function s({code:i}){i===EVENT_CODE.esc?r.value&&n():y()}return onMounted(()=>{y(),r.value=!0}),watch(()=>e.repeatNum,()=>{o(),y()}),useEventListener(document,"keydown",s),{ns:t,typeClass:c,iconComponent:v,customStyle:g,visible:r,badgeType:d,close:n,clearTimer:o,startTimer:y}}}),_hoisted_1$8=["id"],_hoisted_2$7=["innerHTML"];function _sfc_render$1(e,t,r,d,u,c){const v=resolveComponent("el-badge"),g=resolveComponent("el-icon"),y=resolveComponent("close");return openBlock(),createBlock(Transition,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[2]||(t[2]=o=>e.$emit("destroy"))},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:e.id,class:normalizeClass([e.ns.b(),{[e.ns.m(e.type)]:e.type&&!e.icon},e.ns.is("center",e.center),e.ns.is("closable",e.showClose),e.customClass]),style:normalizeStyle(e.customStyle),role:"alert",onMouseenter:t[0]||(t[0]=(...o)=>e.clearTimer&&e.clearTimer(...o)),onMouseleave:t[1]||(t[1]=(...o)=>e.startTimer&&e.startTimer(...o))},[e.repeatNum>1?(openBlock(),createBlock(v,{key:0,value:e.repeatNum,type:e.badgeType,class:normalizeClass(e.ns.e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),e.iconComponent?(openBlock(),createBlock(g,{key:1,class:normalizeClass([e.ns.e("icon"),e.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(e.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(e.ns.e("content")),innerHTML:e.message},null,10,_hoisted_2$7)],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(e.ns.e("content"))},toDisplayString(e.message),3))]),e.showClose?(openBlock(),createBlock(g,{key:2,class:normalizeClass(e.ns.e("closeBtn")),onClick:withModifiers(e.close,["stop"])},{default:withCtx(()=>[createVNode(y)]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,_hoisted_1$8),[[vShow,e.visible]])]),_:3},8,["name","onBeforeLeave"])}var MessageConstructor=_export_sfc$1(_sfc_main$8,[["render",_sfc_render$1]]);const instances=[];let seed$1=1;const message=function(e={}){if(!isClient)return{close:()=>{}};if(isNumber(messageConfig.max)&&instances.length>=messageConfig.max)return{close:()=>{}};if(!isVNode(e)&&typeof e=="object"&&e.grouping&&!isVNode(e.message)&&instances.length){const n=instances.find(s=>{var i,a,m;return`${(a=(i=s.vm.props)==null?void 0:i.message)!=null?a:""}`==`${(m=e.message)!=null?m:""}`});if(n)return n.vm.component.props.repeatNum+=1,n.vm.component.props.type=e==null?void 0:e.type,{close:()=>o.component.proxy.visible=!1}}(typeof e=="string"||isVNode(e))&&(e={message:e});let t=e.offset||20;instances.forEach(({vm:n})=>{var s;t+=(((s=n.el)==null?void 0:s.offsetHeight)||0)+16}),t+=16;const{nextZIndex:r}=useZIndex(),d=`message_${seed$1++}`,u=e.onClose,c={zIndex:r(),offset:t,...e,id:d,onClose:()=>{close$1(d,u)}};let v=document.body;e.appendTo instanceof HTMLElement?v=e.appendTo:typeof e.appendTo=="string"&&(v=document.querySelector(e.appendTo)),v instanceof HTMLElement||(v=document.body);const g=document.createElement("div");g.className=`container_${d}`;const y=c.message,o=createVNode(MessageConstructor,c,isVNode(c.message)?{default:()=>y}:null);return o.props.onDestroy=()=>{render(null,g)},render(o,g),instances.push({vm:o}),v.appendChild(g.firstElementChild),{close:()=>o.component.proxy.visible=!1}};messageTypes.forEach(e=>{message[e]=(t={})=>((typeof t=="string"||isVNode(t))&&(t={message:t}),message({...t,type:e}))});function close$1(e,t){const r=instances.findIndex(({vm:v})=>e===v.component.props.id);if(r===-1)return;const{vm:d}=instances[r];if(!d)return;t==null||t(d);const u=d.el.offsetHeight;instances.splice(r,1);const c=instances.length;if(!(c<1))for(let v=r;v<c;v++){const g=parseInt(instances[v].vm.el.style.top,10)-u-16;instances[v].vm.component.props.offset=g}}function closeAll$1(){var e;for(let t=instances.length-1;t>=0;t--){const r=instances[t].vm.component;(e=r==null?void 0:r.proxy)==null||e.close()}}message.closeAll=closeAll$1;const ElMessage=withInstallFunction(message,"$message"),notificationTypes=["success","info","warning","error"],notificationProps=buildProps({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:definePropType([String,Object]),default:""},id:{type:String,default:""},message:{type:definePropType([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:definePropType(Function),default:()=>{}},onClose:{type:definePropType(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...notificationTypes,""],default:""},zIndex:{type:Number,default:0}}),notificationEmits={destroy:()=>!0},_sfc_main$7=defineComponent({name:"ElNotification",components:{ElIcon,...TypeComponents},props:notificationProps,emits:notificationEmits,setup(e){const t=useNamespace("notification"),r=ref(!1);let d;const u=computed(()=>{const a=e.type;return a&&TypeComponentsMap[e.type]?t.m(a):""}),c=computed(()=>TypeComponentsMap[e.type]||e.icon||""),v=computed(()=>e.position.endsWith("right")?"right":"left"),g=computed(()=>e.position.startsWith("top")?"top":"bottom"),y=computed(()=>({[g.value]:`${e.offset}px`,zIndex:e.zIndex}));function o(){e.duration>0&&({stop:d}=useTimeoutFn(()=>{r.value&&s()},e.duration))}function n(){d==null||d()}function s(){r.value=!1}function i({code:a}){a===EVENT_CODE.delete||a===EVENT_CODE.backspace?n():a===EVENT_CODE.esc?r.value&&s():o()}return onMounted(()=>{o(),r.value=!0}),useEventListener(document,"keydown",i),{ns:t,horizontalClass:v,typeClass:u,iconComponent:c,positionStyle:y,visible:r,close:s,clearTimer:n,startTimer:o}}}),_hoisted_1$7=["id"],_hoisted_2$6=["textContent"],_hoisted_3$5={key:0},_hoisted_4$5=["innerHTML"];function _sfc_render(e,t,r,d,u,c){const v=resolveComponent("el-icon"),g=resolveComponent("close");return openBlock(),createBlock(Transition,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[3]||(t[3]=y=>e.$emit("destroy"))},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:e.id,class:normalizeClass([e.ns.b(),e.customClass,e.horizontalClass]),style:normalizeStyle(e.positionStyle),role:"alert",onMouseenter:t[0]||(t[0]=(...y)=>e.clearTimer&&e.clearTimer(...y)),onMouseleave:t[1]||(t[1]=(...y)=>e.startTimer&&e.startTimer(...y)),onClick:t[2]||(t[2]=(...y)=>e.onClick&&e.onClick(...y))},[e.iconComponent?(openBlock(),createBlock(v,{key:0,class:normalizeClass([e.ns.e("icon"),e.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(e.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(e.ns.e("group"))},[createBaseVNode("h2",{class:normalizeClass(e.ns.e("title")),textContent:toDisplayString(e.title)},null,10,_hoisted_2$6),withDirectives(createBaseVNode("div",{class:normalizeClass(e.ns.e("content")),style:normalizeStyle(e.title?void 0:{margin:0})},[renderSlot(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromized, nerver use user's input as message "),createCommentVNode(" eslint-disable-next-line "),createBaseVNode("p",{innerHTML:e.message},null,8,_hoisted_4$5)],2112)):(openBlock(),createElementBlock("p",_hoisted_3$5,toDisplayString(e.message),1))])],6),[[vShow,e.message]]),e.showClose?(openBlock(),createBlock(v,{key:0,class:normalizeClass(e.ns.e("closeBtn")),onClick:withModifiers(e.close,["stop"])},{default:withCtx(()=>[createVNode(g)]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],2)],46,_hoisted_1$7),[[vShow,e.visible]])]),_:3},8,["name","onBeforeLeave"])}var NotificationConstructor=_export_sfc$1(_sfc_main$7,[["render",_sfc_render]]);const notifications={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},GAP_SIZE=16;let seed=1;const notify=function(e={}){if(!isClient)return{close:()=>{}};(typeof e=="string"||isVNode(e))&&(e={message:e});const t=e.position||"top-right";let r=e.offset||0;notifications[t].forEach(({vm:n})=>{var s;r+=(((s=n.el)==null?void 0:s.offsetHeight)||0)+GAP_SIZE}),r+=GAP_SIZE;const{nextZIndex:d}=useZIndex(),u=`notification_${seed++}`,c=e.onClose,v={zIndex:d(),offset:r,...e,id:u,onClose:()=>{close(u,t,c)}};let g=document.body;e.appendTo instanceof HTMLElement?g=e.appendTo:typeof e.appendTo=="string"&&(g=document.querySelector(e.appendTo)),g instanceof HTMLElement||(g=document.body);const y=document.createElement("div"),o=createVNode(NotificationConstructor,v,isVNode(v.message)?{default:()=>v.message}:null);return o.props.onDestroy=()=>{render(null,y)},render(o,y),notifications[t].push({vm:o}),g.appendChild(y.firstElementChild),{close:()=>{o.component.proxy.visible=!1}}};notificationTypes.forEach(e=>{notify[e]=(t={})=>((typeof t=="string"||isVNode(t))&&(t={message:t}),notify({...t,type:e}))});function close(e,t,r){const d=notifications[t],u=d.findIndex(({vm:o})=>{var n;return((n=o.component)==null?void 0:n.props.id)===e});if(u===-1)return;const{vm:c}=d[u];if(!c)return;r==null||r(c);const v=c.el.offsetHeight,g=t.split("-")[0];d.splice(u,1);const y=d.length;if(!(y<1))for(let o=u;o<y;o++){const{el:n,component:s}=d[o].vm,i=parseInt(n.style[g],10)-v-GAP_SIZE;s.props.offset=i}}function closeAll(){for(const e of Object.values(notifications))e.forEach(({vm:t})=>{t.component.proxy.visible=!1})}notify.closeAll=closeAll;const ElNotification=withInstallFunction(notify,"$notify");var cryptoJs={exports:{}},core={exports:{}};(function(e,t){(function(r,d){e.exports=d()})(commonjsGlobal,function(){var r=r||function(d,u){var c;if(typeof window!="undefined"&&window.crypto&&(c=window.crypto),typeof self!="undefined"&&self.crypto&&(c=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(c=globalThis.crypto),!c&&typeof window!="undefined"&&window.msCrypto&&(c=window.msCrypto),!c&&typeof commonjsGlobal!="undefined"&&commonjsGlobal.crypto&&(c=commonjsGlobal.crypto),!c&&typeof commonjsRequire=="function")try{c=require("crypto")}catch{}var v=function(){if(c){if(typeof c.getRandomValues=="function")try{return c.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof c.randomBytes=="function")try{return c.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},g=Object.create||function(){function _(){}return function(w){var M;return _.prototype=w,M=new _,_.prototype=null,M}}(),y={},o=y.lib={},n=o.Base=function(){return{extend:function(_){var w=g(this);return _&&w.mixIn(_),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var w in _)_.hasOwnProperty(w)&&(this[w]=_[w]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=o.WordArray=n.extend({init:function(_,w){_=this.words=_||[],w!=u?this.sigBytes=w:this.sigBytes=_.length*4},toString:function(_){return(_||a).stringify(this)},concat:function(_){var w=this.words,M=_.words,S=this.sigBytes,I=_.sigBytes;if(this.clamp(),S%4)for(var x=0;x<I;x++){var E=M[x>>>2]>>>24-x%4*8&255;w[S+x>>>2]|=E<<24-(S+x)%4*8}else for(var D=0;D<I;D+=4)w[S+D>>>2]=M[D>>>2];return this.sigBytes+=I,this},clamp:function(){var _=this.words,w=this.sigBytes;_[w>>>2]&=4294967295<<32-w%4*8,_.length=d.ceil(w/4)},clone:function(){var _=n.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var w=[],M=0;M<_;M+=4)w.push(v());return new s.init(w,_)}}),i=y.enc={},a=i.Hex={stringify:function(_){for(var w=_.words,M=_.sigBytes,S=[],I=0;I<M;I++){var x=w[I>>>2]>>>24-I%4*8&255;S.push((x>>>4).toString(16)),S.push((x&15).toString(16))}return S.join("")},parse:function(_){for(var w=_.length,M=[],S=0;S<w;S+=2)M[S>>>3]|=parseInt(_.substr(S,2),16)<<24-S%8*4;return new s.init(M,w/2)}},m=i.Latin1={stringify:function(_){for(var w=_.words,M=_.sigBytes,S=[],I=0;I<M;I++){var x=w[I>>>2]>>>24-I%4*8&255;S.push(String.fromCharCode(x))}return S.join("")},parse:function(_){for(var w=_.length,M=[],S=0;S<w;S++)M[S>>>2]|=(_.charCodeAt(S)&255)<<24-S%4*8;return new s.init(M,w)}},f=i.Utf8={stringify:function(_){try{return decodeURIComponent(escape(m.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return m.parse(unescape(encodeURIComponent(_)))}},b=o.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=f.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var w,M=this._data,S=M.words,I=M.sigBytes,x=this.blockSize,E=x*4,D=I/E;_?D=d.ceil(D):D=d.max((D|0)-this._minBufferSize,0);var R=D*x,q=d.min(R*4,I);if(R){for(var A=0;A<R;A+=x)this._doProcessBlock(S,A);w=S.splice(0,R),M.sigBytes-=q}return new s.init(w,q)},clone:function(){var _=n.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});o.Hasher=b.extend({cfg:n.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(_){return function(w,M){return new _.init(M).finalize(w)}},_createHmacHelper:function(_){return function(w,M){return new C.HMAC.init(_,M).finalize(w)}}});var C=y.algo={};return y}(Math);return r})})(core);var x64Core={exports:{}};(function(e,t){(function(r,d){e.exports=d(core.exports)})(commonjsGlobal,function(r){return function(d){var u=r,c=u.lib,v=c.Base,g=c.WordArray,y=u.x64={};y.Word=v.extend({init:function(o,n){this.high=o,this.low=n}}),y.WordArray=v.extend({init:function(o,n){o=this.words=o||[],n!=d?this.sigBytes=n:this.sigBytes=o.length*8},toX32:function(){for(var o=this.words,n=o.length,s=[],i=0;i<n;i++){var a=o[i];s.push(a.high),s.push(a.low)}return g.create(s,this.sigBytes)},clone:function(){for(var o=v.clone.call(this),n=o.words=this.words.slice(0),s=n.length,i=0;i<s;i++)n[i]=n[i].clone();return o}})}(),r})})(x64Core);var libTypedarrays={exports:{}};(function(e,t){(function(r,d){e.exports=d(core.exports)})(commonjsGlobal,function(r){return function(){if(typeof ArrayBuffer=="function"){var d=r,u=d.lib,c=u.WordArray,v=c.init,g=c.init=function(y){if(y instanceof ArrayBuffer&&(y=new Uint8Array(y)),(y instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&y instanceof Uint8ClampedArray||y instanceof Int16Array||y instanceof Uint16Array||y instanceof Int32Array||y instanceof Uint32Array||y instanceof Float32Array||y instanceof Float64Array)&&(y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength)),y instanceof Uint8Array){for(var o=y.byteLength,n=[],s=0;s<o;s++)n[s>>>2]|=y[s]<<24-s%4*8;v.call(this,n,o)}else v.apply(this,arguments)};g.prototype=c}}(),r.lib.WordArray})})(libTypedarrays);var encUtf16={exports:{}};(function(e,t){(function(r,d){e.exports=d(core.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.WordArray,v=d.enc;v.Utf16=v.Utf16BE={stringify:function(y){for(var o=y.words,n=y.sigBytes,s=[],i=0;i<n;i+=2){var a=o[i>>>2]>>>16-i%4*8&65535;s.push(String.fromCharCode(a))}return s.join("")},parse:function(y){for(var o=y.length,n=[],s=0;s<o;s++)n[s>>>1]|=y.charCodeAt(s)<<16-s%2*16;return c.create(n,o*2)}},v.Utf16LE={stringify:function(y){for(var o=y.words,n=y.sigBytes,s=[],i=0;i<n;i+=2){var a=g(o[i>>>2]>>>16-i%4*8&65535);s.push(String.fromCharCode(a))}return s.join("")},parse:function(y){for(var o=y.length,n=[],s=0;s<o;s++)n[s>>>1]|=g(y.charCodeAt(s)<<16-s%2*16);return c.create(n,o*2)}};function g(y){return y<<8&4278255360|y>>>8&16711935}}(),r.enc.Utf16})})(encUtf16);var encBase64={exports:{}};(function(e,t){(function(r,d){e.exports=d(core.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.WordArray,v=d.enc;v.Base64={stringify:function(y){var o=y.words,n=y.sigBytes,s=this._map;y.clamp();for(var i=[],a=0;a<n;a+=3)for(var m=o[a>>>2]>>>24-a%4*8&255,f=o[a+1>>>2]>>>24-(a+1)%4*8&255,b=o[a+2>>>2]>>>24-(a+2)%4*8&255,C=m<<16|f<<8|b,_=0;_<4&&a+_*.75<n;_++)i.push(s.charAt(C>>>6*(3-_)&63));var w=s.charAt(64);if(w)for(;i.length%4;)i.push(w);return i.join("")},parse:function(y){var o=y.length,n=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var i=0;i<n.length;i++)s[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var m=y.indexOf(a);m!==-1&&(o=m)}return g(y,o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function g(y,o,n){for(var s=[],i=0,a=0;a<o;a++)if(a%4){var m=n[y.charCodeAt(a-1)]<<a%4*2,f=n[y.charCodeAt(a)]>>>6-a%4*2,b=m|f;s[i>>>2]|=b<<24-i%4*8,i++}return c.create(s,i)}}(),r.enc.Base64})})(encBase64);var encBase64url={exports:{}};(function(e,t){(function(r,d){e.exports=d(core.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.WordArray,v=d.enc;v.Base64url={stringify:function(y,o=!0){var n=y.words,s=y.sigBytes,i=o?this._safe_map:this._map;y.clamp();for(var a=[],m=0;m<s;m+=3)for(var f=n[m>>>2]>>>24-m%4*8&255,b=n[m+1>>>2]>>>24-(m+1)%4*8&255,C=n[m+2>>>2]>>>24-(m+2)%4*8&255,_=f<<16|b<<8|C,w=0;w<4&&m+w*.75<s;w++)a.push(i.charAt(_>>>6*(3-w)&63));var M=i.charAt(64);if(M)for(;a.length%4;)a.push(M);return a.join("")},parse:function(y,o=!0){var n=y.length,s=o?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<s.length;a++)i[s.charCodeAt(a)]=a}var m=s.charAt(64);if(m){var f=y.indexOf(m);f!==-1&&(n=f)}return g(y,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function g(y,o,n){for(var s=[],i=0,a=0;a<o;a++)if(a%4){var m=n[y.charCodeAt(a-1)]<<a%4*2,f=n[y.charCodeAt(a)]>>>6-a%4*2,b=m|f;s[i>>>2]|=b<<24-i%4*8,i++}return c.create(s,i)}}(),r.enc.Base64url})})(encBase64url);var md5={exports:{}};(function(e,t){(function(r,d){e.exports=d(core.exports)})(commonjsGlobal,function(r){return function(d){var u=r,c=u.lib,v=c.WordArray,g=c.Hasher,y=u.algo,o=[];(function(){for(var f=0;f<64;f++)o[f]=d.abs(d.sin(f+1))*4294967296|0})();var n=y.MD5=g.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,b){for(var C=0;C<16;C++){var _=b+C,w=f[_];f[_]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var M=this._hash.words,S=f[b+0],I=f[b+1],x=f[b+2],E=f[b+3],D=f[b+4],R=f[b+5],q=f[b+6],A=f[b+7],j=f[b+8],H=f[b+9],W=f[b+10],X=f[b+11],ee=f[b+12],ae=f[b+13],N=f[b+14],k=f[b+15],L=M[0],$=M[1],B=M[2],G=M[3];L=s(L,$,B,G,S,7,o[0]),G=s(G,L,$,B,I,12,o[1]),B=s(B,G,L,$,x,17,o[2]),$=s($,B,G,L,E,22,o[3]),L=s(L,$,B,G,D,7,o[4]),G=s(G,L,$,B,R,12,o[5]),B=s(B,G,L,$,q,17,o[6]),$=s($,B,G,L,A,22,o[7]),L=s(L,$,B,G,j,7,o[8]),G=s(G,L,$,B,H,12,o[9]),B=s(B,G,L,$,W,17,o[10]),$=s($,B,G,L,X,22,o[11]),L=s(L,$,B,G,ee,7,o[12]),G=s(G,L,$,B,ae,12,o[13]),B=s(B,G,L,$,N,17,o[14]),$=s($,B,G,L,k,22,o[15]),L=i(L,$,B,G,I,5,o[16]),G=i(G,L,$,B,q,9,o[17]),B=i(B,G,L,$,X,14,o[18]),$=i($,B,G,L,S,20,o[19]),L=i(L,$,B,G,R,5,o[20]),G=i(G,L,$,B,W,9,o[21]),B=i(B,G,L,$,k,14,o[22]),$=i($,B,G,L,D,20,o[23]),L=i(L,$,B,G,H,5,o[24]),G=i(G,L,$,B,N,9,o[25]),B=i(B,G,L,$,E,14,o[26]),$=i($,B,G,L,j,20,o[27]),L=i(L,$,B,G,ae,5,o[28]),G=i(G,L,$,B,x,9,o[29]),B=i(B,G,L,$,A,14,o[30]),$=i($,B,G,L,ee,20,o[31]),L=a(L,$,B,G,R,4,o[32]),G=a(G,L,$,B,j,11,o[33]),B=a(B,G,L,$,X,16,o[34]),$=a($,B,G,L,N,23,o[35]),L=a(L,$,B,G,I,4,o[36]),G=a(G,L,$,B,D,11,o[37]),B=a(B,G,L,$,A,16,o[38]),$=a($,B,G,L,W,23,o[39]),L=a(L,$,B,G,ae,4,o[40]),G=a(G,L,$,B,S,11,o[41]),B=a(B,G,L,$,E,16,o[42]),$=a($,B,G,L,q,23,o[43]),L=a(L,$,B,G,H,4,o[44]),G=a(G,L,$,B,ee,11,o[45]),B=a(B,G,L,$,k,16,o[46]),$=a($,B,G,L,x,23,o[47]),L=m(L,$,B,G,S,6,o[48]),G=m(G,L,$,B,A,10,o[49]),B=m(B,G,L,$,N,15,o[50]),$=m($,B,G,L,R,21,o[51]),L=m(L,$,B,G,ee,6,o[52]),G=m(G,L,$,B,E,10,o[53]),B=m(B,G,L,$,W,15,o[54]),$=m($,B,G,L,I,21,o[55]),L=m(L,$,B,G,j,6,o[56]),G=m(G,L,$,B,k,10,o[57]),B=m(B,G,L,$,q,15,o[58]),$=m($,B,G,L,ae,21,o[59]),L=m(L,$,B,G,D,6,o[60]),G=m(G,L,$,B,X,10,o[61]),B=m(B,G,L,$,x,15,o[62]),$=m($,B,G,L,H,21,o[63]),M[0]=M[0]+L|0,M[1]=M[1]+$|0,M[2]=M[2]+B|0,M[3]=M[3]+G|0},_doFinalize:function(){var f=this._data,b=f.words,C=this._nDataBytes*8,_=f.sigBytes*8;b[_>>>5]|=128<<24-_%32;var w=d.floor(C/4294967296),M=C;b[(_+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,b[(_+64>>>9<<4)+14]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,f.sigBytes=(b.length+1)*4,this._process();for(var S=this._hash,I=S.words,x=0;x<4;x++){var E=I[x];I[x]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}return S},clone:function(){var f=g.clone.call(this);return f._hash=this._hash.clone(),f}});function s(f,b,C,_,w,M,S){var I=f+(b&C|~b&_)+w+S;return(I<<M|I>>>32-M)+b}function i(f,b,C,_,w,M,S){var I=f+(b&_|C&~_)+w+S;return(I<<M|I>>>32-M)+b}function a(f,b,C,_,w,M,S){var I=f+(b^C^_)+w+S;return(I<<M|I>>>32-M)+b}function m(f,b,C,_,w,M,S){var I=f+(C^(b|~_))+w+S;return(I<<M|I>>>32-M)+b}u.MD5=g._createHelper(n),u.HmacMD5=g._createHmacHelper(n)}(Math),r.MD5})})(md5);var sha1={exports:{}};(function(e,t){(function(r,d){e.exports=d(core.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.WordArray,v=u.Hasher,g=d.algo,y=[],o=g.SHA1=v.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(n,s){for(var i=this._hash.words,a=i[0],m=i[1],f=i[2],b=i[3],C=i[4],_=0;_<80;_++){if(_<16)y[_]=n[s+_]|0;else{var w=y[_-3]^y[_-8]^y[_-14]^y[_-16];y[_]=w<<1|w>>>31}var M=(a<<5|a>>>27)+C+y[_];_<20?M+=(m&f|~m&b)+1518500249:_<40?M+=(m^f^b)+1859775393:_<60?M+=(m&f|m&b|f&b)-1894007588:M+=(m^f^b)-899497514,C=b,b=f,f=m<<30|m>>>2,m=a,a=M}i[0]=i[0]+a|0,i[1]=i[1]+m|0,i[2]=i[2]+f|0,i[3]=i[3]+b|0,i[4]=i[4]+C|0},_doFinalize:function(){var n=this._data,s=n.words,i=this._nDataBytes*8,a=n.sigBytes*8;return s[a>>>5]|=128<<24-a%32,s[(a+64>>>9<<4)+14]=Math.floor(i/4294967296),s[(a+64>>>9<<4)+15]=i,n.sigBytes=s.length*4,this._process(),this._hash},clone:function(){var n=v.clone.call(this);return n._hash=this._hash.clone(),n}});d.SHA1=v._createHelper(o),d.HmacSHA1=v._createHmacHelper(o)}(),r.SHA1})})(sha1);var sha256={exports:{}};(function(e,t){(function(r,d){e.exports=d(core.exports)})(commonjsGlobal,function(r){return function(d){var u=r,c=u.lib,v=c.WordArray,g=c.Hasher,y=u.algo,o=[],n=[];(function(){function a(C){for(var _=d.sqrt(C),w=2;w<=_;w++)if(!(C%w))return!1;return!0}function m(C){return(C-(C|0))*4294967296|0}for(var f=2,b=0;b<64;)a(f)&&(b<8&&(o[b]=m(d.pow(f,1/2))),n[b]=m(d.pow(f,1/3)),b++),f++})();var s=[],i=y.SHA256=g.extend({_doReset:function(){this._hash=new v.init(o.slice(0))},_doProcessBlock:function(a,m){for(var f=this._hash.words,b=f[0],C=f[1],_=f[2],w=f[3],M=f[4],S=f[5],I=f[6],x=f[7],E=0;E<64;E++){if(E<16)s[E]=a[m+E]|0;else{var D=s[E-15],R=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,q=s[E-2],A=(q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10;s[E]=R+s[E-7]+A+s[E-16]}var j=M&S^~M&I,H=b&C^b&_^C&_,W=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),X=(M<<26|M>>>6)^(M<<21|M>>>11)^(M<<7|M>>>25),ee=x+X+j+n[E]+s[E],ae=W+H;x=I,I=S,S=M,M=w+ee|0,w=_,_=C,C=b,b=ee+ae|0}f[0]=f[0]+b|0,f[1]=f[1]+C|0,f[2]=f[2]+_|0,f[3]=f[3]+w|0,f[4]=f[4]+M|0,f[5]=f[5]+S|0,f[6]=f[6]+I|0,f[7]=f[7]+x|0},_doFinalize:function(){var a=this._data,m=a.words,f=this._nDataBytes*8,b=a.sigBytes*8;return m[b>>>5]|=128<<24-b%32,m[(b+64>>>9<<4)+14]=d.floor(f/4294967296),m[(b+64>>>9<<4)+15]=f,a.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var a=g.clone.call(this);return a._hash=this._hash.clone(),a}});u.SHA256=g._createHelper(i),u.HmacSHA256=g._createHmacHelper(i)}(Math),r.SHA256})})(sha256);var sha224={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,sha256.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.WordArray,v=d.algo,g=v.SHA256,y=v.SHA224=g.extend({_doReset:function(){this._hash=new c.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var o=g._doFinalize.call(this);return o.sigBytes-=4,o}});d.SHA224=g._createHelper(y),d.HmacSHA224=g._createHmacHelper(y)}(),r.SHA224})})(sha224);var sha512={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,x64Core.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.Hasher,v=d.x64,g=v.Word,y=v.WordArray,o=d.algo;function n(){return g.create.apply(g,arguments)}var s=[n(1116352408,3609767458),n(1899447441,602891725),n(3049323471,3964484399),n(3921009573,2173295548),n(961987163,4081628472),n(1508970993,3053834265),n(2453635748,2937671579),n(2870763221,3664609560),n(3624381080,2734883394),n(310598401,1164996542),n(607225278,1323610764),n(1426881987,3590304994),n(1925078388,4068182383),n(2162078206,991336113),n(2614888103,633803317),n(3248222580,3479774868),n(3835390401,2666613458),n(4022224774,944711139),n(264347078,2341262773),n(604807628,2007800933),n(770255983,1495990901),n(1249150122,1856431235),n(1555081692,3175218132),n(1996064986,2198950837),n(2554220882,3999719339),n(2821834349,766784016),n(2952996808,2566594879),n(3210313671,3203337956),n(3336571891,1034457026),n(3584528711,2466948901),n(113926993,3758326383),n(338241895,168717936),n(666307205,1188179964),n(773529912,1546045734),n(1294757372,1522805485),n(1396182291,2643833823),n(1695183700,2343527390),n(1986661051,1014477480),n(2177026350,1206759142),n(2456956037,344077627),n(2730485921,1290863460),n(2820302411,3158454273),n(3259730800,3505952657),n(3345764771,106217008),n(3516065817,3606008344),n(3600352804,1432725776),n(4094571909,1467031594),n(275423344,851169720),n(430227734,3100823752),n(506948616,1363258195),n(659060556,3750685593),n(883997877,3785050280),n(958139571,3318307427),n(1322822218,3812723403),n(1537002063,2003034995),n(1747873779,3602036899),n(1955562222,1575990012),n(2024104815,1125592928),n(2227730452,2716904306),n(2361852424,442776044),n(2428436474,593698344),n(2756734187,3733110249),n(3204031479,2999351573),n(3329325298,3815920427),n(3391569614,3928383900),n(3515267271,566280711),n(3940187606,3454069534),n(4118630271,4000239992),n(116418474,1914138554),n(174292421,2731055270),n(289380356,3203993006),n(460393269,320620315),n(685471733,587496836),n(852142971,1086792851),n(1017036298,365543100),n(1126000580,2618297676),n(1288033470,3409855158),n(1501505948,4234509866),n(1607167915,987167468),n(1816402316,1246189591)],i=[];(function(){for(var m=0;m<80;m++)i[m]=n()})();var a=o.SHA512=c.extend({_doReset:function(){this._hash=new y.init([new g.init(1779033703,4089235720),new g.init(3144134277,2227873595),new g.init(1013904242,4271175723),new g.init(2773480762,1595750129),new g.init(1359893119,2917565137),new g.init(2600822924,725511199),new g.init(528734635,4215389547),new g.init(1541459225,327033209)])},_doProcessBlock:function(m,f){for(var b=this._hash.words,C=b[0],_=b[1],w=b[2],M=b[3],S=b[4],I=b[5],x=b[6],E=b[7],D=C.high,R=C.low,q=_.high,A=_.low,j=w.high,H=w.low,W=M.high,X=M.low,ee=S.high,ae=S.low,N=I.high,k=I.low,L=x.high,$=x.low,B=E.high,G=E.low,Z=D,re=R,z=q,ie=A,se=j,Ce=H,Se=W,F=X,J=ee,he=ae,de=N,ge=k,_e=L,fe=$,we=B,ke=G,Ie=0;Ie<80;Ie++){var De,Ee,U=i[Ie];if(Ie<16)Ee=U.high=m[f+Ie*2]|0,De=U.low=m[f+Ie*2+1]|0;else{var oe=i[Ie-15],te=oe.high,ue=oe.low,pe=(te>>>1|ue<<31)^(te>>>8|ue<<24)^te>>>7,K=(ue>>>1|te<<31)^(ue>>>8|te<<24)^(ue>>>7|te<<25),ce=i[Ie-2],me=ce.high,be=ce.low,Me=(me>>>19|be<<13)^(me<<3|be>>>29)^me>>>6,Oe=(be>>>19|me<<13)^(be<<3|me>>>29)^(be>>>6|me<<26),Re=i[Ie-7],Te=Re.high,qe=Re.low,$e=i[Ie-16],Pe=$e.high,je=$e.low;De=K+qe,Ee=pe+Te+(De>>>0<K>>>0?1:0),De=De+Oe,Ee=Ee+Me+(De>>>0<Oe>>>0?1:0),De=De+je,Ee=Ee+Pe+(De>>>0<je>>>0?1:0),U.high=Ee,U.low=De}var We=J&de^~J&_e,Xe=he&ge^~he&fe,Ye=Z&z^Z&se^z&se,Qe=re&ie^re&Ce^ie&Ce,He=(Z>>>28|re<<4)^(Z<<30|re>>>2)^(Z<<25|re>>>7),Je=(re>>>28|Z<<4)^(re<<30|Z>>>2)^(re<<25|Z>>>7),pt=(J>>>14|he<<18)^(J>>>18|he<<14)^(J<<23|he>>>9),ht=(he>>>14|J<<18)^(he>>>18|J<<14)^(he<<23|J>>>9),ut=s[Ie],bt=ut.high,ct=ut.low,Ve=ke+ht,Ze=we+pt+(Ve>>>0<ke>>>0?1:0),Ve=Ve+Xe,Ze=Ze+We+(Ve>>>0<Xe>>>0?1:0),Ve=Ve+ct,Ze=Ze+bt+(Ve>>>0<ct>>>0?1:0),Ve=Ve+De,Ze=Ze+Ee+(Ve>>>0<De>>>0?1:0),lt=Je+Qe,mt=He+Ye+(lt>>>0<Je>>>0?1:0);we=_e,ke=fe,_e=de,fe=ge,de=J,ge=he,he=F+Ve|0,J=Se+Ze+(he>>>0<F>>>0?1:0)|0,Se=se,F=Ce,se=z,Ce=ie,z=Z,ie=re,re=Ve+lt|0,Z=Ze+mt+(re>>>0<Ve>>>0?1:0)|0}R=C.low=R+re,C.high=D+Z+(R>>>0<re>>>0?1:0),A=_.low=A+ie,_.high=q+z+(A>>>0<ie>>>0?1:0),H=w.low=H+Ce,w.high=j+se+(H>>>0<Ce>>>0?1:0),X=M.low=X+F,M.high=W+Se+(X>>>0<F>>>0?1:0),ae=S.low=ae+he,S.high=ee+J+(ae>>>0<he>>>0?1:0),k=I.low=k+ge,I.high=N+de+(k>>>0<ge>>>0?1:0),$=x.low=$+fe,x.high=L+_e+($>>>0<fe>>>0?1:0),G=E.low=G+ke,E.high=B+we+(G>>>0<ke>>>0?1:0)},_doFinalize:function(){var m=this._data,f=m.words,b=this._nDataBytes*8,C=m.sigBytes*8;f[C>>>5]|=128<<24-C%32,f[(C+128>>>10<<5)+30]=Math.floor(b/4294967296),f[(C+128>>>10<<5)+31]=b,m.sigBytes=f.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var m=c.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});d.SHA512=c._createHelper(a),d.HmacSHA512=c._createHmacHelper(a)}(),r.SHA512})})(sha512);var sha384={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,x64Core.exports,sha512.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.x64,c=u.Word,v=u.WordArray,g=d.algo,y=g.SHA512,o=g.SHA384=y.extend({_doReset:function(){this._hash=new v.init([new c.init(3418070365,3238371032),new c.init(1654270250,914150663),new c.init(2438529370,812702999),new c.init(355462360,4144912697),new c.init(1731405415,4290775857),new c.init(2394180231,1750603025),new c.init(3675008525,1694076839),new c.init(1203062813,3204075428)])},_doFinalize:function(){var n=y._doFinalize.call(this);return n.sigBytes-=16,n}});d.SHA384=y._createHelper(o),d.HmacSHA384=y._createHmacHelper(o)}(),r.SHA384})})(sha384);var sha3={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,x64Core.exports)})(commonjsGlobal,function(r){return function(d){var u=r,c=u.lib,v=c.WordArray,g=c.Hasher,y=u.x64,o=y.Word,n=u.algo,s=[],i=[],a=[];(function(){for(var b=1,C=0,_=0;_<24;_++){s[b+5*C]=(_+1)*(_+2)/2%64;var w=C%5,M=(2*b+3*C)%5;b=w,C=M}for(var b=0;b<5;b++)for(var C=0;C<5;C++)i[b+5*C]=C+(2*b+3*C)%5*5;for(var S=1,I=0;I<24;I++){for(var x=0,E=0,D=0;D<7;D++){if(S&1){var R=(1<<D)-1;R<32?E^=1<<R:x^=1<<R-32}S&128?S=S<<1^113:S<<=1}a[I]=o.create(x,E)}})();var m=[];(function(){for(var b=0;b<25;b++)m[b]=o.create()})();var f=n.SHA3=g.extend({cfg:g.cfg.extend({outputLength:512}),_doReset:function(){for(var b=this._state=[],C=0;C<25;C++)b[C]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(b,C){for(var _=this._state,w=this.blockSize/2,M=0;M<w;M++){var S=b[C+2*M],I=b[C+2*M+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360;var x=_[M];x.high^=I,x.low^=S}for(var E=0;E<24;E++){for(var D=0;D<5;D++){for(var R=0,q=0,A=0;A<5;A++){var x=_[D+5*A];R^=x.high,q^=x.low}var j=m[D];j.high=R,j.low=q}for(var D=0;D<5;D++)for(var H=m[(D+4)%5],W=m[(D+1)%5],X=W.high,ee=W.low,R=H.high^(X<<1|ee>>>31),q=H.low^(ee<<1|X>>>31),A=0;A<5;A++){var x=_[D+5*A];x.high^=R,x.low^=q}for(var ae=1;ae<25;ae++){var R,q,x=_[ae],N=x.high,k=x.low,L=s[ae];L<32?(R=N<<L|k>>>32-L,q=k<<L|N>>>32-L):(R=k<<L-32|N>>>64-L,q=N<<L-32|k>>>64-L);var $=m[i[ae]];$.high=R,$.low=q}var B=m[0],G=_[0];B.high=G.high,B.low=G.low;for(var D=0;D<5;D++)for(var A=0;A<5;A++){var ae=D+5*A,x=_[ae],Z=m[ae],re=m[(D+1)%5+5*A],z=m[(D+2)%5+5*A];x.high=Z.high^~re.high&z.high,x.low=Z.low^~re.low&z.low}var x=_[0],ie=a[E];x.high^=ie.high,x.low^=ie.low}},_doFinalize:function(){var b=this._data,C=b.words;this._nDataBytes*8;var _=b.sigBytes*8,w=this.blockSize*32;C[_>>>5]|=1<<24-_%32,C[(d.ceil((_+1)/w)*w>>>5)-1]|=128,b.sigBytes=C.length*4,this._process();for(var M=this._state,S=this.cfg.outputLength/8,I=S/8,x=[],E=0;E<I;E++){var D=M[E],R=D.high,q=D.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,x.push(q),x.push(R)}return new v.init(x,S)},clone:function(){for(var b=g.clone.call(this),C=b._state=this._state.slice(0),_=0;_<25;_++)C[_]=C[_].clone();return b}});u.SHA3=g._createHelper(f),u.HmacSHA3=g._createHmacHelper(f)}(Math),r.SHA3})})(sha3);var ripemd160={exports:{}};(function(e,t){(function(r,d){e.exports=d(core.exports)})(commonjsGlobal,function(r){/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(d){var u=r,c=u.lib,v=c.WordArray,g=c.Hasher,y=u.algo,o=v.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),n=v.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=v.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),i=v.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),a=v.create([0,1518500249,1859775393,2400959708,2840853838]),m=v.create([1352829926,1548603684,1836072691,2053994217,0]),f=y.RIPEMD160=g.extend({_doReset:function(){this._hash=v.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(I,x){for(var E=0;E<16;E++){var D=x+E,R=I[D];I[D]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var q=this._hash.words,A=a.words,j=m.words,H=o.words,W=n.words,X=s.words,ee=i.words,ae,N,k,L,$,B,G,Z,re,z;B=ae=q[0],G=N=q[1],Z=k=q[2],re=L=q[3],z=$=q[4];for(var ie,E=0;E<80;E+=1)ie=ae+I[x+H[E]]|0,E<16?ie+=b(N,k,L)+A[0]:E<32?ie+=C(N,k,L)+A[1]:E<48?ie+=_(N,k,L)+A[2]:E<64?ie+=w(N,k,L)+A[3]:ie+=M(N,k,L)+A[4],ie=ie|0,ie=S(ie,X[E]),ie=ie+$|0,ae=$,$=L,L=S(k,10),k=N,N=ie,ie=B+I[x+W[E]]|0,E<16?ie+=M(G,Z,re)+j[0]:E<32?ie+=w(G,Z,re)+j[1]:E<48?ie+=_(G,Z,re)+j[2]:E<64?ie+=C(G,Z,re)+j[3]:ie+=b(G,Z,re)+j[4],ie=ie|0,ie=S(ie,ee[E]),ie=ie+z|0,B=z,z=re,re=S(Z,10),Z=G,G=ie;ie=q[1]+k+re|0,q[1]=q[2]+L+z|0,q[2]=q[3]+$+B|0,q[3]=q[4]+ae+G|0,q[4]=q[0]+N+Z|0,q[0]=ie},_doFinalize:function(){var I=this._data,x=I.words,E=this._nDataBytes*8,D=I.sigBytes*8;x[D>>>5]|=128<<24-D%32,x[(D+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,I.sigBytes=(x.length+1)*4,this._process();for(var R=this._hash,q=R.words,A=0;A<5;A++){var j=q[A];q[A]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}return R},clone:function(){var I=g.clone.call(this);return I._hash=this._hash.clone(),I}});function b(I,x,E){return I^x^E}function C(I,x,E){return I&x|~I&E}function _(I,x,E){return(I|~x)^E}function w(I,x,E){return I&E|x&~E}function M(I,x,E){return I^(x|~E)}function S(I,x){return I<<x|I>>>32-x}u.RIPEMD160=g._createHelper(f),u.HmacRIPEMD160=g._createHmacHelper(f)}(),r.RIPEMD160})})(ripemd160);var hmac={exports:{}};(function(e,t){(function(r,d){e.exports=d(core.exports)})(commonjsGlobal,function(r){(function(){var d=r,u=d.lib,c=u.Base,v=d.enc,g=v.Utf8,y=d.algo;y.HMAC=c.extend({init:function(o,n){o=this._hasher=new o.init,typeof n=="string"&&(n=g.parse(n));var s=o.blockSize,i=s*4;n.sigBytes>i&&(n=o.finalize(n)),n.clamp();for(var a=this._oKey=n.clone(),m=this._iKey=n.clone(),f=a.words,b=m.words,C=0;C<s;C++)f[C]^=1549556828,b[C]^=909522486;a.sigBytes=m.sigBytes=i,this.reset()},reset:function(){var o=this._hasher;o.reset(),o.update(this._iKey)},update:function(o){return this._hasher.update(o),this},finalize:function(o){var n=this._hasher,s=n.finalize(o);n.reset();var i=n.finalize(this._oKey.clone().concat(s));return i}})})()})})(hmac);var pbkdf2={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,sha1.exports,hmac.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.Base,v=u.WordArray,g=d.algo,y=g.SHA1,o=g.HMAC,n=g.PBKDF2=c.extend({cfg:c.extend({keySize:128/32,hasher:y,iterations:1}),init:function(s){this.cfg=this.cfg.extend(s)},compute:function(s,i){for(var a=this.cfg,m=o.create(a.hasher,s),f=v.create(),b=v.create([1]),C=f.words,_=b.words,w=a.keySize,M=a.iterations;C.length<w;){var S=m.update(i).finalize(b);m.reset();for(var I=S.words,x=I.length,E=S,D=1;D<M;D++){E=m.finalize(E),m.reset();for(var R=E.words,q=0;q<x;q++)I[q]^=R[q]}f.concat(S),_[0]++}return f.sigBytes=w*4,f}});d.PBKDF2=function(s,i,a){return n.create(a).compute(s,i)}}(),r.PBKDF2})})(pbkdf2);var evpkdf={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,sha1.exports,hmac.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.Base,v=u.WordArray,g=d.algo,y=g.MD5,o=g.EvpKDF=c.extend({cfg:c.extend({keySize:128/32,hasher:y,iterations:1}),init:function(n){this.cfg=this.cfg.extend(n)},compute:function(n,s){for(var i,a=this.cfg,m=a.hasher.create(),f=v.create(),b=f.words,C=a.keySize,_=a.iterations;b.length<C;){i&&m.update(i),i=m.update(n).finalize(s),m.reset();for(var w=1;w<_;w++)i=m.finalize(i),m.reset();f.concat(i)}return f.sigBytes=C*4,f}});d.EvpKDF=function(n,s,i){return o.create(i).compute(n,s)}}(),r.EvpKDF})})(evpkdf);var cipherCore={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,evpkdf.exports)})(commonjsGlobal,function(r){r.lib.Cipher||function(d){var u=r,c=u.lib,v=c.Base,g=c.WordArray,y=c.BufferedBlockAlgorithm,o=u.enc;o.Utf8;var n=o.Base64,s=u.algo,i=s.EvpKDF,a=c.Cipher=y.extend({cfg:v.extend(),createEncryptor:function(R,q){return this.create(this._ENC_XFORM_MODE,R,q)},createDecryptor:function(R,q){return this.create(this._DEC_XFORM_MODE,R,q)},init:function(R,q,A){this.cfg=this.cfg.extend(A),this._xformMode=R,this._key=q,this.reset()},reset:function(){y.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var q=this._doFinalize();return q},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(q){return typeof q=="string"?D:I}return function(q){return{encrypt:function(A,j,H){return R(j).encrypt(q,A,j,H)},decrypt:function(A,j,H){return R(j).decrypt(q,A,j,H)}}}}()});c.StreamCipher=a.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var m=u.mode={},f=c.BlockCipherMode=v.extend({createEncryptor:function(R,q){return this.Encryptor.create(R,q)},createDecryptor:function(R,q){return this.Decryptor.create(R,q)},init:function(R,q){this._cipher=R,this._iv=q}}),b=m.CBC=function(){var R=f.extend();R.Encryptor=R.extend({processBlock:function(A,j){var H=this._cipher,W=H.blockSize;q.call(this,A,j,W),H.encryptBlock(A,j),this._prevBlock=A.slice(j,j+W)}}),R.Decryptor=R.extend({processBlock:function(A,j){var H=this._cipher,W=H.blockSize,X=A.slice(j,j+W);H.decryptBlock(A,j),q.call(this,A,j,W),this._prevBlock=X}});function q(A,j,H){var W,X=this._iv;X?(W=X,this._iv=d):W=this._prevBlock;for(var ee=0;ee<H;ee++)A[j+ee]^=W[ee]}return R}(),C=u.pad={},_=C.Pkcs7={pad:function(R,q){for(var A=q*4,j=A-R.sigBytes%A,H=j<<24|j<<16|j<<8|j,W=[],X=0;X<j;X+=4)W.push(H);var ee=g.create(W,j);R.concat(ee)},unpad:function(R){var q=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=q}};c.BlockCipher=a.extend({cfg:a.cfg.extend({mode:b,padding:_}),reset:function(){var R;a.reset.call(this);var q=this.cfg,A=q.iv,j=q.mode;this._xformMode==this._ENC_XFORM_MODE?R=j.createEncryptor:(R=j.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,A&&A.words):(this._mode=R.call(j,this,A&&A.words),this._mode.__creator=R)},_doProcessBlock:function(R,q){this._mode.processBlock(R,q)},_doFinalize:function(){var R,q=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(q.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),q.unpad(R)),R},blockSize:128/32});var w=c.CipherParams=v.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),M=u.format={},S=M.OpenSSL={stringify:function(R){var q,A=R.ciphertext,j=R.salt;return j?q=g.create([1398893684,1701076831]).concat(j).concat(A):q=A,q.toString(n)},parse:function(R){var q,A=n.parse(R),j=A.words;return j[0]==1398893684&&j[1]==1701076831&&(q=g.create(j.slice(2,4)),j.splice(0,4),A.sigBytes-=16),w.create({ciphertext:A,salt:q})}},I=c.SerializableCipher=v.extend({cfg:v.extend({format:S}),encrypt:function(R,q,A,j){j=this.cfg.extend(j);var H=R.createEncryptor(A,j),W=H.finalize(q),X=H.cfg;return w.create({ciphertext:W,key:A,iv:X.iv,algorithm:R,mode:X.mode,padding:X.padding,blockSize:R.blockSize,formatter:j.format})},decrypt:function(R,q,A,j){j=this.cfg.extend(j),q=this._parse(q,j.format);var H=R.createDecryptor(A,j).finalize(q.ciphertext);return H},_parse:function(R,q){return typeof R=="string"?q.parse(R,this):R}}),x=u.kdf={},E=x.OpenSSL={execute:function(R,q,A,j){j||(j=g.random(64/8));var H=i.create({keySize:q+A}).compute(R,j),W=g.create(H.words.slice(q),A*4);return H.sigBytes=q*4,w.create({key:H,iv:W,salt:j})}},D=c.PasswordBasedCipher=I.extend({cfg:I.cfg.extend({kdf:E}),encrypt:function(R,q,A,j){j=this.cfg.extend(j);var H=j.kdf.execute(A,R.keySize,R.ivSize);j.iv=H.iv;var W=I.encrypt.call(this,R,q,H.key,j);return W.mixIn(H),W},decrypt:function(R,q,A,j){j=this.cfg.extend(j),q=this._parse(q,j.format);var H=j.kdf.execute(A,R.keySize,R.ivSize,q.salt);j.iv=H.iv;var W=I.decrypt.call(this,R,q,H.key,j);return W}})}()})})(cipherCore);var modeCfb={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){return r.mode.CFB=function(){var d=r.lib.BlockCipherMode.extend();d.Encryptor=d.extend({processBlock:function(c,v){var g=this._cipher,y=g.blockSize;u.call(this,c,v,y,g),this._prevBlock=c.slice(v,v+y)}}),d.Decryptor=d.extend({processBlock:function(c,v){var g=this._cipher,y=g.blockSize,o=c.slice(v,v+y);u.call(this,c,v,y,g),this._prevBlock=o}});function u(c,v,g,y){var o,n=this._iv;n?(o=n.slice(0),this._iv=void 0):o=this._prevBlock,y.encryptBlock(o,0);for(var s=0;s<g;s++)c[v+s]^=o[s]}return d}(),r.mode.CFB})})(modeCfb);var modeCtr={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){return r.mode.CTR=function(){var d=r.lib.BlockCipherMode.extend(),u=d.Encryptor=d.extend({processBlock:function(c,v){var g=this._cipher,y=g.blockSize,o=this._iv,n=this._counter;o&&(n=this._counter=o.slice(0),this._iv=void 0);var s=n.slice(0);g.encryptBlock(s,0),n[y-1]=n[y-1]+1|0;for(var i=0;i<y;i++)c[v+i]^=s[i]}});return d.Decryptor=u,d}(),r.mode.CTR})})(modeCtr);var modeCtrGladman={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var d=r.lib.BlockCipherMode.extend();function u(g){if((g>>24&255)===255){var y=g>>16&255,o=g>>8&255,n=g&255;y===255?(y=0,o===255?(o=0,n===255?n=0:++n):++o):++y,g=0,g+=y<<16,g+=o<<8,g+=n}else g+=1<<24;return g}function c(g){return(g[0]=u(g[0]))===0&&(g[1]=u(g[1])),g}var v=d.Encryptor=d.extend({processBlock:function(g,y){var o=this._cipher,n=o.blockSize,s=this._iv,i=this._counter;s&&(i=this._counter=s.slice(0),this._iv=void 0),c(i);var a=i.slice(0);o.encryptBlock(a,0);for(var m=0;m<n;m++)g[y+m]^=a[m]}});return d.Decryptor=v,d}(),r.mode.CTRGladman})})(modeCtrGladman);var modeOfb={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){return r.mode.OFB=function(){var d=r.lib.BlockCipherMode.extend(),u=d.Encryptor=d.extend({processBlock:function(c,v){var g=this._cipher,y=g.blockSize,o=this._iv,n=this._keystream;o&&(n=this._keystream=o.slice(0),this._iv=void 0),g.encryptBlock(n,0);for(var s=0;s<y;s++)c[v+s]^=n[s]}});return d.Decryptor=u,d}(),r.mode.OFB})})(modeOfb);var modeEcb={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){return r.mode.ECB=function(){var d=r.lib.BlockCipherMode.extend();return d.Encryptor=d.extend({processBlock:function(u,c){this._cipher.encryptBlock(u,c)}}),d.Decryptor=d.extend({processBlock:function(u,c){this._cipher.decryptBlock(u,c)}}),d}(),r.mode.ECB})})(modeEcb);var padAnsix923={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){return r.pad.AnsiX923={pad:function(d,u){var c=d.sigBytes,v=u*4,g=v-c%v,y=c+g-1;d.clamp(),d.words[y>>>2]|=g<<24-y%4*8,d.sigBytes+=g},unpad:function(d){var u=d.words[d.sigBytes-1>>>2]&255;d.sigBytes-=u}},r.pad.Ansix923})})(padAnsix923);var padIso10126={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){return r.pad.Iso10126={pad:function(d,u){var c=u*4,v=c-d.sigBytes%c;d.concat(r.lib.WordArray.random(v-1)).concat(r.lib.WordArray.create([v<<24],1))},unpad:function(d){var u=d.words[d.sigBytes-1>>>2]&255;d.sigBytes-=u}},r.pad.Iso10126})})(padIso10126);var padIso97971={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){return r.pad.Iso97971={pad:function(d,u){d.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(d,u)},unpad:function(d){r.pad.ZeroPadding.unpad(d),d.sigBytes--}},r.pad.Iso97971})})(padIso97971);var padZeropadding={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){return r.pad.ZeroPadding={pad:function(d,u){var c=u*4;d.clamp(),d.sigBytes+=c-(d.sigBytes%c||c)},unpad:function(d){for(var u=d.words,c=d.sigBytes-1,c=d.sigBytes-1;c>=0;c--)if(u[c>>>2]>>>24-c%4*8&255){d.sigBytes=c+1;break}}},r.pad.ZeroPadding})})(padZeropadding);var padNopadding={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})})(padNopadding);var formatHex={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,cipherCore.exports)})(commonjsGlobal,function(r){return function(d){var u=r,c=u.lib,v=c.CipherParams,g=u.enc,y=g.Hex,o=u.format;o.Hex={stringify:function(n){return n.ciphertext.toString(y)},parse:function(n){var s=y.parse(n);return v.create({ciphertext:s})}}}(),r.format.Hex})})(formatHex);var aes={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.BlockCipher,v=d.algo,g=[],y=[],o=[],n=[],s=[],i=[],a=[],m=[],f=[],b=[];(function(){for(var w=[],M=0;M<256;M++)M<128?w[M]=M<<1:w[M]=M<<1^283;for(var S=0,I=0,M=0;M<256;M++){var x=I^I<<1^I<<2^I<<3^I<<4;x=x>>>8^x&255^99,g[S]=x,y[x]=S;var E=w[S],D=w[E],R=w[D],q=w[x]*257^x*16843008;o[S]=q<<24|q>>>8,n[S]=q<<16|q>>>16,s[S]=q<<8|q>>>24,i[S]=q;var q=R*16843009^D*65537^E*257^S*16843008;a[x]=q<<24|q>>>8,m[x]=q<<16|q>>>16,f[x]=q<<8|q>>>24,b[x]=q,S?(S=E^w[w[w[R^E]]],I^=w[w[I]]):S=I=1}})();var C=[0,1,2,4,8,16,32,64,128,27,54],_=v.AES=c.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var M=this._keyPriorReset=this._key,S=M.words,I=M.sigBytes/4,x=this._nRounds=I+6,E=(x+1)*4,D=this._keySchedule=[],R=0;R<E;R++)R<I?D[R]=S[R]:(w=D[R-1],R%I?I>6&&R%I==4&&(w=g[w>>>24]<<24|g[w>>>16&255]<<16|g[w>>>8&255]<<8|g[w&255]):(w=w<<8|w>>>24,w=g[w>>>24]<<24|g[w>>>16&255]<<16|g[w>>>8&255]<<8|g[w&255],w^=C[R/I|0]<<24),D[R]=D[R-I]^w);for(var q=this._invKeySchedule=[],A=0;A<E;A++){var R=E-A;if(A%4)var w=D[R];else var w=D[R-4];A<4||R<=4?q[A]=w:q[A]=a[g[w>>>24]]^m[g[w>>>16&255]]^f[g[w>>>8&255]]^b[g[w&255]]}}},encryptBlock:function(w,M){this._doCryptBlock(w,M,this._keySchedule,o,n,s,i,g)},decryptBlock:function(w,M){var S=w[M+1];w[M+1]=w[M+3],w[M+3]=S,this._doCryptBlock(w,M,this._invKeySchedule,a,m,f,b,y);var S=w[M+1];w[M+1]=w[M+3],w[M+3]=S},_doCryptBlock:function(w,M,S,I,x,E,D,R){for(var q=this._nRounds,A=w[M]^S[0],j=w[M+1]^S[1],H=w[M+2]^S[2],W=w[M+3]^S[3],X=4,ee=1;ee<q;ee++){var ae=I[A>>>24]^x[j>>>16&255]^E[H>>>8&255]^D[W&255]^S[X++],N=I[j>>>24]^x[H>>>16&255]^E[W>>>8&255]^D[A&255]^S[X++],k=I[H>>>24]^x[W>>>16&255]^E[A>>>8&255]^D[j&255]^S[X++],L=I[W>>>24]^x[A>>>16&255]^E[j>>>8&255]^D[H&255]^S[X++];A=ae,j=N,H=k,W=L}var ae=(R[A>>>24]<<24|R[j>>>16&255]<<16|R[H>>>8&255]<<8|R[W&255])^S[X++],N=(R[j>>>24]<<24|R[H>>>16&255]<<16|R[W>>>8&255]<<8|R[A&255])^S[X++],k=(R[H>>>24]<<24|R[W>>>16&255]<<16|R[A>>>8&255]<<8|R[j&255])^S[X++],L=(R[W>>>24]<<24|R[A>>>16&255]<<16|R[j>>>8&255]<<8|R[H&255])^S[X++];w[M]=ae,w[M+1]=N,w[M+2]=k,w[M+3]=L},keySize:256/32});d.AES=c._createHelper(_)}(),r.AES})})(aes);var tripledes={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.WordArray,v=u.BlockCipher,g=d.algo,y=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],n=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],s=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],i=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],a=g.DES=v.extend({_doReset:function(){for(var C=this._key,_=C.words,w=[],M=0;M<56;M++){var S=y[M]-1;w[M]=_[S>>>5]>>>31-S%32&1}for(var I=this._subKeys=[],x=0;x<16;x++){for(var E=I[x]=[],D=n[x],M=0;M<24;M++)E[M/6|0]|=w[(o[M]-1+D)%28]<<31-M%6,E[4+(M/6|0)]|=w[28+(o[M+24]-1+D)%28]<<31-M%6;E[0]=E[0]<<1|E[0]>>>31;for(var M=1;M<7;M++)E[M]=E[M]>>>(M-1)*4+3;E[7]=E[7]<<5|E[7]>>>27}for(var R=this._invSubKeys=[],M=0;M<16;M++)R[M]=I[15-M]},encryptBlock:function(C,_){this._doCryptBlock(C,_,this._subKeys)},decryptBlock:function(C,_){this._doCryptBlock(C,_,this._invSubKeys)},_doCryptBlock:function(C,_,w){this._lBlock=C[_],this._rBlock=C[_+1],m.call(this,4,252645135),m.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),m.call(this,1,1431655765);for(var M=0;M<16;M++){for(var S=w[M],I=this._lBlock,x=this._rBlock,E=0,D=0;D<8;D++)E|=s[D][((x^S[D])&i[D])>>>0];this._lBlock=x,this._rBlock=I^E}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,m.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),C[_]=this._lBlock,C[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(C,_){var w=(this._lBlock>>>C^this._rBlock)&_;this._rBlock^=w,this._lBlock^=w<<C}function f(C,_){var w=(this._rBlock>>>C^this._lBlock)&_;this._lBlock^=w,this._rBlock^=w<<C}d.DES=v._createHelper(a);var b=g.TripleDES=v.extend({_doReset:function(){var C=this._key,_=C.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=_.slice(0,2),M=_.length<4?_.slice(0,2):_.slice(2,4),S=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=a.createEncryptor(c.create(w)),this._des2=a.createEncryptor(c.create(M)),this._des3=a.createEncryptor(c.create(S))},encryptBlock:function(C,_){this._des1.encryptBlock(C,_),this._des2.decryptBlock(C,_),this._des3.encryptBlock(C,_)},decryptBlock:function(C,_){this._des3.decryptBlock(C,_),this._des2.encryptBlock(C,_),this._des1.decryptBlock(C,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});d.TripleDES=v._createHelper(b)}(),r.TripleDES})})(tripledes);var rc4={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.StreamCipher,v=d.algo,g=v.RC4=c.extend({_doReset:function(){for(var n=this._key,s=n.words,i=n.sigBytes,a=this._S=[],m=0;m<256;m++)a[m]=m;for(var m=0,f=0;m<256;m++){var b=m%i,C=s[b>>>2]>>>24-b%4*8&255;f=(f+a[m]+C)%256;var _=a[m];a[m]=a[f],a[f]=_}this._i=this._j=0},_doProcessBlock:function(n,s){n[s]^=y.call(this)},keySize:256/32,ivSize:0});function y(){for(var n=this._S,s=this._i,i=this._j,a=0,m=0;m<4;m++){s=(s+1)%256,i=(i+n[s])%256;var f=n[s];n[s]=n[i],n[i]=f,a|=n[(n[s]+n[i])%256]<<24-m*8}return this._i=s,this._j=i,a}d.RC4=c._createHelper(g);var o=v.RC4Drop=g.extend({cfg:g.cfg.extend({drop:192}),_doReset:function(){g._doReset.call(this);for(var n=this.cfg.drop;n>0;n--)y.call(this)}});d.RC4Drop=c._createHelper(o)}(),r.RC4})})(rc4);var rabbit={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.StreamCipher,v=d.algo,g=[],y=[],o=[],n=v.Rabbit=c.extend({_doReset:function(){for(var i=this._key.words,a=this.cfg.iv,m=0;m<4;m++)i[m]=(i[m]<<8|i[m]>>>24)&16711935|(i[m]<<24|i[m]>>>8)&4278255360;var f=this._X=[i[0],i[3]<<16|i[2]>>>16,i[1],i[0]<<16|i[3]>>>16,i[2],i[1]<<16|i[0]>>>16,i[3],i[2]<<16|i[1]>>>16],b=this._C=[i[2]<<16|i[2]>>>16,i[0]&4294901760|i[1]&65535,i[3]<<16|i[3]>>>16,i[1]&4294901760|i[2]&65535,i[0]<<16|i[0]>>>16,i[2]&4294901760|i[3]&65535,i[1]<<16|i[1]>>>16,i[3]&4294901760|i[0]&65535];this._b=0;for(var m=0;m<4;m++)s.call(this);for(var m=0;m<8;m++)b[m]^=f[m+4&7];if(a){var C=a.words,_=C[0],w=C[1],M=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,S=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,I=M>>>16|S&4294901760,x=S<<16|M&65535;b[0]^=M,b[1]^=I,b[2]^=S,b[3]^=x,b[4]^=M,b[5]^=I,b[6]^=S,b[7]^=x;for(var m=0;m<4;m++)s.call(this)}},_doProcessBlock:function(i,a){var m=this._X;s.call(this),g[0]=m[0]^m[5]>>>16^m[3]<<16,g[1]=m[2]^m[7]>>>16^m[5]<<16,g[2]=m[4]^m[1]>>>16^m[7]<<16,g[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)g[f]=(g[f]<<8|g[f]>>>24)&16711935|(g[f]<<24|g[f]>>>8)&4278255360,i[a+f]^=g[f]},blockSize:128/32,ivSize:64/32});function s(){for(var i=this._X,a=this._C,m=0;m<8;m++)y[m]=a[m];a[0]=a[0]+1295307597+this._b|0,a[1]=a[1]+3545052371+(a[0]>>>0<y[0]>>>0?1:0)|0,a[2]=a[2]+886263092+(a[1]>>>0<y[1]>>>0?1:0)|0,a[3]=a[3]+1295307597+(a[2]>>>0<y[2]>>>0?1:0)|0,a[4]=a[4]+3545052371+(a[3]>>>0<y[3]>>>0?1:0)|0,a[5]=a[5]+886263092+(a[4]>>>0<y[4]>>>0?1:0)|0,a[6]=a[6]+1295307597+(a[5]>>>0<y[5]>>>0?1:0)|0,a[7]=a[7]+3545052371+(a[6]>>>0<y[6]>>>0?1:0)|0,this._b=a[7]>>>0<y[7]>>>0?1:0;for(var m=0;m<8;m++){var f=i[m]+a[m],b=f&65535,C=f>>>16,_=((b*b>>>17)+b*C>>>15)+C*C,w=((f&4294901760)*f|0)+((f&65535)*f|0);o[m]=_^w}i[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,i[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,i[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,i[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,i[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,i[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,i[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,i[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}d.Rabbit=c._createHelper(n)}(),r.Rabbit})})(rabbit);var rabbitLegacy={exports:{}};(function(e,t){(function(r,d,u){e.exports=d(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(r){return function(){var d=r,u=d.lib,c=u.StreamCipher,v=d.algo,g=[],y=[],o=[],n=v.RabbitLegacy=c.extend({_doReset:function(){var i=this._key.words,a=this.cfg.iv,m=this._X=[i[0],i[3]<<16|i[2]>>>16,i[1],i[0]<<16|i[3]>>>16,i[2],i[1]<<16|i[0]>>>16,i[3],i[2]<<16|i[1]>>>16],f=this._C=[i[2]<<16|i[2]>>>16,i[0]&4294901760|i[1]&65535,i[3]<<16|i[3]>>>16,i[1]&4294901760|i[2]&65535,i[0]<<16|i[0]>>>16,i[2]&4294901760|i[3]&65535,i[1]<<16|i[1]>>>16,i[3]&4294901760|i[0]&65535];this._b=0;for(var b=0;b<4;b++)s.call(this);for(var b=0;b<8;b++)f[b]^=m[b+4&7];if(a){var C=a.words,_=C[0],w=C[1],M=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,S=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,I=M>>>16|S&4294901760,x=S<<16|M&65535;f[0]^=M,f[1]^=I,f[2]^=S,f[3]^=x,f[4]^=M,f[5]^=I,f[6]^=S,f[7]^=x;for(var b=0;b<4;b++)s.call(this)}},_doProcessBlock:function(i,a){var m=this._X;s.call(this),g[0]=m[0]^m[5]>>>16^m[3]<<16,g[1]=m[2]^m[7]>>>16^m[5]<<16,g[2]=m[4]^m[1]>>>16^m[7]<<16,g[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)g[f]=(g[f]<<8|g[f]>>>24)&16711935|(g[f]<<24|g[f]>>>8)&4278255360,i[a+f]^=g[f]},blockSize:128/32,ivSize:64/32});function s(){for(var i=this._X,a=this._C,m=0;m<8;m++)y[m]=a[m];a[0]=a[0]+1295307597+this._b|0,a[1]=a[1]+3545052371+(a[0]>>>0<y[0]>>>0?1:0)|0,a[2]=a[2]+886263092+(a[1]>>>0<y[1]>>>0?1:0)|0,a[3]=a[3]+1295307597+(a[2]>>>0<y[2]>>>0?1:0)|0,a[4]=a[4]+3545052371+(a[3]>>>0<y[3]>>>0?1:0)|0,a[5]=a[5]+886263092+(a[4]>>>0<y[4]>>>0?1:0)|0,a[6]=a[6]+1295307597+(a[5]>>>0<y[5]>>>0?1:0)|0,a[7]=a[7]+3545052371+(a[6]>>>0<y[6]>>>0?1:0)|0,this._b=a[7]>>>0<y[7]>>>0?1:0;for(var m=0;m<8;m++){var f=i[m]+a[m],b=f&65535,C=f>>>16,_=((b*b>>>17)+b*C>>>15)+C*C,w=((f&4294901760)*f|0)+((f&65535)*f|0);o[m]=_^w}i[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,i[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,i[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,i[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,i[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,i[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,i[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,i[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}d.RabbitLegacy=c._createHelper(n)}(),r.RabbitLegacy})})(rabbitLegacy);(function(e,t){(function(r,d,u){e.exports=d(core.exports,x64Core.exports,libTypedarrays.exports,encUtf16.exports,encBase64.exports,encBase64url.exports,md5.exports,sha1.exports,sha256.exports,sha224.exports,sha512.exports,sha384.exports,sha3.exports,ripemd160.exports,hmac.exports,pbkdf2.exports,evpkdf.exports,cipherCore.exports,modeCfb.exports,modeCtr.exports,modeCtrGladman.exports,modeOfb.exports,modeEcb.exports,padAnsix923.exports,padIso10126.exports,padIso97971.exports,padZeropadding.exports,padNopadding.exports,formatHex.exports,aes.exports,tripledes.exports,rc4.exports,rabbit.exports,rabbitLegacy.exports)})(commonjsGlobal,function(r){return r})})(cryptoJs);var zegoZimWeb={exports:{}};(function(module,exports){(function(e,t){module.exports=t()})(typeof self!="undefined"?self:commonjsGlobal,function(){return function(e){var t={};function r(d){if(t[d])return t[d].exports;var u=t[d]={i:d,l:!1,exports:{}};return e[d].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=e,r.c=t,r.d=function(d,u,c){r.o(d,u)||Object.defineProperty(d,u,{enumerable:!0,get:c})},r.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},r.t=function(d,u){if(1&u&&(d=r(d)),8&u||4&u&&typeof d=="object"&&d&&d.__esModule)return d;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:d}),2&u&&typeof d!="string")for(var v in d)r.d(c,v,function(g){return d[g]}.bind(null,v));return c},r.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return r.d(u,"a",u),u},r.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},r.p="",r(r.s=93)}([function(e,t,r){var d=r(2),u=(r.d(t,"c",function(){return d.a}),r.d(t,"e",function(){return d.b}),r.d(t,"f",function(){return d.c}),r.d(t,"h",function(){return d.d}),r.d(t,"i",function(){return d.e}),r.d(t,"k",function(){return d.f}),r.d(t,"m",function(){return d.g}),r.d(t,"q",function(){return d.h}),r.d(t,"s",function(){return d.i}),r.d(t,"u",function(){return d.j}),r.d(t,"x",function(){return d.k}),r.d(t,"y",function(){return d.l}),r.d(t,"z",function(){return d.m}),r.d(t,"C",function(){return d.n}),r.d(t,"D",function(){return d.o}),r.d(t,"E",function(){return d.p}),r.d(t,"F",function(){return d.q}),r.d(t,"H",function(){return d.r}),r.d(t,"J",function(){return d.s}),r.d(t,"L",function(){return d.t}),r.d(t,"M",function(){return d.u}),r.d(t,"N",function(){return d.v}),r.d(t,"O",function(){return d.w}),r(34)),c=(r.d(t,"b",function(){return u.a}),r.d(t,"j",function(){return u.b}),r.d(t,"o",function(){return u.c}),r.d(t,"p",function(){return u.d}),r.d(t,"r",function(){return u.e}),r.d(t,"t",function(){return u.f}),r.d(t,"v",function(){return u.g}),r.d(t,"w",function(){return u.h}),r.d(t,"G",function(){return u.i}),r.d(t,"I",function(){return u.j}),r(35)),v=(r.d(t,"a",function(){return c.a}),r.d(t,"d",function(){return c.b}),r.d(t,"K",function(){return c.c}),r(36)),g=(r.d(t,"g",function(){return v.a}),r.d(t,"n",function(){return v.b}),r.d(t,"P",function(){return v.c}),r(37)),y=(r.d(t,"l",function(){return g.a}),r(38));r.d(t,"A",function(){return y.a}),r.d(t,"B",function(){return y.b})},function(e,t,r){var d=r(26),u=(r.d(t,"j",function(){return d.a}),r.d(t,"l",function(){return d.b}),r(16)),c=(r.d(t,"o",function(){return u.a}),r.d(t,"p",function(){return u.b}),r(39));r.d(t,"a",function(){return c.a}),r.d(t,"b",function(){return c.b}),r.d(t,"c",function(){return c.c}),r.d(t,"d",function(){return c.d}),r.d(t,"e",function(){return c.e}),r.d(t,"f",function(){return c.f}),r.d(t,"g",function(){return c.g}),r.d(t,"h",function(){return c.h}),r.d(t,"i",function(){return c.i}),r.d(t,"k",function(){return c.j}),r.d(t,"m",function(){return c.k}),r.d(t,"n",function(){return c.l})},function(e,t,r){var d=r(27),u=(r.d(t,"g",function(){return d.a}),r(28)),c=(r.d(t,"b",function(){return u.a}),r.d(t,"c",function(){return u.b}),r.d(t,"o",function(){return u.c}),r(29)),v=(r.d(t,"a",function(){return c.a}),r(30)),g=(r.d(t,"d",function(){return v.a}),r.d(t,"e",function(){return v.b}),r.d(t,"f",function(){return v.c}),r.d(t,"n",function(){return v.d}),r.d(t,"p",function(){return v.e}),r.d(t,"q",function(){return v.f}),r.d(t,"r",function(){return v.g}),r.d(t,"s",function(){return v.h}),r.d(t,"t",function(){return v.i}),r(31)),y=(r.d(t,"h",function(){return g.a}),r.d(t,"i",function(){return g.b}),r.d(t,"j",function(){return g.c}),r.d(t,"k",function(){return g.d}),r.d(t,"l",function(){return g.e}),r.d(t,"m",function(){return g.f}),r(32));r.d(t,"u",function(){return y.a}),r.d(t,"v",function(){return y.b}),r.d(t,"w",function(){return y.c}),r(33)},function(e,t,r){r.d(t,"a",function(){return n});var d=r(52),u=r(60),c=r(62),v=r(78),g=r(82),y=r(83),o=r(0),n=(s.getInstance=function(){return this.instance||(this.instance=new s)},s.prototype.getVersion=function(){return"2.5.0"},s.prototype.createEngine=function(i){var a,m=this.handle;return this.enginMap.get(m)?(this.logger.info([o.B.Manager],o.A.CreateEngine,{appID:i,msg:"had created"}),null):(a=new c.a(m,i),this.enginMap.set(m,a),this.logger.info([o.B.Manager],o.A.CreateEngine,{appID:i,msg:"first create"}),a)},s.prototype.destroyEngine=function(i){this.logger.info([o.B.Manager],o.A.DestroyEngine),i&&(this.enginMap.delete(i.handle),i.destroy())},s.prototype.setLogConfig=function(i){this.logger.info([o.B.Manager],o.A.SetLogConfig,i),this.logger.setLogConfig(Object.assign({logLevel:"info"},i))},s.prototype.setAdvancedConfig=function(i,a){this.settings.advancedConfig.set(i,a)},s);function s(){if(this.handle=Symbol(),this.enginMap=new Map,s.instance)return s.instance;this.crypto=new d.a,this.protobuf=new u.a(this.crypto),this.logger=new v.a(this.getVersion()),this.settings=new g.a(this.getVersion()),this.dataReport=new y.a(this.settings),s.instance=this}},function(e,t){e.exports=d;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function d(D,R,q){this.low=0|D,this.high=0|R,this.unsigned=!!q}function u(D){return(D&&D.__isLong__)===!0}Object.defineProperty(d.prototype,"__isLong__",{value:!0}),d.isLong=u;var c={},v={};function g(D,R){var q,A,j;return R?(j=0<=(D>>>=0)&&D<256)&&(A=v[D])?A:(q=o(D,(0|D)<0?-1:0,!0),j&&(v[D]=q),q):(j=-128<=(D|=0)&&D<128)&&(A=c[D])?A:(q=o(D,D<0?-1:0,!1),j&&(c[D]=q),q)}function y(D,R){if(isNaN(D))return R?_:C;if(R){if(D<0)return _;if(m<=D)return x}else{if(D<=-f)return E;if(f<=D+1)return I}return D<0?y(-D,R).neg():o(D%a|0,D/a|0,R)}function o(D,R,q){return new d(D,R,q)}d.fromInt=g,d.fromNumber=y,d.fromBits=o;var n=Math.pow;function s(D,R,q){if(D.length===0)throw Error("empty string");if(D==="NaN"||D==="Infinity"||D==="+Infinity"||D==="-Infinity")return C;if(R=typeof R=="number"?(q=R,!1):!!R,(q=q||10)<2||36<q)throw RangeError("radix");var A;if(0<(A=D.indexOf("-")))throw Error("interior hyphen");if(A===0)return s(D.substring(1),R,q).neg();for(var j=y(n(q,8)),H=C,W=0;W<D.length;W+=8){var X=Math.min(8,D.length-W),ee=parseInt(D.substring(W,W+X),q);H=X<8?(X=y(n(q,X)),H.mul(X).add(y(ee))):(H=H.mul(j)).add(y(ee))}return H.unsigned=R,H}function i(D,R){return typeof D=="number"?y(D,R):typeof D=="string"?s(D,R):o(D.low,D.high,typeof R=="boolean"?R:D.unsigned)}d.fromString=s,d.fromValue=i;var a=4294967296,m=a*a,f=m/2,b=g(1<<24),C=g(0),_=(d.ZERO=C,g(0,!0)),w=(d.UZERO=_,g(1)),M=(d.ONE=w,g(1,!0)),S=(d.UONE=M,g(-1)),I=(d.NEG_ONE=S,o(-1,2147483647,!1)),x=(d.MAX_VALUE=I,o(-1,-1,!0)),E=(d.MAX_UNSIGNED_VALUE=x,o(0,-2147483648,!1));(e=(d.MIN_VALUE=E,d.prototype)).toInt=function(){return this.unsigned?this.low>>>0:this.low},e.toNumber=function(){return this.unsigned?(this.high>>>0)*a+(this.low>>>0):this.high*a+(this.low>>>0)},e.toString=function(D){if((D=D||10)<2||36<D)throw RangeError("radix");if(this.isZero())return"0";var R,q;if(this.isNegative())return this.eq(E)?(q=y(D),q=(R=this.div(q)).mul(q).sub(this),R.toString(D)+q.toInt().toString(D)):"-"+this.neg().toString(D);for(var A=y(n(D,6),this.unsigned),j=this,H="";;){var W=j.div(A),X=(j.sub(W.mul(A)).toInt()>>>0).toString(D);if((j=W).isZero())return X+H;for(;X.length<6;)X="0"+X;H=""+X+H}},e.getHighBits=function(){return this.high},e.getHighBitsUnsigned=function(){return this.high>>>0},e.getLowBits=function(){return this.low},e.getLowBitsUnsigned=function(){return this.low>>>0},e.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var D=this.high!=0?this.high:this.low,R=31;0<R&&(D&1<<R)==0;R--);return this.high!=0?R+33:R+1},e.isZero=function(){return this.high===0&&this.low===0},e.eqz=e.isZero,e.isNegative=function(){return!this.unsigned&&this.high<0},e.isPositive=function(){return this.unsigned||0<=this.high},e.isOdd=function(){return(1&this.low)==1},e.isEven=function(){return(1&this.low)==0},e.equals=function(D){return u(D)||(D=i(D)),(this.unsigned===D.unsigned||this.high>>>31!=1||D.high>>>31!=1)&&this.high===D.high&&this.low===D.low},e.eq=e.equals,e.notEquals=function(D){return!this.eq(D)},e.neq=e.notEquals,e.ne=e.notEquals,e.lessThan=function(D){return this.comp(D)<0},e.lt=e.lessThan,e.lessThanOrEqual=function(D){return this.comp(D)<=0},e.lte=e.lessThanOrEqual,e.le=e.lessThanOrEqual,e.greaterThan=function(D){return 0<this.comp(D)},e.gt=e.greaterThan,e.greaterThanOrEqual=function(D){return 0<=this.comp(D)},e.gte=e.greaterThanOrEqual,e.ge=e.greaterThanOrEqual,e.compare=function(D){if(u(D)||(D=i(D)),this.eq(D))return 0;var R=this.isNegative(),q=D.isNegative();return R&&!q?-1:!R&&q?1:this.unsigned?D.high>>>0>this.high>>>0||D.high===this.high&&D.low>>>0>this.low>>>0?-1:1:this.sub(D).isNegative()?-1:1},e.comp=e.compare,e.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(w)},e.neg=e.negate,e.add=function(D){u(D)||(D=i(D));var R=this.high>>>16,q=65535&this.high,A=this.low>>>16,j=65535&this.low,H=D.high>>>16,W=65535&D.high,X=D.low>>>16,ee=0,ae=0,N=0,k=0;return ae+=(N=N+((k+=j+(65535&D.low))>>>16)+(A+X))>>>16,o((N&=65535)<<16|(k&=65535),((ee+=(ae+=q+W)>>>16)+(R+H)&65535)<<16|(ae&=65535),this.unsigned)},e.subtract=function(D){return u(D)||(D=i(D)),this.add(D.neg())},e.sub=e.subtract,e.multiply=function(D){if(this.isZero())return C;if(u(D)||(D=i(D)),r)return o(r.mul(this.low,this.high,D.low,D.high),r.get_high(),this.unsigned);if(D.isZero())return C;if(this.eq(E))return D.isOdd()?E:C;if(D.eq(E))return this.isOdd()?E:C;if(this.isNegative())return D.isNegative()?this.neg().mul(D.neg()):this.neg().mul(D).neg();if(D.isNegative())return this.mul(D.neg()).neg();if(this.lt(b)&&D.lt(b))return y(this.toNumber()*D.toNumber(),this.unsigned);var R=this.high>>>16,q=65535&this.high,A=this.low>>>16,j=65535&this.low,H=D.high>>>16,W=65535&D.high,X=D.low>>>16,ee=0,ae=0,N=0,k=(k=0)+((ae=ae+((N+=j*(D=65535&D.low))>>>16)+A*D)>>>16)+((ae=(65535&ae)+j*X)>>>16);return o((ae&=65535)<<16|(N&=65535),((ee+=(k+=q*D)>>>16)+((k=(65535&k)+A*X)>>>16)+((k=(65535&k)+j*W)>>>16)+(R*D+q*X+A*W+j*H)&65535)<<16|(k&=65535),this.unsigned)},e.mul=e.multiply,e.divide=function(D){if((D=u(D)?D:i(D)).isZero())throw Error("division by zero");var R,q,A;if(r)return this.unsigned||this.high!==-2147483648||D.low!==-1||D.high!==-1?o((this.unsigned?r.div_u:r.div_s)(this.low,this.high,D.low,D.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_:C;if(this.unsigned){if((D=D.unsigned?D:D.toUnsigned()).gt(this))return _;if(D.gt(this.shru(1)))return M;q=_}else{if(this.eq(E))return D.eq(w)||D.eq(S)?E:D.eq(E)?w:(A=this.shr(1).div(D).shl(1)).eq(C)?D.isNegative()?w:S:(R=this.sub(D.mul(A)),A.add(R.div(D)));if(D.eq(E))return this.unsigned?_:C;if(this.isNegative())return D.isNegative()?this.neg().div(D.neg()):this.neg().div(D).neg();if(D.isNegative())return this.div(D.neg()).neg();q=C}for(R=this;R.gte(D);){A=Math.max(1,Math.floor(R.toNumber()/D.toNumber()));for(var j=Math.ceil(Math.log(A)/Math.LN2),H=j<=48?1:n(2,j-48),W=y(A),X=W.mul(D);X.isNegative()||X.gt(R);)X=(W=y(A-=H,this.unsigned)).mul(D);W.isZero()&&(W=w),q=q.add(W),R=R.sub(X)}return q},e.div=e.divide,e.modulo=function(D){return u(D)||(D=i(D)),r?o((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,D.low,D.high),r.get_high(),this.unsigned):this.sub(this.div(D).mul(D))},e.mod=e.modulo,e.rem=e.modulo,e.not=function(){return o(~this.low,~this.high,this.unsigned)},e.and=function(D){return u(D)||(D=i(D)),o(this.low&D.low,this.high&D.high,this.unsigned)},e.or=function(D){return u(D)||(D=i(D)),o(this.low|D.low,this.high|D.high,this.unsigned)},e.xor=function(D){return u(D)||(D=i(D)),o(this.low^D.low,this.high^D.high,this.unsigned)},e.shiftLeft=function(D){return u(D)&&(D=D.toInt()),(D&=63)==0?this:D<32?o(this.low<<D,this.high<<D|this.low>>>32-D,this.unsigned):o(0,this.low<<D-32,this.unsigned)},e.shl=e.shiftLeft,e.shiftRight=function(D){return u(D)&&(D=D.toInt()),(D&=63)==0?this:D<32?o(this.low>>>D|this.high<<32-D,this.high>>D,this.unsigned):o(this.high>>D-32,0<=this.high?0:-1,this.unsigned)},e.shr=e.shiftRight,e.shiftRightUnsigned=function(D){var R;return u(D)&&(D=D.toInt()),(D&=63)==0?this:(R=this.high,D<32?o(this.low>>>D|R<<32-D,R>>>D,this.unsigned):o(D===32?R:R>>>D-32,0,this.unsigned))},e.shru=e.shiftRightUnsigned,e.shr_u=e.shiftRightUnsigned,e.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},e.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},e.toBytes=function(D){return D?this.toBytesLE():this.toBytesBE()},e.toBytesLE=function(){var D=this.high,R=this.low;return[255&R,R>>>8&255,R>>>16&255,R>>>24,255&D,D>>>8&255,D>>>16&255,D>>>24]},e.toBytesBE=function(){var D=this.high,R=this.low;return[D>>>24,D>>>16&255,D>>>8&255,255&D,R>>>24,R>>>16&255,R>>>8&255,255&R]},d.fromBytes=function(D,R,q){return q?d.fromBytesLE(D,R):d.fromBytesBE(D,R)},d.fromBytesLE=function(D,R){return new d(D[0]|D[1]<<8|D[2]<<16|D[3]<<24,D[4]|D[5]<<8|D[6]<<16|D[7]<<24,R)},d.fromBytesBE=function(D,R){return new d(D[4]<<24|D[5]<<16|D[6]<<8|D[7],D[0]<<24|D[1]<<16|D[2]<<8|D[3],R)}},function(e,t,r){r.d(t,"c",function(){return v}),r.d(t,"a",function(){return g}),r.d(t,"b",function(){return y}),r.d(t,"h",function(){return o}),r.d(t,"i",function(){return d}),r.d(t,"d",function(){return u}),r.d(t,"k",function(){return n}),r.d(t,"f",function(){return s}),r.d(t,"j",function(){return a}),r.d(t,"g",function(){return m}),r.d(t,"e",function(){return C});var d,u,c,v={importantLevel:0,reportSize:2e3,reportNum:20,bps:16e3,netTimeout:3},g={bucketSize:1e4,tokensPerInterval:1600},y={totalAvailCache:102400,cacheMaxSize:2e4,cacheDelPer:.2},o={totalDBSize:1024e3,storeDelPer:.2},n=((r=d=d||{})[r.IE=0]="IE",r[r.FIREFOX=1]="FIREFOX",r[r.CHROME=2]="CHROME",r[r.SAFARI=3]="SAFARI",r[r.OPERA=4]="OPERA",r[r.WEIXIN=5]="WEIXIN",r[r.WEIXINMINI=6]="WEIXINMINI",r[r.UNKOWN=7]="UNKOWN",(t=u=u||{})[t.DISABLE=0]="DISABLE",t[t.WEBSOCKET=1]="WEBSOCKET",t[t.HTTPS=2]="HTTPS",c=1,function(){return c++}),s=(i.prototype.isEmpty=function(){return this.items.length==0},i.prototype.enqueue=function(w){this.items.push(w)},i.prototype.dequeue=function(){return this.isEmpty()?"Underflow":this.items.shift()},i.prototype.front=function(){return this.isEmpty()?"No elements in Queue":this.items[0]},i.prototype.size=function(){return this.items.length},i.prototype.clear=function(){this.items=[]},i);function i(){this.items=[],this.items=[]}var a={TIMEOUT:{code:100001,msg:"network timeout"},DATAEXIST:{code:100002,msg:"data exist"}},m=-1,f=(Object.defineProperty(b.prototype,"id",{get:function(){return this._id||null},set:function(w){this._id=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"data",{get:function(){return this._data},set:function(w){this._data=w},enumerable:!1,configurable:!0}),b.prototype.hasNext=function(){return this.next&&this.next.id},b.prototype.hasPrev=function(){return this.prev&&this.prev.id},b);function b(w,M){w===void 0&&(w=null),M===void 0&&(M=null),this.next=null,this.prev=null,this._id=w,this._data=M}_.prototype.insertBefore=function(w,M){return(M=new f(this._idCounter,M)).next=w,M.prev=w.prev,w.prev&&(w.prev.next=M),w.prev=M,++this._idCounter,++this._numNodes,M},_.prototype.addLast=function(w){return this.insertBefore(this.end,w)},_.prototype.add=function(w){return this.addLast(w)},_.prototype.getFirst=function(){return this._numNodes===0?null:this.start.next},_.prototype.getLast=function(){return this._numNodes===0?null:this.end.prev},_.prototype.size=function(){return this._numNodes},_.prototype.getFromFirst=function(w){var M=0,S=this.start.next;if(0<=w)for(;M<w&&S!==null;)S=S.next,++M;else S=null;if(S===null)throw"Index out of bounds.";return S},_.prototype.get=function(w){return w===0?this.getFirst():w===this._numNodes-1?this.getLast():this.getFromFirst(w)},_.prototype.remove=function(w){return w.prev&&(w.prev.next=w.next),w.next&&(w.next.prev=w.prev),--this._numNodes,w},_.prototype.removeFirst=function(){var w=null;return 0<this._numNodes&&this.start.next?this.remove(this.start.next):w},_.prototype.removeLast=function(){var w=null;return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):w},_.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},_.prototype.each=function(w){for(var M=this.start;M.hasNext();)w(M=M.next)},_.prototype.find=function(w){for(var M=this.start,S=!1,I=null;M.hasNext()&&!S;)w(M=M.next)&&(I=M,S=!0);return I},_.prototype.map=function(w){for(var M=this.start,S=[];M.hasNext();)w(M=M.next)&&S.push(M);return S},_.prototype.push=function(w){return this.addLast(w)},_.prototype.unshift=function(w){0<this._numNodes?this.insertBefore(this.start.next,w):this.insertBefore(this.end,w)},_.prototype.pop=function(){return this.removeLast()},_.prototype.shift=function(){return this.removeFirst()};var C=_;function _(){this.start=new f,this.end=new f,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}},function(e,t,r){r.d(t,"a",function(){return u}),r.d(t,"b",function(){return c}),t=r(91);var d=r.n(t);function u(v){return v=v.split("_"),{level:Number(v[0]),timestamp:v[1],seq:v[2]}}function c(v){return d()(v)}r(5)},function(e,t,r){(function(d){e.exports=function(u){var c;if(typeof window!="undefined"&&window.crypto&&(c=window.crypto),typeof self!="undefined"&&self.crypto&&(c=self.crypto),!(c=!(c=!(c=typeof globalThis!="undefined"&&globalThis.crypto?globalThis.crypto:c)&&typeof window!="undefined"&&window.msCrypto?window.msCrypto:c)&&d!==void 0&&d.crypto?d.crypto:c))try{c=r(94)}catch{}var v=Object.create||function(_){return g.prototype=_,_=new g,g.prototype=null,_};function g(){}var y={},o=y.lib={},n=o.Base={extend:function(_){var w=v(this);return _&&w.mixIn(_),w.hasOwnProperty("init")&&this.init!==w.init||(w.init=function(){w.$super.init.apply(this,arguments)}),(w.init.prototype=w).$super=this,w},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var w in _)_.hasOwnProperty(w)&&(this[w]=_[w]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=n.extend({init:function(_,w){_=this.words=_||[],this.sigBytes=w!=null?w:4*_.length},toString:function(_){return(_||a).stringify(this)},concat:function(_){var w=this.words,M=_.words,S=this.sigBytes,I=_.sigBytes;if(this.clamp(),S%4)for(var x=0;x<I;x++){var E=M[x>>>2]>>>24-x%4*8&255;w[S+x>>>2]|=E<<24-(S+x)%4*8}else for(var D=0;D<I;D+=4)w[S+D>>>2]=M[D>>>2];return this.sigBytes+=I,this},clamp:function(){var _=this.words,w=this.sigBytes;_[w>>>2]&=4294967295<<32-w%4*8,_.length=u.ceil(w/4)},clone:function(){var _=n.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var w=[],M=0;M<_;M+=4)w.push(function(){if(c){if(typeof c.getRandomValues=="function")try{return c.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof c.randomBytes=="function")try{return c.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new s.init(w,_)}}),i=y.enc={},a=i.Hex={stringify:function(_){for(var w=_.words,M=_.sigBytes,S=[],I=0;I<M;I++){var x=w[I>>>2]>>>24-I%4*8&255;S.push((x>>>4).toString(16)),S.push((15&x).toString(16))}return S.join("")},parse:function(_){for(var w=_.length,M=[],S=0;S<w;S+=2)M[S>>>3]|=parseInt(_.substr(S,2),16)<<24-S%8*4;return new s.init(M,w/2)}},m=i.Latin1={stringify:function(_){for(var w=_.words,M=_.sigBytes,S=[],I=0;I<M;I++){var x=w[I>>>2]>>>24-I%4*8&255;S.push(String.fromCharCode(x))}return S.join("")},parse:function(_){for(var w=_.length,M=[],S=0;S<w;S++)M[S>>>2]|=(255&_.charCodeAt(S))<<24-S%4*8;return new s.init(M,w)}},f=i.Utf8={stringify:function(_){try{return decodeURIComponent(escape(m.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return m.parse(unescape(encodeURIComponent(_)))}},b=o.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=f.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var w,M=this._data,S=M.words,I=M.sigBytes,x=this.blockSize,E=I/(4*x),D=(E=_?u.ceil(E):u.max((0|E)-this._minBufferSize,0))*x;if(_=u.min(4*D,I),D){for(var R=0;R<D;R+=x)this._doProcessBlock(S,R);w=S.splice(0,D),M.sigBytes-=_}return new s.init(w,_)},clone:function(){var _=n.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0}),C=(o.Hasher=b.extend({cfg:n.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){return _&&this._append(_),this._doFinalize()},blockSize:16,_createHelper:function(_){return function(w,M){return new _.init(M).finalize(w)}},_createHmacHelper:function(_){return function(w,M){return new C.HMAC.init(_,M).finalize(w)}}}),y.algo={});return y}(Math)}).call(this,r(11))},function(e,t,r){r.d(t,"b",function(){return u}),r.d(t,"c",function(){return c}),r.d(t,"a",function(){return v}),r.d(t,"d",function(){return g});var d,u={maxSize:5242880,maxFiles:3,dropPer:1},c={maxSize:2097152,maxFiles:3,dropPer:1},v={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},g=function(){return d++};d=1},function(e,t,r){r.d(t,"a",function(){return N}),r=typeof atob=="function",t=typeof btoa=="function";var d=typeof Buffer=="function";const u=typeof TextDecoder=="function"?new TextDecoder:void 0,c=typeof TextEncoder=="function"?new TextEncoder:void 0,v=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),g=(k=>{let L={};return k.forEach(($,B)=>L[$]=B),L})(v),y=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,o=String.fromCharCode.bind(String),n=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(k,L=$=>$)=>new Uint8Array(Array.prototype.slice.call(k,0).map(L)),s=k=>k.replace(/=/g,"").replace(/[+\/]/g,L=>L=="+"?"-":"_"),i=k=>k.replace(/[^A-Za-z0-9\+\/]/g,"");var a=k=>{let L,$,B,G,Z="";var re=k.length%3;for(let z=0;z<k.length;){if(255<($=k.charCodeAt(z++))||255<(B=k.charCodeAt(z++))||255<(G=k.charCodeAt(z++)))throw new TypeError("invalid character found");L=$<<16|B<<8|G,Z+=v[L>>18&63]+v[L>>12&63]+v[L>>6&63]+v[63&L]}return re?Z.slice(0,re-3)+"===".substring(re):Z};const m=t?k=>btoa(k):d?k=>Buffer.from(k,"binary").toString("base64"):a,f=d?k=>Buffer.from(k).toString("base64"):k=>{let L=[];for(let $=0,B=k.length;$<B;$+=4096)L.push(o.apply(null,k.subarray($,$+4096)));return m(L.join(""))},b=(k,L=!1)=>L?s(f(k)):f(k),C=k=>{var L;return k.length<2?(L=k.charCodeAt(0))<128?k:L<2048?o(192|L>>>6)+o(128|63&L):o(224|L>>>12&15)+o(128|L>>>6&63)+o(128|63&L):(L=65536+1024*(k.charCodeAt(0)-55296)+(k.charCodeAt(1)-56320),o(240|L>>>18&7)+o(128|L>>>12&63)+o(128|L>>>6&63)+o(128|63&L))},_=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,w=k=>k.replace(_,C),M=d?k=>Buffer.from(k,"utf8").toString("base64"):c?k=>f(c.encode(k)):k=>m(w(k)),S=(k,L=!1)=>L?s(M(k)):M(k);t=k=>S(k,!0);const I=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,x=k=>{switch(k.length){case 4:var L=((7&k.charCodeAt(0))<<18|(63&k.charCodeAt(1))<<12|(63&k.charCodeAt(2))<<6|63&k.charCodeAt(3))-65536;return o(55296+(L>>>10))+o(56320+(1023&L));case 3:return o((15&k.charCodeAt(0))<<12|(63&k.charCodeAt(1))<<6|63&k.charCodeAt(2));default:return o((31&k.charCodeAt(0))<<6|63&k.charCodeAt(1))}},E=k=>k.replace(I,x);var D=k=>{if(k=k.replace(/\s+/g,""),!y.test(k))throw new TypeError("malformed base64.");k+="==".slice(2-(3&k.length));let L,$,B,G="";for(let Z=0;Z<k.length;)L=g[k.charAt(Z++)]<<18|g[k.charAt(Z++)]<<12|($=g[k.charAt(Z++)])<<6|(B=g[k.charAt(Z++)]),G+=$===64?o(L>>16&255):B===64?o(L>>16&255,L>>8&255):o(L>>16&255,L>>8&255,255&L);return G};const R=r?k=>atob(i(k)):d?k=>Buffer.from(k,"base64").toString("binary"):D,q=d?k=>n(Buffer.from(k,"base64")):k=>n(R(k),L=>L.charCodeAt(0)),A=k=>q(H(k)),j=d?k=>Buffer.from(k,"base64").toString("utf8"):u?k=>u.decode(q(k)):k=>E(R(k)),H=k=>i(k.replace(/[-_]/g,L=>L=="-"?"+":"/")),W=k=>j(H(k));function X(){var k=(L,$)=>Object.defineProperty(String.prototype,L,ae($));k("fromBase64",function(){return W(this)}),k("toBase64",function(L){return S(this,L)}),k("toBase64URI",function(){return S(this,!0)}),k("toBase64URL",function(){return S(this,!0)}),k("toUint8Array",function(){return A(this)})}function ee(){var k=(L,$)=>Object.defineProperty(Uint8Array.prototype,L,ae($));k("toBase64",function(L){return b(this,L)}),k("toBase64URI",function(){return b(this,!0)}),k("toBase64URL",function(){return b(this,!0)})}const ae=k=>({value:k,enumerable:!1,writable:!0,configurable:!0}),N={version:"3.7.2",VERSION:"3.7.2",atob:R,atobPolyfill:D,btoa:m,btoaPolyfill:a,fromBase64:W,toBase64:S,encode:S,encodeURI:t,encodeURL:t,utob:w,btou:E,decode:W,isValid:k=>typeof k=="string"&&(k=k.replace(/\s+/g,"").replace(/={0,2}$/,""),!/[^\s0-9a-zA-Z\+/]/.test(k)||!/[^\s0-9a-zA-Z\-_]/.test(k)),fromUint8Array:b,toUint8Array:A,extendString:X,extendUint8Array:ee,extendBuiltins:()=>{X(),ee()}}},function(e,t,r){e.exports=r(99)},function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}e.exports=r},function(e,t,r){(function(d){var u=t;function c(g,y,o){for(var n=Object.keys(y),s=0;s<n.length;++s)g[n[s]]!==void 0&&o||(g[n[s]]=y[n[s]]);return g}function v(g){function y(o,n){if(!(this instanceof y))return new y(o,n);Object.defineProperty(this,"message",{get:function(){return o}}),Error.captureStackTrace?Error.captureStackTrace(this,y):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&c(this,n)}return(y.prototype=Object.create(Error.prototype)).constructor=y,Object.defineProperty(y.prototype,"name",{get:function(){return g}}),y.prototype.toString=function(){return this.name+": "+this.message},y}u.asPromise=r(100),u.base64=r(101),u.EventEmitter=r(102),u.float=r(103),u.inquire=r(104),u.utf8=r(105),u.pool=r(106),u.LongBits=r(107),u.isNode=Boolean(d!==void 0&&d&&d.process&&d.process.versions&&d.process.versions.node),u.global=u.isNode&&d||typeof window!="undefined"&&window||typeof self!="undefined"&&self||this,u.emptyArray=Object.freeze?Object.freeze([]):[],u.emptyObject=Object.freeze?Object.freeze({}):{},u.isInteger=Number.isInteger||function(g){return typeof g=="number"&&isFinite(g)&&Math.floor(g)===g},u.isString=function(g){return typeof g=="string"||g instanceof String},u.isObject=function(g){return g&&typeof g=="object"},u.isset=u.isSet=function(g,y){var o=g[y];return!(o==null||!g.hasOwnProperty(y))&&(typeof o!="object"||0<(Array.isArray(o)?o:Object.keys(o)).length)},u.Buffer=function(){try{var g=u.inquire("buffer").Buffer;return g.prototype.utf8Write?g:null}catch{return null}}(),u._Buffer_from=null,u._Buffer_allocUnsafe=null,u.newBuffer=function(g){return typeof g=="number"?u.Buffer?u._Buffer_allocUnsafe(g):new u.Array(g):u.Buffer?u._Buffer_from(g):typeof Uint8Array=="undefined"?g:new Uint8Array(g)},u.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,u.Long=u.global.dcodeIO&&u.global.dcodeIO.Long||u.global.Long||u.inquire("long"),u.key2Re=/^true|false|0|1$/,u.key32Re=/^-?(?:0|[1-9][0-9]*)$/,u.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,u.longToHash=function(g){return g?u.LongBits.from(g).toHash():u.LongBits.zeroHash},u.longFromHash=function(g,y){return g=u.LongBits.fromHash(g),u.Long?u.Long.fromBits(g.lo,g.hi,y):g.toNumber(Boolean(y))},u.merge=c,u.lcFirst=function(g){return g.charAt(0).toLowerCase()+g.substring(1)},u.newError=v,u.ProtocolError=v("ProtocolError"),u.oneOfGetter=function(g){for(var y={},o=0;o<g.length;++o)y[g[o]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;-1<s;--s)if(y[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}},u.oneOfSetter=function(g){return function(y){for(var o=0;o<g.length;++o)g[o]!==y&&delete this[g[o]]}},u.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},u._configure=function(){var g=u.Buffer;g?(u._Buffer_from=g.from!==Uint8Array.from&&g.from||function(y,o){return new g(y,o)},u._Buffer_allocUnsafe=g.allocUnsafe||function(y){return new g(y)}):u._Buffer_from=u._Buffer_allocUnsafe=null}}).call(this,r(11))},function(e,t,r){e.exports=function(d){for(var u=Math,c=d,v=c.lib,g=v.WordArray,y=v.Hasher,o=c.algo,n=[],s=0;s<64;s++)n[s]=4294967296*u.abs(u.sin(s+1))|0;var i=o.MD5=y.extend({_doReset:function(){this._hash=new g.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(C,_){for(var w=0;w<16;w++){var M=_+w,S=C[M];C[M]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8)}var I=this._hash.words,x=C[_+0],E=C[_+1],D=C[_+2],R=C[_+3],q=C[_+4],A=C[_+5],j=C[_+6],H=C[_+7],W=C[_+8],X=C[_+9],ee=C[_+10],ae=C[_+11],N=C[_+12],k=C[_+13],L=C[_+14],$=C[_+15],B=I[0],G=I[1],Z=I[2],re=I[3];B=a(B,G,Z,re,x,7,n[0]),re=a(re,B,G,Z,E,12,n[1]),Z=a(Z,re,B,G,D,17,n[2]),G=a(G,Z,re,B,R,22,n[3]),B=a(B,G,Z,re,q,7,n[4]),re=a(re,B,G,Z,A,12,n[5]),Z=a(Z,re,B,G,j,17,n[6]),G=a(G,Z,re,B,H,22,n[7]),B=a(B,G,Z,re,W,7,n[8]),re=a(re,B,G,Z,X,12,n[9]),Z=a(Z,re,B,G,ee,17,n[10]),G=a(G,Z,re,B,ae,22,n[11]),B=a(B,G,Z,re,N,7,n[12]),re=a(re,B,G,Z,k,12,n[13]),Z=a(Z,re,B,G,L,17,n[14]),B=m(B,G=a(G,Z,re,B,$,22,n[15]),Z,re,E,5,n[16]),re=m(re,B,G,Z,j,9,n[17]),Z=m(Z,re,B,G,ae,14,n[18]),G=m(G,Z,re,B,x,20,n[19]),B=m(B,G,Z,re,A,5,n[20]),re=m(re,B,G,Z,ee,9,n[21]),Z=m(Z,re,B,G,$,14,n[22]),G=m(G,Z,re,B,q,20,n[23]),B=m(B,G,Z,re,X,5,n[24]),re=m(re,B,G,Z,L,9,n[25]),Z=m(Z,re,B,G,R,14,n[26]),G=m(G,Z,re,B,W,20,n[27]),B=m(B,G,Z,re,k,5,n[28]),re=m(re,B,G,Z,D,9,n[29]),Z=m(Z,re,B,G,H,14,n[30]),B=f(B,G=m(G,Z,re,B,N,20,n[31]),Z,re,A,4,n[32]),re=f(re,B,G,Z,W,11,n[33]),Z=f(Z,re,B,G,ae,16,n[34]),G=f(G,Z,re,B,L,23,n[35]),B=f(B,G,Z,re,E,4,n[36]),re=f(re,B,G,Z,q,11,n[37]),Z=f(Z,re,B,G,H,16,n[38]),G=f(G,Z,re,B,ee,23,n[39]),B=f(B,G,Z,re,k,4,n[40]),re=f(re,B,G,Z,x,11,n[41]),Z=f(Z,re,B,G,R,16,n[42]),G=f(G,Z,re,B,j,23,n[43]),B=f(B,G,Z,re,X,4,n[44]),re=f(re,B,G,Z,N,11,n[45]),Z=f(Z,re,B,G,$,16,n[46]),B=b(B,G=f(G,Z,re,B,D,23,n[47]),Z,re,x,6,n[48]),re=b(re,B,G,Z,H,10,n[49]),Z=b(Z,re,B,G,L,15,n[50]),G=b(G,Z,re,B,A,21,n[51]),B=b(B,G,Z,re,N,6,n[52]),re=b(re,B,G,Z,R,10,n[53]),Z=b(Z,re,B,G,ee,15,n[54]),G=b(G,Z,re,B,E,21,n[55]),B=b(B,G,Z,re,W,6,n[56]),re=b(re,B,G,Z,$,10,n[57]),Z=b(Z,re,B,G,j,15,n[58]),G=b(G,Z,re,B,k,21,n[59]),B=b(B,G,Z,re,q,6,n[60]),re=b(re,B,G,Z,ae,10,n[61]),Z=b(Z,re,B,G,D,15,n[62]),G=b(G,Z,re,B,X,21,n[63]),I[0]=I[0]+B|0,I[1]=I[1]+G|0,I[2]=I[2]+Z|0,I[3]=I[3]+re|0},_doFinalize:function(){var C=this._data,_=C.words,w=8*this._nDataBytes,M=8*C.sigBytes;_[M>>>5]|=128<<24-M%32;var S=u.floor(w/4294967296),I=w;_[15+(M+64>>>9<<4)]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8),_[14+(M+64>>>9<<4)]=16711935&(I<<8|I>>>24)|4278255360&(I<<24|I>>>8),C.sigBytes=4*(_.length+1),this._process();for(var x=this._hash,E=x.words,D=0;D<4;D++){var R=E[D];E[D]=16711935&(R<<8|R>>>24)|4278255360&(R<<24|R>>>8)}return x},clone:function(){var C=y.clone.call(this);return C._hash=this._hash.clone(),C}});function a(C,_,w,M,S,I,x){var E=C+(_&w|~_&M)+S+x;return(E<<I|E>>>32-I)+_}function m(C,_,w,M,S,I,x){var E=C+(_&M|w&~M)+S+x;return(E<<I|E>>>32-I)+_}function f(C,_,w,M,S,I,x){var E=C+(_^w^M)+S+x;return(E<<I|E>>>32-I)+_}function b(C,_,w,M,S,I,x){var E=C+(w^(_|~M))+S+x;return(E<<I|E>>>32-I)+_}return c.MD5=y._createHelper(i),c.HmacMD5=y._createHmacHelper(i),d.MD5}(r(7))},function(e,t,r){r.d(t,"a",function(){return y}),t=r(4);var d=r.n(t),u=r(3),c=r(1),v=r(0),g=function(){return(g=Object.assign||function(n){for(var s,i=1,a=arguments.length;i<a;i++)for(var m in s=arguments[i])Object.prototype.hasOwnProperty.call(s,m)&&(n[m]=s[m]);return n}).apply(this,arguments)},y=(o.prototype.destroy=function(){this.dbMgr=null,this.connMgr=null,this.eventBus=null,this.logger=null,this.engineConfig=null},o.prototype.setDBConv=function(n){Object.assign(n,this.dbConv),this.dbConv=n},o.prototype.setDBUser=function(n){n&&this.convType==v.k.Peer&&(this.dbUser=n)},o.prototype.setNotificationStatus=function(n){var s=this,i={time:Date.now(),convID:this.convID},a={group_id:this.convID,enable:n===v.i.DoNotDisturb};return this.connMgr.sendRequest(v.a.im_group_mute,a).then(function(m){var f;return m.code?(f=m.code==108044||m.code==106011?v.m.ConversationModuleConversationDoesNotExist:v.m.ConversationModuleServerError,f=Object(c.o)(f,m.message,m.code),i.time=Date.now()-i.time,i.error=f,s.logger.warn([v.B.Conversation],v.A.SetConversationNotificationStatus,i),Promise.reject(f)):(s.dbConv.notificationStatus=n,m="setNotificationStatus",s.dbMgr.addConversationList([s.dbConv],m),s.emitConversationUpdated(m),i.time=Date.now()-i.time,s.logger.info([v.B.Conversation],v.A.SetConversationNotificationStatus,i),{conversationID:s.convID,conversationType:s.convType})})},o.prototype.clearUnreadMessageCount=function(){var n=this,s=this.dbConv.msgSeq||this.dbConv.readMsgSeq,i={time:Date.now(),convID:this.convID,type:this.convType,seq:s};return this.updateServerReadMsgSeq(s,v.d.API).then(function(a){return a&&a.code&&a.code!=v.m.NetworkModuleNetworkError?(a=Object(c.o)(v.m.ConversationModuleServerError,a.message,a.code),i.time=Date.now()-i.time,i.error=a,n.logger.warn([v.B.Conversation],v.A.ClearConversationUnreadMessageCount,i),Promise.reject(a)):(n.dbConv.sendMsgCount=0,n.dbConv.deletedMsgCount=0,n.dbConv.unreadMessageCount=0,n.dbConv.readMsgSeq=s,a="clearUnreadMessageCount",n.emitConversationUpdated(a),n.emitUnreadMessageCount(a),i.time=Date.now()-i.time,n.logger.info([v.B.Conversation],v.A.ClearConversationUnreadMessageCount,i),n.dbMgr.addConversationList([n.dbConv],a))}).then(function(){return{conversationID:n.convID,conversationType:n.convType}})},o.prototype.sendMessage=function(n,s,i,a){var m=this,f=n.type>=v.J.Image&&n.type<=v.J.Video,b=f?v.A.SendMediaMessage:v.A.SendMessage,C=Date.now();if(!f&&C-this.lastSendTime<this.settings.cloudSetting.app_config.request_control)return _=Object(c.o)(v.m.CommonModuleTriggerSDKFrequencyLimit),this.logger.warn([v.B.Conversation],b,_),Promise.reject(_);a=a||{time:C,convID:this.convID,type:n.type},this.lastSendTime=C;var _=Object(c.e)(n.message);return f?n.message="":this.emitSendingMessage(n,s,i),C=g(g({},this.getSendMessageReqBody()),{msg_info:{msg_type:n.type,priority_type:s.priority,msg:_,has_receipt:s.hasReceipt&&this.convType!==v.k.Room?1:void 0,conv_id:this.convID,msg_client_info:{conv_sid:d.a.fromString(""+this.convSid),client_msg_seq:d.a.fromString(String(++this.clientMsgSeq))}}}),this.convType!=v.k.Peer||this.dbUser||this.dbConv.maxOrderKey||(C.fetch_peer_user_info=1),this.convType!==v.k.Room&&s.pushConfig&&s.pushConfig.title&&s.pushConfig.content&&(C.msg_info.offline_push={enable_push:1,title:String(s.pushConfig.title),content:String(s.pushConfig.content),payload:String(s.pushConfig.payload||"")}),this.connMgr.sendRequest(this.convTypeMap.textMsgCmd,C).then(function(w){if(w.peer_user_name&&(m.dbConv.conversationName=Object(c.a)(w.peer_user_name)),w.peer_user_avatar&&(m.dbConv.conversationAvatarUrl=Object(c.a)(w.peer_user_avatar)),w.code){m.dbConv.state=w.conv_disable&&m.convType==v.k.Peer?v.j.Disable:v.j.Normal,a.result=m.saveLocalMessage(n,!0);var M=m.withSendMessageErrorCode(w);if(f)throw M;return a.time=Date.now()-a.time,a.error=M,m.logger.warn([v.B.Conversation],b,a),Promise.reject(M)}w.send_count_after_read&&(m.dbConv.sendMsgCount=+w.send_count_after_read.toString()),f&&n.fileUID&&(n.fileLocalPath="",m.dbMgr.deleteMessageList(n.conversationID,n.conversationType,[n.messageID])),M=null;var S=(D=w.msg_svr_info).conv_msg_seq,I=D.msg_id,x=D.msg_time,E=D.msg_rsp,D=D.version;return S=+S.toString(),n.sentStatus=v.H.Success,n.messageID=I.toString(),n.timestamp=+x.toString(),n.conversationSeq=S,w.msg_status&&n.receiptStatus==v.E.Processing&&(n.receiptStatus=Object(c.n)(w.msg_status).receipt),m.convType==v.k.Group&&w.receipt_seq&&(M={seq:w.receipt_seq,count:w.unread_count||0}),f&&m.protobuf.decodeMediaMsgBody(n,E,D),I=g(g({},n),{clientSeq:m.clientMsgSeq,clientSid:""+m.convSid}),n.orderKey=m.calculateMessageOrderKey(I),x=m.dbConv.state,m.dbConv.state=v.j.Normal,m.saveMessageList([I],S,S,x,v.G.Sended),a.time=Date.now()-a.time,a.result=S,m.logger.info([v.B.Conversation],b,a),{message:Object.freeze(n),receiptInfo:M}})},o.prototype.sendCommand=function(n,s,i){var a,m=this,f=Date.now(),b=f-this.lastSendTime<this.settings.cloudSetting.app_config.request_control;if(n.type!=v.J.Barrage&&b)return a=Object(c.o)(v.m.CommonModuleTriggerSDKFrequencyLimit),this.logger.warn([v.B.Conversation],v.A.SendMessage,a),Promise.reject(a);var C={time:f,convID:this.convID,type:n.type},_=(b=(n.type!=v.J.Barrage&&(this.lastSendTime=f),n.type),n.message);if(n.conversationID=this.convID,n.conversationType=this.convType,n.senderUserID=this.engineConfig.userID,n.direction=v.C.Send,n.sentStatus=v.H.Sending,n.conversationSeq=0,n.orderKey=0,n.localMessageID=Object(c.f)(),n.isUserInserted=!1,n.receiptStatus=v.E.None,i&&typeof i.onMessageAttached=="function")try{i.onMessageAttached(n)}catch{}return i={msg_type:b,priority_type:s.priority,msg:typeof _=="string"?Object(c.e)(_):_,conv_id:this.convID},b=this.convType===v.k.Room?"msg_info":"command_msg_info",_=g(g({},this.getSendMessageReqBody()),((s={})[b]=i,s)),this.connMgr.sendRequest(this.convTypeMap.commandMsgCmd,_).then(function(w){if(f+=m.settings.serverOffsetTime,w.code)return n.sentStatus=v.H.Failed,n.messageID=n.localMessageID,n.timestamp=f,Object.freeze(n),M=m.withSendMessageErrorCode(w),C.time=Date.now()-C.time,C.error=M,m.logger.warn([v.B.Conversation],v.A.SendMessage,C),Promise.reject(M);var M=w.msg_id;return w=w.command_svr_info,n.sentStatus=v.H.Success,n.messageID=(M||w.msg_id).toString(),n.timestamp=w&&w.msg_time?+w.msg_time.toString():f,C.time=Date.now()-C.time,m.logger.info([v.B.Conversation],v.A.SendMessage),{message:Object.freeze(n)}})},o.prototype.sendMediaMessage=function(n,s,i){var a=this,m={time:Date.now(),convID:this.convID,type:n.type,message:n},f=v.P[n.type];return this.emitSendingMessage(n,s,i),n.fileDownloadUrl&&typeof n.fileDownloadUrl=="string"?(n.message=this.encodeMediaMsgBody(f,n.fileDownloadUrl,n,!0),this.sendMessage(n,s,void 0,m)):this.dbMgr.getFileInfo(n.fileLocalPath).then(function(b){return n.fileUID=b.md5,n.fileName=n.fileName||b.name,n.fileSize=n.fileSize||b.size,a.saveLocalMessage(n,!1),b={md5:n.fileUID,name:n.fileName,size:n.fileSize,file_type:f,duration:a.getMediaMessageDuration(n)},a.connMgr.sendRequest(v.a.im_file_upload,b)}).then(function(b){if(b.code)throw Object(c.o)(v.m.MessageModuleFileServerError,b.message,b.code);function C(_){var w=_.loaded||_.totalBytesSent||0;if(_=_.total||_.totalBytesExpectedToSend||1,i&&typeof i.onMediaUploadingProgress=="function")try{i.onMediaUploadingProgress(n,w,_)}catch{}}return C({loaded:0,total:n.fileSize}),b.state==1?(C({loaded:n.fileSize,total:n.fileSize}),a.fetchFileProcess(f,n,s,m)):a.dbMgr.uploadFile(b.upload_req,n.fileLocalPath,C).then(function(){return a.fetchFileProcess(f,n,s,m)})}).catch(function(b){var C=b&&(b.stack||b.message||b.errMsg);throw b=b&&b.code?b:Object(c.o)(v.m.MessageModuleSendMessageFailed,C),n.sentStatus==v.H.Sending&&(a.dbConv.state=v.j.Normal,m.result=a.saveLocalMessage(n,!0)),m.time=Date.now()-m.time,m.error=b,a.logger.warn([v.B.Conversation],v.A.SendMediaMessage,m),b})},o.prototype.deleteMessages=function(n,s){var i={time:Date.now(),convID:this.convID,type:this.convType,config:s};return s&&s.isAlsoDeleteServerMessage?this.deleteServerMessages(n,i):this.deleteLocalMessages(n,i)},o.prototype.deleteAllMessage=function(n){var s={time:Date.now(),convID:this.convID,type:this.convType,config:n};return n&&n.isAlsoDeleteServerMessage?this.deleteServerAllMessage(s):this.deleteLocalAllMessage(s)},o.prototype.queryHistoryMessage=function(n){var s=this;return new Promise(function(i){var a,m=s.dbConv.minSeq||0,f=s.dbConv.maxSeq||0,b=0,C={time:Date.now(),convID:s.convID,type:s.convType,dbMinSeq:m,dbMaxSeq:f},_=s.dbConv.minOrderKey||0,w=s.dbConv.maxOrderKey||0,M=(n.count+1)*v.g.MESSAGE_SEQ_MULTIPLIER,S=n.nextMessage?n.nextMessage.orderKey:0,I=0,x=0;if(b=n.reverse?(x=S?S-1:w,I=Math.max(x-M,0),Math.max((((a=n.nextMessage)==null?void 0:a.conversationSeq)||f)-n.count,0)):(x=(I=S?S+1:0)+M,((a=n.nextMessage)==null?void 0:a.conversationSeq)||0),b=Math.max(b,s.dbConv.deletedMsgMaxSeq||0),_&&x<=w&&(_<=I||I==0&&m<=1))return s.dbMgr.getMessageList(s.dbConv,n).then(function(W){C.time=Date.now()-C.time,Object.assign(C,{orderKey:S,min:I,max:x,convMin:_,convMax:w,count:W.length,statusMap:{}}),i({list:W,log:C})});var E=0,D=0,R=1,q=new Map,A=v.o.Biz,j=++s.mergeMsgListSeq,H=0;s.fetchServerPageMessage(m||-1,R,A,!0,j).then(function W(X){var ee,ae,N,k;s.dbMgr&&(ee=s.dbConv.deletedMsgSeqs||[],X.list.forEach(function(L){H+=X.list.length;var $=L.msg_svr_info.msg_id.toString(),B=+L.msg_svr_info.conv_msg_seq.toString();ee.indexOf(B)==-1&&b<B&&!q.has($)&&(D<B&&(D=B),(!E||B<E)&&(E=B),q.set($,s.transform2Message(L)))}),X.nextSeq&&X.nextSeq>b&&X.list.length?s.fetchServerPageMessage(X.nextSeq,++R,A,!0).then(W):(X.degree=R,X.svrCount=H,ae=s.dataReport.endNetworkRequest(s.convTypeMap.fetchMsgList,j,X),N=Array.from(q.values()),(k=s.dbConv.state)!=v.j.Delete&&N.length&&(s.dbConv.state=v.j.Normal),k==v.j.Delete&&N.length&&s.emitReceiveMessage(N,"apicall"),s.saveMessageList(N,E,D,k,v.G.Fetch).then(function(){return s.mergeMsgTimer&&clearTimeout(s.mergeMsgTimer),s.mergeMsgTimer=0,s.dbMgr.getMessageList(s.dbConv,n)}).then(function(L){C.time=Date.now()-C.time,Object.assign(C,{fetchMinSeq:b,minSeq:E,maxSeq:D,orderKey:S,min:I,max:x,convMin:_,convMax:w,count:L.length,statusMap:{},dataReport:ae}),i({list:L,log:C})})))})})},o.prototype.insertMessageToLocalDB=function(n){var s=this.dbConv.msgSeq||this.dbConv.readMsgSeq||0,i=(n.conversationSeq=s,n.orderKey=(this.dbConv.maxOrderKey||0)+1,n.conversationID=this.convID,n.conversationType=this.convType,n.direction=v.C.Send,n.sentStatus=v.H.Success,n.localMessageID=Object(c.f)(),n.messageID=n.localMessageID,n.timestamp=Date.now()+this.settings.serverOffsetTime,n.isUserInserted=!0,n.receiptStatus=v.E.None,this.dbUser&&(this.dbConv.conversationName=this.dbUser.userName,this.dbConv.conversationAvatarUrl=this.dbUser.userAvatarUrl),g({},n)),a=this.dbConv.state;return a==v.j.Delete&&(this.dbConv.state=v.j.Normal),this.saveMessageList([i],s,s,a,v.G.Insert).then(function(){return{message:Object.freeze(n)}})},o.prototype.sendConversationMessageReceiptRead=function(){var n=this,s=this.dbConv.msgSeq||this.dbConv.readMsgSeq||0,i={time:Date.now(),convID:this.convID},a={group_id:this.convID,conv_msg_seq:d.a.fromString(""+s)};return this.connMgr.sendRequest(v.a.im_c2c_conv_read_receipt,a).then(function(m){return m.code?(m=Object(c.o)(v.m.ConversationModuleCommonError,m.message,m.code),i.time=Date.now()-i.time,i.error=m,n.logger.warn([v.B.Conversation],v.A.SendConversationMessageReceiptRead,i),Promise.reject(m)):(n.dbConv.maxRecvReceiptMsgSeq=s,n.dbMgr.addConversationList([n.dbConv],"ackReceipt"),i.time=Date.now()-i.time,n.logger.info([v.B.Conversation],v.A.SendConversationMessageReceiptRead,i),{conversationID:n.convID,conversationType:n.convType})})},o.prototype.sendMessageReceiptsRead=function(n){var s=this,i=new Map,a=(n.forEach(function(f){f.conversationID==s.convID&&f.conversationType==s.convType&&f.direction==v.C.Receive&&f.receiptStatus==v.E.Processing&&i.set(String(f.conversationSeq),f)}),{time:Date.now(),convID:this.convID,type:this.convType,count:i.size}),m={conv_id:this.convID,conv_msg_seq:Array.from(i.keys())};return this.connMgr.sendRequest(this.convTypeMap.msgReadReceipt,m).then(function(f){var b=f.conv_msg_seq2_receipt_seq,C=[],_=[];return n.forEach(function(w){var M=String(w.conversationSeq),S=i.get(M);b&&b.hasOwnProperty(M)&&S&&S.messageID==w.messageID?C.push(g(g({},S),{receiptStatus:v.E.Done})):_.push(w.messageID)}),s.dbMgr.addMessageList(s.convID,s.convType,C),a.time=Date.now()-a.time,f.code||_.length==n.length?(f=Object(c.o)(v.m.MessageModuleReceiptReadError,f.message,f.code),a.error=f,s.logger.warn([v.B.Conversation],v.A.SendMessageReceiptsRead,a),Promise.reject(f)):(s.logger.info([v.B.Conversation],v.A.SendMessageReceiptsRead,a),{conversationID:s.convID,conversationType:s.convType,errorMessageIDs:_})})},o.prototype.onPushMessage=function(n){this.waitingMergeMsg(this.transform2Message(n))},o.prototype.isOnlineMsg=function(n){return n===v.J.Command||n===v.J.Barrage},o.prototype.deleteLocalMessages=function(n,s){var i=this;if(!(n=n.filter(function(m){return m.conversationID===i.convID&&m.conversationType===i.convType})).length)return Promise.resolve({conversationID:this.convID,conversationType:this.convType});var a=n.map(function(m){return m.messageID});return this.dbMgr.deleteMessageList(this.convID,this.convType,a).then(function(m){var f=n.map(function(M){return M.conversationSeq}),b=(f=(i.dbConv.deletedMsgSeqs=f.concat(i.dbConv.deletedMsgSeqs||[]),!1),!1),C=((m==null?void 0:m.messageID)!=((C=i.dbConv.lastMessage)==null?void 0:C.messageID)&&(f=!0,m&&(i.dbConv.orderKey=m.timestamp)),i.dbConv.lastMessage=m,i.dbConv.readMsgSeq||0),_=(m=i.dbConv.msgSeq||C,i.calculateDeletedMsgCount(n,C)),w=(0<_&&(_+=i.dbConv.deletedMsgCount||0,i.dbConv.deletedMsgCount=_,w=i.dbConv.sendMsgCount||0,C=Math.max(m-C-w-_,0),i.dbConv.unreadMessageCount!=C&&(i.dbConv.unreadMessageCount=C,b=f=!0)),"deleteLocalMessages");return i.dbMgr.addConversationList([i.dbConv],w),f&&i.emitConversationUpdated(w),b&&(i.emitUnreadMessageCount(w),i.updateServerReadMsgSeq(m,v.d.SDK)),s.time=Date.now()-s.time,i.logger.info([v.B.Conversation],v.A.DeleteMessages,s),{conversationID:i.convID,conversationType:i.convType}})},o.prototype.deleteServerMessages=function(n,s){var i=this,a=n.filter(function(m){return m.conversationID===i.convID&&m.conversationType===i.convType&&!m.isUserInserted});return a.length==0?this.deleteLocalMessages(n,s):this.connMgr.sendRequest(this.convTypeMap.delMsg,this.getDelMessageReqBody(a)).then(function(m){return m.code?(m=Object(c.o)(v.m.ConversationModuleServerError,m.message,m.code),s.time=Date.now()-s.time,s.error=m,i.logger.warn([v.B.Conversation],v.A.DeleteMessages,s),Promise.reject(m)):i.deleteLocalMessages(n,s)})},o.prototype.deleteLocalAllMessage=function(n){var s=this,i=(this.dbMgr.deleteAllMessage(this.convID,this.convType),this.dbConv.msgSeq||this.dbConv.readMsgSeq),a=(this.dbConv.sendMsgCount=0,this.dbConv.deletedMsgCount=0,this.dbConv.unreadMessageCount=0,this.dbConv.readMsgSeq=i,this.dbConv.deletedMsgMaxSeq=i,this.dbConv.lastMessage=void 0,"deleteLocalAllMessage");return this.emitConversationUpdated(a),this.emitUnreadMessageCount(a),this.updateServerReadMsgSeq(i,v.d.SDK),n.time=Date.now()-n.time,this.logger.info([v.B.Conversation],v.A.DeleteAllMessage,n),this.dbMgr.addConversationList([this.dbConv],a).then(function(){return{conversationID:s.convID,conversationType:s.convType}})},o.prototype.deleteServerAllMessage=function(n){var s=this;return this.connMgr.sendRequest(this.convTypeMap.delAllMsg,this.getDelAllMessageReqBody()).then(function(i){return i.code?(i=Object(c.o)(v.m.ConversationModuleServerError,i.message,i.code),n.time=Date.now()-n.time,n.error=i,s.logger.warn([v.B.Conversation],v.A.DeleteAllMessage,n),Promise.reject(i)):s.deleteLocalAllMessage(n)})},o.prototype.updateServerReadMsgSeq=function(n,s){return this.dbConv.state?Promise.resolve():this.connMgr.sendRequest(v.a.im_usermail_update_read_seq,{conv_id:this.convID,conv_type:this.convType,read_seq:d.a.fromString(""+n)},s)},o.prototype.fetchServerPageMessage=function(n,s,i,a,m,f){var b=this;if(f=this.getFetchMessageReqBody(n,i,a?1:0,f),this.convType==v.k.Room&&!f)return Promise.resolve({nextSeq:0,list:[]});f.degree=s,f.how=i;var C=this.convTypeMap.fetchMsgList,_=i==v.o.Biz?v.d.API:v.d.SDK;return s==1&&m&&this.dataReport.beginNetworkRequest(C,m,f,_),this.connMgr.sendRequest(C,f,_,this.settings.queryTimeout,!0).then(function(w){if(w.code)return{list:[]};var M=b.getFetchMessageRspBody(w),S=M.maxSeq,I=M.nextSeq,x=((i==v.o.SDKLogin||w.fetch_end||!a&&(S?S<=n||S<=I:I<=n))&&(M.nextSeq=0),{start:(w=M.list[0])==null?void 0:w.msg_svr_info.conv_msg_seq,end:(S=M.list[M.list.length-1])==null?void 0:S.msg_svr_info.conv_msg_seq});return M.list.forEach(function(E){var D;(D=E.msg_info.msg)!=null&&D.length||(x[(D=E.msg_svr_info.conv_msg_seq)==null?void 0:D.toString()]=E.msg_info.msg)}),I={convID:b.convID,type:b.convType,seq:n,degree:s,how:i,reverse:a,flag:x},b.logger.info([v.B.Conversation],"fetchServerPageMessage",I),M})},o.prototype.saveLocalMessage=function(n,s){var i=this.dbConv.msgSeq||this.dbConv.readMsgSeq||0,a=(n.messageID||(n.messageID=n.localMessageID),s&&(n.sentStatus=v.H.Failed),n.timestamp=Date.now()+this.settings.serverOffsetTime,n.conversationSeq=i,n.orderKey=(this.dbConv.maxOrderKey||0)+1,g({},n)),m=s?v.G.Sended:v.G.Sending;return this.saveMessageList([a],i,i,this.dbConv.state,m),s&&Object.freeze(n),n.conversationSeq},o.prototype.saveMessageList=function(n,s,i,a,m){if(n.length==0)return Promise.resolve();n.sort(function(M,S){return M.orderKey-S.orderKey});var f,b,C={minSeq:this.dbConv.minSeq||0,maxSeq:this.dbConv.maxSeq||0,msgSeq:this.dbConv.msgSeq||0,minOrderKey:this.dbConv.minOrderKey||0,maxOrderKey:this.dbConv.maxOrderKey||0,lastMessage:this.dbConv.lastMessage||{messageID:""}},_=(C.lastMessage.orderKey=C.lastMessage.orderKey||0,n[n.length-1]),w=(s=(this.dbConv.maxSeq=Math.max(C.maxSeq,i),this.dbConv.maxOrderKey=Math.max(C.maxOrderKey,_.orderKey),i=Math.max(C.msgSeq,i),this.dbConv.msgSeq=i,(!this.dbConv.minSeq||this.dbConv.minSeq<1)&&(this.dbConv.minSeq=s),this.dbConv.minSeq=Math.min(this.dbConv.minSeq,s),(!this.dbConv.minOrderKey||this.dbConv.minOrderKey<1)&&(this.dbConv.minOrderKey=n[0].orderKey),this.dbConv.minOrderKey=Math.min(this.dbConv.minOrderKey,n[0].orderKey),"saveMessageList_".concat(m)),m!=v.G.Fetch&&m!=v.G.Push||(b=this.dbConv.readMsgSeq||0,w=this.dbConv.sendMsgCount||0,f=this.dbConv.deletedMsgCount||0,m!=v.G.Push||C.msgSeq||(this.dbConv.readMsgSeq=b=i-1),(i=Math.max(i-b-w-f,0))!=this.dbConv.unreadMessageCount&&(this.dbConv.unreadMessageCount=i,this.emitUnreadMessageCount(s))),C.lastMessage.messageID!=_.messageID&&(C.lastMessage.sentStatus==v.H.Failed||_.orderKey>=C.lastMessage.orderKey||m==v.G.Push)&&(this.dbConv.orderKey=_.timestamp,this.dbConv.lastMessage=_,m!=v.G.Sending&&(b=m==v.G.Sended||C.maxOrderKey&&a!=v.j.Delete?this.dbConv.state==v.j.Disable?v.h.Disabled:v.h.Updated:v.h.Added,this.emitConversationChangedByMessage(_,b,s))),"_".concat(C.msgSeq,",").concat(C.minSeq,",").concat(C.maxSeq,",").concat(C.minOrderKey,",").concat(C.maxOrderKey,",_").concat(C.lastMessage.orderKey,",").concat(_.orderKey));return this.dbMgr.addConversationList([this.dbConv],s+w),this.dbMgr.addMessageList(this.convID,this.convType,n)},o.prototype.transform2Message=function(n){var s=n.msg_info,i=(n=n.msg_svr_info).sender_user_id;return i={type:s.msg_type,localMessageID:Object(c.f)(),messageID:n.msg_id.toString(),timestamp:+n.msg_time.toString(),conversationID:this.convID,conversationType:this.convType,senderUserID:i,sentStatus:v.H.Success,direction:i===this.engineConfig.userID?v.C.Send:v.C.Receive,conversationSeq:+n.conv_msg_seq.toString(),orderKey:0,isUserInserted:!1,receiptStatus:v.E.None,clientSeq:+((i=(i=s.msg_client_info)==null?void 0:i.client_msg_seq)==null?void 0:i.toString())||0,clientSid:((i=(i=s.msg_client_info)==null?void 0:i.conv_sid)==null?void 0:i.toString())||""},this.protobuf.decodeMediaMsgBody(i,s.msg,n.version),i.type!=v.J.Revoke&&s.msg_status&&(i.receiptStatus=Object(c.n)(s.msg_status).receipt),this.calculateMessageOrderKey(i),i},o.prototype.withSendMessageErrorCode=function(n){return n=Object(c.o)(v.m.MessageModuleSendMessageFailed,n.message,n.code),this.convType==v.k.Group&&this.auditErrorCodes.indexOf(n.code)==-1&&(n.code=v.m.MessageModuleSendMessageFailed),n},o.prototype.calculateDeletedMsgCount=function(n,s){return n.reduce(function(i,a){return!a.isUserInserted&&a.direction===v.C.Receive&&a.conversationSeq>s&&i++,i},0)},o.prototype.initGroupUnreadMsgCount=function(n,s){this.dbConv.minSeq=n,this.dbConv.maxSeq=n,this.dbConv.msgSeq=n,this.dbConv.readMsgSeq=s==v.o.SDKPush?n-1:n,this.dbConv.sendMsgCount=0,this.dbConv.deletedMsgCount=0,this.dbConv.unreadMessageCount=0,this.dbMgr.addConversationList([this.dbConv],"initGroupUnreadMsgCount_"+s)},o.prototype.calculateMessageOrderKey=function(n){var s=v.g.MESSAGE_SEQ_MULTIPLIER,i=n.clientSeq,a=n.clientSid,m=n.orderKey;if(m)return m;if(!i||!a)return n.orderKey=n.conversationSeq*s,n.orderKey;if(!(m=this.msgCaches[n.senderUserID]))return n.orderKey=n.conversationSeq*s,this.msgCaches[n.senderUserID]=m=[n],n.orderKey;var f=0,b=0,C=0,_=0,w=(m.forEach(function(M){var S=M.clientSeq;M.clientSid==a&&S&&(i<S&&(!b||S<b)?(b=S,_=M.conversationSeq*s):S<i&&(!f||f<S)&&(f=S,C=M.conversationSeq*s))}),n.conversationSeq*s);return f&&b?(w<=C||_<=w)&&(w=C+Math.floor(Math.random()*(_-C+1))):w<C?w=C+i-f:b&&_<w&&(w=_+i-b),n.orderKey=w,m.push(n),100<m.length&&(m.sort(function(M,S){return M.orderKey-S.orderKey}),m.splice(0,90)),n.orderKey},o.prototype.mergeServerMessageList=function(n,s,i){var a,m,f,b,C,_,w,M,S,I,x=this;this.isFetchMessageWhenLogin(n)&&(m=a=0,f=1,b=Math.max(this.dbConv.maxSeq||0,this.dbConv.deletedMsgMaxSeq||0),C=this.dbConv.msgSeq||this.dbConv.readMsgSeq||0,_=new Map,w=++this.mergeMsgListSeq,M=0,S={time:Date.now(),convID:this.convID,type:this.convType,how:n,action:s,dbSeq:b,msgSeq:C},I=function(E){var D,R,q,A,j;x.dbMgr&&(D=x.dbConv.deletedMsgSeqs||[],E.list.forEach(function(H){M+=E.list.length;var W=H.msg_svr_info.msg_id.toString(),X=+H.msg_svr_info.conv_msg_seq.toString();D.indexOf(X)==-1&&b<X&&!_.has(W)&&(m<X&&(m=X),(!a||X<a)&&(a=X),_.set(W,x.transform2Message(H)))}),E.nextSeq?x.fetchServerPageMessage(E.nextSeq,++f,n,!1).then(I):(E.degree=f,E.msgs_len=M,R=x.dataReport.endNetworkRequest(x.convTypeMap.fetchMsgList,w,E),i&&x.initGroupUnreadMsgCount(E.maxSeq,n),q=Array.from(_.values()),(j=x.dbConv.state)!=v.j.Delete&&q.length&&(x.dbConv.state=v.j.Normal),x.saveMessageList(q,a,m,j,v.G.Fetch),A=Math.max(b,x.dbConv.deletedMsgMaxSeq||0),j=q.filter(function(H){return H.conversationSeq>A&&(n!=v.o.SDKHb||n==v.o.SDKHb&&H.direction==v.C.Receive)}),x.emitReceiveMessage(j,s),n===v.o.SDKPush&&(x.mergeMsgTimer&&clearTimeout(x.mergeMsgTimer),x.mergeMsgTimer=0),S.time=Date.now()-S.time,Object.assign(S,{minSeq:a,maxSeq:m,emitSeq:A,count:q.length,dataReport:R}),x.logger.info([v.B.Conversation],"mergeServerMessageList",S)))},n==v.o.SDKLogin&&b<C?this.fetchServerPageMessage(C+1,f,n,!0,w,C+1-b).then(I):n!=v.o.SDKLogin&&this.fetchServerPageMessage(b,f,n,!1,w).then(I))},o.prototype.fetchSelfReceiptMsg=function(n){var s=this;return new Promise(function(i){n.sort(function(f,b){return f-b});var a=s.msgCaches[s.engineConfig.userID];if(a&&a.length){var m=new Map;if(a.forEach(function(f){var b=f.conversationSeq;n.indexOf(b)!=-1&&m.set(b,f)}),m.size==n.length)return i(m)}s.dbMgr.getMessageListBySeqs(s.convID,s.convType,n).then(i)})},o.prototype.waitingMergeMsg=function(n){var s,i=this,a=n.conversationSeq,m=this.dbConv.maxSeq;!m||a<=m||a==m+1&&!this.mergeMsgTimer?(s=this.dbConv.state,this.dbConv.state=v.j.Normal,this.saveMessageList([n],a,a,s,v.G.Push),this.emitReceiveMessage([n],"continuousMerge"),s={convID:this.convID,type:this.convType,seq:a,dbSeq:m,action:"continuousMerge"},this.logger.info([v.B.Conversation],"mergeMessage",s)):(this.mergeMsgList.push(n),this.mergeSeqList.some(function(f){return f==a})||this.mergeSeqList.push(a),this.mergeMsgTimer||(this.mergeMsgTimer=setTimeout(function(){i.mergeSeqList.sort(function(_,w){return w-_});var f=i.mergeSeqList.length-1,b=i.mergeSeqList[0]-i.mergeSeqList[f]==f,C={convID:i.convID,type:i.convType,seq:a,dbSeq:m,action:"waitingPush",time:i.settings.mailHBFetchConfig.msg_to,dbSeq_:i.dbConv.maxSeq,continuous:b,mergeSeqList:i.mergeSeqList};i.logger.info([v.B.Conversation],"mergeMessage",C),b?(C=i.dbConv.state,i.dbConv.state=v.j.Normal,b=i.mergeMsgList.slice(),i.saveMessageList(b,i.mergeSeqList[f],i.mergeSeqList[0],C,v.G.Push),i.emitReceiveMessage(b,"waitingPush"),i.mergeMsgTimer=0,i.mergeSeqList.length=0,i.mergeMsgList.length=0):(i.mergeSeqList.length=0,i.mergeMsgList.length=0,(f=Date.now()-i.lastMergeMsgTime)>i.settings.mailHBFetchConfig.msg_itvl?(i.lastMergeMsgTime+=f,i.mergeServerMessageList(v.o.SDKPush,"onPushTimeout")):setTimeout(function(){i.lastMergeMsgTime=Date.now(),i.mergeServerMessageList(v.o.SDKPush,"onPushTimeoutDelay")},i.settings.mailHBFetchConfig.msg_itvl-f))},this.settings.mailHBFetchConfig.msg_to)))},o.prototype.fetchFileProcess=function(n,s,i,a){var m=this,f={md5:s.fileUID,file_type:n,file_name:s.fileName};return this.connMgr.sendRequest(v.a.im_file_process,f).then(function(b){if(b.code)throw Object(c.o)(v.m.MessageModuleSendMessageFailed,b.message,b.code);return s.message=m.encodeMediaMsgBody(n,b.download_url,s),m.sendMessage(s,i,void 0,a)})},o.prototype.emitUnreadMessageCount=function(n){this.convType!=v.k.Room&&this.eventBus.exec(v.n.InnerUnreadMessageCount,n)},o.prototype.emitConversationChangedByMessage=function(n,s,i){n.conversationType==v.k.Room||this.dbConv.state==v.j.Delete||this.isOnlineMsg(n.type)||(s={infoList:[{event:s,conversation:{conversationID:this.dbConv.conversationID,conversationName:this.dbConv.conversationName,conversationAvatarUrl:this.dbConv.conversationAvatarUrl,type:this.dbConv.type,unreadMessageCount:this.dbConv.unreadMessageCount,notificationStatus:this.dbConv.notificationStatus,orderKey:n.timestamp,lastMessage:n}}]},this.eventBus.emit(v.n.ConversationChanged,s,i))},o.prototype.emitConversationUpdated=function(n){var s;this.convType!=v.k.Room&&this.dbConv.state!=v.j.Delete&&(s={infoList:[{event:v.h.Updated,conversation:{conversationID:this.dbConv.conversationID,conversationName:this.dbConv.conversationName,conversationAvatarUrl:this.dbConv.conversationAvatarUrl,type:this.dbConv.type,unreadMessageCount:this.dbConv.unreadMessageCount,notificationStatus:this.dbConv.notificationStatus,orderKey:this.dbConv.orderKey,lastMessage:this.dbConv.lastMessage}}]},this.eventBus.emit(v.n.ConversationChanged,s,n))},o.prototype.emitSendingMessage=function(n,s,i){if(n.conversationID=this.convID,n.conversationType=this.convType,n.senderUserID=this.engineConfig.userID,n.direction=v.C.Send,n.sentStatus=v.H.Sending,n.localMessageID||(n.localMessageID=Object(c.f)()),n.timestamp=Date.now()+this.settings.serverOffsetTime,n.isUserInserted=!1,n.receiptStatus=s.hasReceipt?v.E.Processing:v.E.None,i&&typeof i.onMessageAttached=="function")try{i.onMessageAttached(n)}catch{}this.dbUser&&(this.dbConv.conversationName=this.dbUser.userName,this.dbConv.conversationAvatarUrl=this.dbUser.userAvatarUrl),s=v.h.Added,this.dbConv.state==v.j.Delete?this.dbConv.state=v.j.Normal:this.dbConv.maxOrderKey&&(s=this.dbConv.state==v.j.Disable?v.h.Disabled:v.h.Updated),this.emitConversationChangedByMessage(n,s,"sendingMessage_"+this.dbConv.maxOrderKey)},o.prototype.emitReceiveMessage=function(n,s){var i;n.length&&(i=this.convType===v.k.Peer?v.n.ReceivePeerMessage:this.convType===v.k.Group?v.n.ReceiveGroupMessage:v.n.ReceiveRoomMessage,n={messageList:n,fromConversationID:this.convID},this.eventBus.emit(i,n,s))},o.prototype.getMediaMessageDuration=function(n){var s=0;return n.type==v.J.Audio?s=n.audioDuration||0:n.type==v.J.Video&&(s=n.videoDuration||0),s},o.prototype.encodeMediaMsgBody=function(n,s,i,a){var m;return n={version:"1",file_type:n,file_download_url:s},(s=(!a&&i.fileUID&&(n.file_uid=i.fileUID),i.fileName&&(n.file_name=i.fileName),i.fileSize&&(n.file_size=i.fileSize+""),i.type))==v.J.Image&&a?(a=i.thumbnailDownloadUrl,m=i.largeImageDownloadUrl,a&&(n.thumbnail_download_url=a),m&&(n.large_image_download_url=m)):s==v.J.Audio?(a=i.audioDuration,n.media_duration=String(a||0)):s==v.J.Video&&(m=i.videoDuration,a=i.videoFirstFrameDownloadUrl,n.media_duration=String(m||0),a&&(n.video_first_frame_download_url=a)),this.protobuf.encodeMediaMsgBody(s,n)},o);function o(n,s,i,a,m){this.logger=u.a.getInstance().logger,this.settings=u.a.getInstance().settings,this.dataReport=u.a.getInstance().dataReport,this.protobuf=u.a.getInstance().protobuf,this.lastSendTime=0,this.convSid=Date.now(),this.clientMsgSeq=0,this.dbConv={},this.mergeMsgTimer=0,this.lastMergeMsgTime=0,this.mergeMsgListSeq=0,this.mergeSeqList=[],this.mergeMsgList=[],this.msgCaches={},this.auditErrorCodes=[v.m.NetworkModuleNetworkError,v.m.MessageModuleAuditRejected,v.m.MessageModuleAuditFailed],this.dbConv.conversationID=n,this.convID=n,this.engineConfig=s,this.eventBus=i,this.dbMgr=a,this.connMgr=m}},function(e,t,r){e.exports=function(d){for(var u=d,c=u.lib.BlockCipher,v=u.algo,g=[],y=[],o=[],n=[],s=[],i=[],a=[],m=[],f=[],b=[],C=[],_=0;_<256;_++)C[_]=_<128?_<<1:_<<1^283;var w=0,M=0;for(_=0;_<256;_++){var S=M^M<<1^M<<2^M<<3^M<<4;S=S>>>8^255&S^99,g[w]=S,y[S]=w;var I=C[w],x=C[I],E=C[x],D=257*C[S]^16843008*S;o[w]=D<<24|D>>>8,n[w]=D<<16|D>>>16,s[w]=D<<8|D>>>24,i[w]=D,D=16843009*E^65537*x^257*I^16843008*w,a[S]=D<<24|D>>>8,m[S]=D<<16|D>>>16,f[S]=D<<8|D>>>24,b[S]=D,w?(w=I^C[C[C[E^I]]],M^=C[C[M]]):w=M=1}var R=[0,1,2,4,8,16,32,64,128,27,54],q=v.AES=c.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var A=this._keyPriorReset=this._key,j=A.words,H=A.sigBytes/4,W=4*((this._nRounds=H+6)+1),X=this._keySchedule=[],ee=0;ee<W;ee++)ee<H?X[ee]=j[ee]:(k=X[ee-1],ee%H?H>6&&ee%H==4&&(k=g[k>>>24]<<24|g[k>>>16&255]<<16|g[k>>>8&255]<<8|g[255&k]):(k=g[(k=k<<8|k>>>24)>>>24]<<24|g[k>>>16&255]<<16|g[k>>>8&255]<<8|g[255&k],k^=R[ee/H|0]<<24),X[ee]=X[ee-H]^k);for(var ae=this._invKeySchedule=[],N=0;N<W;N++){if(ee=W-N,N%4)var k=X[ee];else k=X[ee-4];ae[N]=N<4||ee<=4?k:a[g[k>>>24]]^m[g[k>>>16&255]]^f[g[k>>>8&255]]^b[g[255&k]]}}},encryptBlock:function(A,j){this._doCryptBlock(A,j,this._keySchedule,o,n,s,i,g)},decryptBlock:function(A,j){var H=A[j+1];A[j+1]=A[j+3],A[j+3]=H,this._doCryptBlock(A,j,this._invKeySchedule,a,m,f,b,y),H=A[j+1],A[j+1]=A[j+3],A[j+3]=H},_doCryptBlock:function(A,j,H,W,X,ee,ae,N){for(var k=this._nRounds,L=A[j]^H[0],$=A[j+1]^H[1],B=A[j+2]^H[2],G=A[j+3]^H[3],Z=4,re=1;re<k;re++){var z=W[L>>>24]^X[$>>>16&255]^ee[B>>>8&255]^ae[255&G]^H[Z++],ie=W[$>>>24]^X[B>>>16&255]^ee[G>>>8&255]^ae[255&L]^H[Z++],se=W[B>>>24]^X[G>>>16&255]^ee[L>>>8&255]^ae[255&$]^H[Z++],Ce=W[G>>>24]^X[L>>>16&255]^ee[$>>>8&255]^ae[255&B]^H[Z++];L=z,$=ie,B=se,G=Ce}z=(N[L>>>24]<<24|N[$>>>16&255]<<16|N[B>>>8&255]<<8|N[255&G])^H[Z++],ie=(N[$>>>24]<<24|N[B>>>16&255]<<16|N[G>>>8&255]<<8|N[255&L])^H[Z++],se=(N[B>>>24]<<24|N[G>>>16&255]<<16|N[L>>>8&255]<<8|N[255&$])^H[Z++],Ce=(N[G>>>24]<<24|N[L>>>16&255]<<16|N[$>>>8&255]<<8|N[255&B])^H[Z++],A[j]=z,A[j+1]=ie,A[j+2]=se,A[j+3]=Ce},keySize:8});return u.AES=c._createHelper(q),d.AES}(r(7),(r(95),r(13),r(23),r(98)))},function(e,t,r){function d(y){switch(y){case 50012:return u.m.NetworkModuleUserIsNotLogged;case 100002:case 100003:case 100004:case 50013:case 50014:case 104002:return u.m.CommonModuleParamInvalid;case 50008:case 103019:case 102002:case 102003:case 100017:case 103020:case 103034:case 103041:case 103042:case 103044:case 103016:case 103017:case 108050:return u.m.CommonModuleTriggerServerFrequencyLimit;case 100018:return u.m.CommonModuleUserInfoQueriedLimit;case 100021:return u.m.CommonModuleUnsupportedRequest;case 50001:case 50002:case 50003:case 50004:case 50005:case 50007:case 50009:case 50101:case 50102:case 50105:case 50106:case 50107:case 50108:case 50110:return u.m.CommonModuleSwitchServerError;case 50111:return u.m.NetworkModuleTokenInvalid;case 100001:case 102001:case 100005:case 100006:case 100007:case 100008:case 100009:case 100010:case 100011:case 101001:case 101002:case 101003:case 101004:return u.m.CommonModuleIMServerError;case 105e3:case 105004:case 103033:return u.m.CommonModuleUserIsNotExist;case 103015:case 103001:return u.m.RoomModuleUserIsNotInTheRoom;case 103021:return u.m.RoomModuleTheRoomDoesNotExist;case 103032:return u.m.RoomModuleTheRoomAlreadyExists;case 103018:return u.m.RoomModuleTheNumberOfExistingRoomsHasReachedLimit;case 103010:return u.m.RoomModuleTheNumberOfJoinedRoomsHasReachedLimit;case 103022:return u.m.RoomModuleTheNumberOfRoomAttributesExceedsLimit;case 103023:return u.m.RoomModuleTheLengthOfRoomAttributeKeyExceedsLimit;case 103024:return u.m.RoomModuleTheLengthOfRoomAttributeValueExceedsLimit;case 103025:return u.m.RoomModuleTheTotalLengthOfRoomAttributesValueExceedsLimit;case 103039:return u.m.RoomModuleTheLengthOfRoomMemberAttributesKeyExceedsLimit;case 103040:return u.m.RoomModuleTheLengthOfRoomMemberAttributesValueExceedsLimit;case 103038:return u.m.RoomModuleTheTotalLengthOfRoomMemberAttributesExceedsLimit;case 103045:return u.m.RoomModuleTheMemberNumberOfRoomMemberAttributesExceedsLimit;case 107003:return u.m.MessageModuleCancelCallError;case 107004:return u.m.MessageModuleCallServerError;case 107005:return u.m.MessageModuleCallDoesNotExist;case 107006:case 107007:return u.m.MessageModuleCallServerError;case 107012:return u.m.MessageModuleIsNotInvitor;case 107014:return u.m.MessageModuleIsNotInvitee;case 61001:return u.m.MessageModuleCallAlreadyExists;case 61002:return u.m.MessageModuleCallDoesNotExist;case 111003:case 111006:case 111007:return u.m.MessageModuleAuditRejected;case 111002:case 111004:case 111005:return u.m.MessageModuleAuditFailed;case 61003:case 61004:return u.m.MessageModuleCallServerError;case 109001:return u.m.MessageModuleTargetDoesNotExist;case 108054:case 106019:return u.m.MessageModuleReceiptReadError;case 100015:case 110002:case 110003:case 110005:case 110006:case 110007:case 110008:case 110009:case 110010:case 110011:case 110012:case 110013:case 110014:case 110015:return u.m.MessageModuleFileServerError;case 110004:return u.m.MessageModuleFileNotExist;case 110016:case 110019:case 110021:case 110023:return u.m.MessageModuleFileTypeUnsupported;case 110017:case 110020:case 110022:case 110024:return u.m.MessageModuleFileSizeInvalid;case 110018:return u.m.MessageModuleFileDurationInvalid;case 108035:case 108051:return u.m.GroupModuleUserIsNotInTheGroup;case 108003:return u.m.GroupModuleNoCorrespondingOperationAuthority;case 108040:return u.m.GroupModuleTheNumberOfGroupAttributesExceedsLimit;case 108041:return u.m.GroupModuleTheLengthOfGroupAttributeKeyExceedsLimit;case 108042:return u.m.GroupModuleTheLengthOfGroupAttributeValueExceedsLimit;case 108037:return u.m.GroupModuleMemberIsAlreadyInTheGroup;case 108038:case 108039:return u.m.GroupModuleUpdateGroupMemberInfoError;case 108043:return u.m.GroupModuleGroupAlreadyExists;case 108044:case 106011:return u.m.GroupModuleGroupDoesNotExist;case 108046:return u.m.GroupModuleGroupAttributeDoesNotExist;case 108049:return u.m.GroupModuleGroupMemberHasReachedLimit;case 100012:return u.m.MessageModuleMessageExceedsRevokeTime;case 100013:return u.m.MessageModuleMessageHasBeenRevoked;case 100022:return u.m.MessageModuleMessageExceedsRevokeTime;default:return 0}}r.d(t,"a",function(){return v}),r.d(t,"b",function(){return g});var u=r(0),c=((t={})[u.m.Success]="Success.",t[u.m.Failed]="Failed.",t[u.m.CommonModuleParamInvalid]="The incoming parameter is invalid.",t[u.m.CommonModuleNotInit]="The SDK is not initialized.",t[u.m.CommonModuleInvalidAppID]="Invalid AppID.",t[u.m.CommonModuleTriggerSDKFrequencyLimit]="Trigger SDK internal frequency limit.",t[u.m.CommonModuleTriggerServerFrequencyLimit]="Trigger background service frequency limit.",t[u.m.CommonModuleSwitchServerError]="Switch server internal error.",t[u.m.CommonModuleIMServerError]="ZIM service internal error.",t[u.m.CommonModuleUploadLogError]="Failed to upload log.",t[u.m.CommonModuleUserIsNotExist]="User is not exist.",t[u.m.CommonModuleUserInfoQueriedLimit]="Trigger frequency limit when querying user information.",t[u.m.CommonModuleUnsupportedRequest]="Unsupported request.",t[u.m.CommonModuleUnactivatedIMServer]="Unactivated IM server.",t[u.m.NetworkModuleCommonError]="Login failed.",t[u.m.NetworkModuleServerError]="Login failed due to background service.",t[u.m.NetworkModuleTokenInvalid]="Token is invalid.",t[u.m.NetworkModuleNetworkError]="Network error.",t[u.m.NetworkModuleTokenExpired]="Token expired.",t[u.m.NetworkModuleTokenVersionError]="Token version number is wrong.",t[u.m.NetworkModuleTokenTimeIsTooShort]="Token duration is too short.",t[u.m.NetworkModuleUserHasAlreadyLogged]="User has already logged in.",t[u.m.NetworkModuleUserIsNotLogged]="User is not logged in.",t[u.m.ConversationModuleCommonError]="Internal error in conversation.",t[u.m.ConversationModuleServerError]="Error in conversation service.",t[u.m.ConversationModuleConversationDoesNotExist]="Conversation does not exist.",t[u.m.MessageModuleCommonError]="Internal error sending message.",t[u.m.MessageModuleServerError]="Error sending message background service.",t[u.m.MessageModuleSendMessageFailed]="Message sending failed.",t[u.m.MessageModuleTargetDoesNotExist]="The message target does not exist.",t[u.m.MessageModuleFileNotExist]="File is not exist.",t[u.m.MessageModuleFileServerError]="File server internal error.",t[u.m.MessageModuleFileTypeUnsupported]="File type is not supported.",t[u.m.MessageModuleFileSizeInvalid]="File size is invalid.",t[u.m.MessageModuleFileDurationInvalid]="File duration is invalid.",t[u.m.MessageModuleAuditRejected]="Failed to pass security audit.",t[u.m.MessageModuleAuditFailed]="Security audit failed.",t[u.m.MessageModuleCallError]="Call invitation failed.",t[u.m.MessageModuleCancelCallError]="Failed to cancel call invitation.",t[u.m.MessageModuleCallServerError]="Failed to initiate call invitation service.",t[u.m.MessageModuleIsNotInvitor]="The non-initiator cancel the call invitation.",t[u.m.MessageModuleIsNotInvitee]="Uninvited users.",t[u.m.MessageModuleCallAlreadyExists]="CallID already exists.",t[u.m.MessageModuleCallDoesNotExist]="CallID does not exist.",t[u.m.MessageModuleReceiptReadError]="Receipt error.",t[u.m.MessageModuleMessageExceedsRevokeTime]="Revoke time is exceed.",t[u.m.MessageModuleMessageHasBeenRevoked]="The message has been revoked.",t[u.m.RoomModuleCommonError]="Internal error in room.",t[u.m.RoomModuleServerError]="Error in room service.",t[u.m.RoomModuleCreateRoomError]="Failed to create room.",t[u.m.RoomModuleJoinRoomError]="Failed to join room.",t[u.m.RoomModuleLeaveRoomError]="Failed to leave the room.",t[u.m.RoomModuleUserIsNotInTheRoom]="The user is not in the room.",t[u.m.RoomModuleTheRoomDoesNotExist]="Room does not exist.",t[u.m.RoomModuleTheRoomAlreadyExists]="Room already exist.",t[u.m.RoomModuleTheNumberOfExistingRoomsHasReachedLimit]="The maximum number of rooms can exist at the same time.",t[u.m.RoomModuleTheNumberOfJoinedRoomsHasReachedLimit]="The number of rooms a user can join at the same time has reached the upper limit.",t[u.m.RoomModuleRoomAttributesCommonError]="Internal error in room attributes.",t[u.m.RoomModuleRoomAttributesOperationFailedCompletely]="Failed to operate room attributes.",t[u.m.RoomModuleRoomAttributesQueryFailed]="Failed to query room attributes.",t[u.m.RoomModuleTheNumberOfRoomAttributesExceedsLimit]="The number of room attributes exceeds limit.",t[u.m.RoomModuleTheLengthOfRoomAttributeKeyExceedsLimit]="The key length of room attribute exceeds limit.",t[u.m.RoomModuleTheLengthOfRoomAttributeValueExceedsLimit]="The value length of room attribute exceeds limit.",t[u.m.RoomModuleTheTotalLengthOfRoomAttributesValueExceedsLimit]="The total value length of the room attributes exceeds limit.",t[u.m.RoomModuleRoomMemberAttributesCommonError]="Internal error in room member attributes.",t[u.m.RoomModuleTheTotalLengthOfRoomMemberAttributesExceedsLimit]="The total length of room member attributes exceeds limit.",t[u.m.RoomModuleTheLengthOfRoomMemberAttributesKeyExceedsLimit]="The key length of room member attribute exceeds limit.",t[u.m.RoomModuleTheLengthOfRoomMemberAttributesValueExceedsLimit]="The value length of room member attributes exceeds limit.",t[u.m.RoomModuleTheMemberNumberOfRoomMemberAttributesExceedsLimit]="The member number of room member attributes exceeds limit.",t[u.m.GroupModuleCommonError]="Internal error in group.",t[u.m.GroupModuleServerError]="Error in group service.",t[u.m.GroupModuleCreateGroupError]="Failed to create group.",t[u.m.GroupModuleDismissGroupError]="Failed to dismiss group.",t[u.m.GroupModuleJoinGroupError]="Failed to join group.",t[u.m.GroupModuleLeaveGroupError]="Failed to leave group.",t[u.m.GroupModuleKickoutGroupMemberError]="Failed to kick group member.",t[u.m.GroupModuleInviteUserIntoGroupError]="Failed to invite user to group.",t[u.m.GroupModuleTransferOwnerError]="Failed to transfer group owner.",t[u.m.GroupModuleUpdateGroupInfoError]="Failed to update group information.",t[u.m.GroupModuleQueryGroupInfoError]="Failed to query group information.",t[u.m.GroupModuleGroupAttributesOperationFailed]="Failed to operate group attributes.",t[u.m.GroupModuleGroupAttributesQueryFailed]="Failed to query group attributes.",t[u.m.GroupModuleUpdateGroupMemberInfoError]="Failed to update group member information.",t[u.m.GroupModuleQueryGroupMemberInfoError]="Failed to query group member information.",t[u.m.GroupModuleQueryGroupListError]="Failed to query group list.",t[u.m.GroupModuleQueryGroupMemberListError]="Failed to query group member list.",t[u.m.GroupModuleUserIsNotInTheGroup]="User is not in group.",t[u.m.GroupModuleMemberIsAlreadyInTheGroup]="User is already in the group.",t[u.m.GroupModuleGroupDoesNotExist]="Group does not exist.",t[u.m.GroupModuleGroupAlreadyExists]="Group already exists.",t[u.m.GroupModuleGroupMemberHasReachedLimit]="The group members have reached the limit.",t[u.m.GroupModuleGroupAttributeDoesNotExist]="Group attribute does not exist.",t[u.m.GroupModuleTheNumberOfGroupAttributesExceedsLimit]="The number of group attributes exceeds limit.",t[u.m.GroupModuleTheLengthOfGroupAttributeKeyExceedsLimit]="The key length of group attribute exceeds limit.",t[u.m.GroupModuleTheLengthOfGroupAttributeValueExceedsLimit]="The value length of group attribute exceeds limit.",t[u.m.GroupModuleTheTotalLengthOfGroupAttributesValueExceedsLimit]="The total value length of the group attributes exceeds limit.",t[u.m.GroupModuleNoCorrespondingOperationAuthority]="There is no operation permission for group-related interfaces.",t),v=function(y,o,n){return o=n&&n!=u.m.NetworkModuleNetworkError?(y=d(n)||y,"code: ".concat(n,", message: ").concat(o||c[y])):o||c[y],{code:y=n==u.m.NetworkModuleNetworkError?n:y,message:o}},g=function(y){return d(y)||y}},function(e,t,r){(function(d){e.exports=function u(c,v,g){function y(s,i){if(!v[s]){if(!c[s]){if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}a=v[s]={exports:{}},c[s][0].call(a.exports,function(m){return y(c[s][1][m]||m)},a,a.exports,u,c,v,g)}return v[s].exports}for(var o=!1,n=0;n<g.length;n++)y(g[n]);return y}({1:[function(u,c,v){(function(g){var y,o,n,s,i=g.MutationObserver||g.WebKitMutationObserver,a=i?(y=0,i=new i(f),o=g.document.createTextNode(""),i.observe(o,{characterData:!0}),function(){o.data=y=++y%2}):g.setImmediate||g.MessageChannel===void 0?"document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var b=g.document.createElement("script");b.onreadystatechange=function(){f(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},g.document.documentElement.appendChild(b)}:function(){setTimeout(f,0)}:((n=new g.MessageChannel).port1.onmessage=f,function(){n.port2.postMessage(0)}),m=[];function f(){s=!0;for(var b,C,_=m.length;_;){for(C=m,m=[],b=-1;++b<_;)C[b]();_=m.length}s=!1}c.exports=function(b){m.push(b)!==1||s||a()}}).call(this,d!==void 0?d:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(u,c,v){var g=u(1);function y(){}var o={},n=["REJECTED"],s=["FULFILLED"],i=["PENDING"];function a(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=i,this.queue=[],this.outcome=void 0,w!==y&&C(this,w)}function m(w,M,S){this.promise=w,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function f(w,M,S){g(function(){var I;try{I=M(S)}catch(x){return o.reject(w,x)}I===w?o.reject(w,new TypeError("Cannot resolve promise with itself")):o.resolve(w,I)})}function b(w){var M=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof M=="function")return function(){M.apply(w,arguments)}}function C(w,M){var S=!1;function I(D){S||(S=!0,o.reject(w,D))}function x(D){S||(S=!0,o.resolve(w,D))}var E=_(function(){M(x,I)});E.status==="error"&&I(E.value)}function _(w,M){var S={};try{S.value=w(M),S.status="success"}catch(I){S.status="error",S.value=I}return S}(c.exports=a).prototype.catch=function(w){return this.then(null,w)},a.prototype.then=function(w,M){if(typeof w!="function"&&this.state===s||typeof M!="function"&&this.state===n)return this;var S=new this.constructor(y);return this.state!==i?f(S,this.state===s?w:M,this.outcome):this.queue.push(new m(S,w,M)),S},m.prototype.callFulfilled=function(w){o.resolve(this.promise,w)},m.prototype.otherCallFulfilled=function(w){f(this.promise,this.onFulfilled,w)},m.prototype.callRejected=function(w){o.reject(this.promise,w)},m.prototype.otherCallRejected=function(w){f(this.promise,this.onRejected,w)},o.resolve=function(w,M){var S=_(b,M);if(S.status==="error")return o.reject(w,S.value);if(S=S.value)C(w,S);else{w.state=s,w.outcome=M;for(var I=-1,x=w.queue.length;++I<x;)w.queue[I].callFulfilled(M)}return w},o.reject=function(w,M){w.state=n,w.outcome=M;for(var S=-1,I=w.queue.length;++S<I;)w.queue[S].callRejected(M);return w},a.resolve=function(w){return w instanceof this?w:o.resolve(new this(y),w)},a.reject=function(w){var M=new this(y);return o.reject(M,w)},a.all=function(w){var M=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=w.length,I=!1;if(!S)return this.resolve([]);for(var x=new Array(S),E=0,D=-1,R=new this(y);++D<S;)(function(q,A){M.resolve(q).then(function(j){x[A]=j,++E!==S||I||(I=!0,o.resolve(R,x))},function(j){I||(I=!0,o.reject(R,j))})})(w[D],D);return R},a.race=function(w){var M=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=w.length,I=!1;if(!S)return this.resolve([]);for(var x=-1,E=new this(y);++x<S;)(function(D){M.resolve(D).then(function(R){I||(I=!0,o.resolve(E,R))},function(R){I||(I=!0,o.reject(E,R))})})(w[x]);return E}},{1:1}],3:[function(u,c,v){(function(g){typeof g.Promise!="function"&&(g.Promise=u(2))}).call(this,d!==void 0?d:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(u,c,v){var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},y=function(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}();function o(U,oe){U=U||[],oe=oe||{};try{return new Blob(U,oe)}catch(pe){if(pe.name!=="TypeError")throw pe;for(var te=new(typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder),ue=0;ue<U.length;ue+=1)te.append(U[ue]);return te.getBlob(oe.type)}}typeof Promise=="undefined"&&u(3);var n=Promise;function s(U,oe){oe&&U.then(function(te){oe(null,te)},function(te){oe(te)})}function i(U,oe,te){typeof oe=="function"&&U.then(oe),typeof te=="function"&&U.catch(te)}function a(U){return typeof U!="string"?String(U):U}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",b=void 0,C={},_=Object.prototype.toString,w="readonly",M="readwrite";function S(U){return typeof b=="boolean"?n.resolve(b):(oe=U,new n(function(te){var ue=oe.transaction(f,M),pe=o([""]);ue.objectStore(f).put(pe,"key"),ue.onabort=function(K){K.preventDefault(),K.stopPropagation(),te(!1)},ue.oncomplete=function(){var K=navigator.userAgent.match(/Chrome\/(\d+)/),ce=navigator.userAgent.match(/Edge\//);te(ce||!K||43<=parseInt(K[1],10))}}).catch(function(){return!1}).then(function(te){return b=te}));var oe}function I(U){U=C[U.name];var oe={};oe.promise=new n(function(te,ue){oe.resolve=te,oe.reject=ue}),U.deferredOperations.push(oe),U.dbReady?U.dbReady=U.dbReady.then(function(){return oe.promise}):U.dbReady=oe.promise}function x(U){(U=C[U.name].deferredOperations.pop())&&(U.resolve(),U.promise)}function E(U,oe){if(U=C[U.name].deferredOperations.pop())return U.reject(oe),U.promise}function D(U,oe){return new n(function(te,ue){if(C[U.name]=C[U.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},U.db){if(!oe)return te(U.db);I(U),U.db.close()}var pe=[U.name],K=(oe&&pe.push(U.version),y.open.apply(y,pe));oe&&(K.onupgradeneeded=function(ce){var me=K.result;try{me.createObjectStore(U.storeName),ce.oldVersion<=1&&me.createObjectStore(f)}catch(be){if(be.name!=="ConstraintError")throw be}}),K.onerror=function(ce){ce.preventDefault(),ue(K.error)},K.onsuccess=function(){var ce=K.result;ce.onversionchange=function(me){me.target.close()},te(ce),x(U)}})}function R(U){return D(U,!1)}function q(U){return D(U,!0)}function A(U){if(!U.db)return 1;var oe=!U.db.objectStoreNames.contains(U.storeName),te=U.version<U.db.version,ue=U.version>U.db.version;return te&&(U.version,U.version=U.db.version),(ue||oe)&&(oe&&(te=U.db.version+1)>U.version&&(U.version=te),1)}function j(U){return o([function(oe){for(var te=oe.length,ue=new ArrayBuffer(te),pe=new Uint8Array(ue),K=0;K<te;K++)pe[K]=oe.charCodeAt(K);return ue}(atob(U.data))],{type:U.type})}function H(U){return U&&U.__local_forage_encoded_blob}function W(U){var oe=this,te=oe._initReady().then(function(){var ue=C[oe._dbInfo.name];if(ue&&ue.dbReady)return ue.dbReady});return i(te,U,U),te}function X(U,oe,te,ue){ue===void 0&&(ue=1);try{var pe=U.db.transaction(U.storeName,oe);te(null,pe)}catch(K){if(0<ue&&(!U.db||K.name==="InvalidStateError"||K.name==="NotFoundError"))return n.resolve().then(function(){if(!U.db||K.name==="NotFoundError"&&!U.db.objectStoreNames.contains(U.storeName)&&U.version<=U.db.version)return U.db&&(U.version=U.db.version+1),q(U)}).then(function(){return function(ce){I(ce);for(var me=C[ce.name],be=me.forages,Me=0;Me<be.length;Me++){var Oe=be[Me];Oe._dbInfo.db&&(Oe._dbInfo.db.close(),Oe._dbInfo.db=null)}return ce.db=null,R(ce).then(function(Re){return ce.db=Re,A(ce)?q(ce):Re}).then(function(Re){ce.db=me.db=Re;for(var Te=0;Te<be.length;Te++)be[Te]._dbInfo.db=Re}).catch(function(Re){throw E(ce,Re),Re})}(U).then(function(){X(U,oe,te,ue-1)})}).catch(te);te(K)}}u={_driver:"asyncStorage",_initStorage:function(U){var oe=this,te={db:null};if(U)for(var ue in U)te[ue]=U[ue];var pe=C[te.name],K=(pe||(pe={forages:[],db:null,dbReady:null,deferredOperations:[]},C[te.name]=pe),pe.forages.push(oe),oe._initReady||(oe._initReady=oe.ready,oe.ready=W),[]);function ce(){return n.resolve()}for(var me=0;me<pe.forages.length;me++){var be=pe.forages[me];be!==oe&&K.push(be._initReady().catch(ce))}var Me=pe.forages.slice(0);return n.all(K).then(function(){return te.db=pe.db,R(te)}).then(function(Oe){return te.db=Oe,A(te,oe._defaultConfig.version)?q(te):Oe}).then(function(Oe){te.db=pe.db=Oe,oe._dbInfo=te;for(var Re=0;Re<Me.length;Re++){var Te=Me[Re];Te!==oe&&(Te._dbInfo.db=te.db,Te._dbInfo.version=te.version)}})},_support:function(){try{if(!y||!y.open)return!1;var U=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),oe=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!U||oe)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}(),iterate:function(U,oe){var te=this,ue=new n(function(pe,K){te.ready().then(function(){X(te._dbInfo,w,function(ce,me){if(ce)return K(ce);try{var be=me.objectStore(te._dbInfo.storeName).openCursor(),Me=1;be.onsuccess=function(){var Oe,Re=be.result;Re?(H(Oe=Re.value)&&(Oe=j(Oe)),(Oe=U(Oe,Re.key,Me++))!==void 0?pe(Oe):Re.continue()):pe()},be.onerror=function(){K(be.error)}}catch(Oe){K(Oe)}})}).catch(K)});return s(ue,oe),ue},getItem:function(U,oe){var te=this,ue=(U=a(U),new n(function(pe,K){te.ready().then(function(){X(te._dbInfo,w,function(ce,me){if(ce)return K(ce);try{var be=me.objectStore(te._dbInfo.storeName).get(U);be.onsuccess=function(){var Me=be.result;H(Me=Me===void 0?null:Me)&&(Me=j(Me)),pe(Me)},be.onerror=function(){K(be.error)}}catch(Me){K(Me)}})}).catch(K)}));return s(ue,oe),ue},setItem:function(U,oe,te){var ue=this,pe=(U=a(U),new n(function(K,ce){var me;ue.ready().then(function(){return me=ue._dbInfo,_.call(oe)==="[object Blob]"?S(me.db).then(function(be){return be?oe:(Me=oe,new n(function(Oe,Re){var Te=new FileReader;Te.onerror=Re,Te.onloadend=function(qe){qe=btoa(qe.target.result||""),Oe({__local_forage_encoded_blob:!0,data:qe,type:Me.type})},Te.readAsBinaryString(Me)}));var Me}):oe}).then(function(be){X(ue._dbInfo,M,function(Me,Oe){if(Me)return ce(Me);try{var Re=Oe.objectStore(ue._dbInfo.storeName),Te=(be===null&&(be=void 0),Re.put(be,U));Oe.oncomplete=function(){K(be=be===void 0?null:be)},Oe.onabort=Oe.onerror=function(){var qe=Te.error||Te.transaction.error;ce(qe)}}catch(qe){ce(qe)}})}).catch(ce)}));return s(pe,te),pe},removeItem:function(U,oe){var te=this,ue=(U=a(U),new n(function(pe,K){te.ready().then(function(){X(te._dbInfo,M,function(ce,me){if(ce)return K(ce);try{var be=me.objectStore(te._dbInfo.storeName).delete(U);me.oncomplete=function(){pe()},me.onerror=function(){K(be.error)},me.onabort=function(){var Me=be.error||be.transaction.error;K(Me)}}catch(Me){K(Me)}})}).catch(K)}));return s(ue,oe),ue},clear:function(U){var oe=this,te=new n(function(ue,pe){oe.ready().then(function(){X(oe._dbInfo,M,function(K,ce){if(K)return pe(K);try{var me=ce.objectStore(oe._dbInfo.storeName).clear();ce.oncomplete=function(){ue()},ce.onabort=ce.onerror=function(){var be=me.error||me.transaction.error;pe(be)}}catch(be){pe(be)}})}).catch(pe)});return s(te,U),te},length:function(U){var oe=this,te=new n(function(ue,pe){oe.ready().then(function(){X(oe._dbInfo,w,function(K,ce){if(K)return pe(K);try{var me=ce.objectStore(oe._dbInfo.storeName).count();me.onsuccess=function(){ue(me.result)},me.onerror=function(){pe(me.error)}}catch(be){pe(be)}})}).catch(pe)});return s(te,U),te},key:function(U,oe){var te=this,ue=new n(function(pe,K){U<0?pe(null):te.ready().then(function(){X(te._dbInfo,w,function(ce,me){if(ce)return K(ce);try{var be=me.objectStore(te._dbInfo.storeName),Me=!1,Oe=be.openKeyCursor();Oe.onsuccess=function(){var Re=Oe.result;Re?U===0||Me?pe(Re.key):(Me=!0,Re.advance(U)):pe(null)},Oe.onerror=function(){K(Oe.error)}}catch(Re){K(Re)}})}).catch(K)});return s(ue,oe),ue},keys:function(U){var oe=this,te=new n(function(ue,pe){oe.ready().then(function(){X(oe._dbInfo,w,function(K,ce){if(K)return pe(K);try{var me=ce.objectStore(oe._dbInfo.storeName).openKeyCursor(),be=[];me.onsuccess=function(){var Me=me.result;Me?(be.push(Me.key),Me.continue()):ue(be)},me.onerror=function(){pe(me.error)}}catch(Me){pe(Me)}})}).catch(pe)});return s(te,U),te},dropInstance:function(U,oe){oe=m.apply(this,arguments);var te=this.config();return(U=typeof U!="function"&&U||{}).name||(U.name=U.name||te.name,U.storeName=U.storeName||te.storeName),s(te=U.name?(te=U.name===te.name&&this._dbInfo.db?n.resolve(this._dbInfo.db):R(U).then(function(ue){var pe=C[U.name],K=pe.forages;pe.db=ue;for(var ce=0;ce<K.length;ce++)K[ce]._dbInfo.db=ue;return ue}),U.storeName?te.then(function(ue){if(ue.objectStoreNames.contains(U.storeName)){var pe=ue.version+1,K=(I(U),C[U.name]),ce=K.forages;ue.close();for(var me=0;me<ce.length;me++){var be=ce[me];be._dbInfo.db=null,be._dbInfo.version=pe}return new n(function(Me,Oe){var Re=y.open(U.name,pe);Re.onerror=function(Te){Re.result.close(),Oe(Te)},Re.onupgradeneeded=function(){Re.result.deleteObjectStore(U.storeName)},Re.onsuccess=function(){var Te=Re.result;Te.close(),Me(Te)}}).then(function(Me){K.db=Me;for(var Oe=0;Oe<ce.length;Oe++){var Re=ce[Oe];Re._dbInfo.db=Me,x(Re._dbInfo)}}).catch(function(Me){throw(E(U,Me)||n.resolve()).catch(function(){}),Me})}}):te.then(function(ue){I(U);var pe=C[U.name],K=pe.forages;ue.close();for(var ce=0;ce<K.length;ce++)K[ce]._dbInfo.db=null;return new n(function(me,be){var Me=y.deleteDatabase(U.name);Me.onerror=function(){var Oe=Me.result;Oe&&Oe.close(),be(Me.error)},Me.onblocked=function(){},Me.onsuccess=function(){var Oe=Me.result;Oe&&Oe.close(),me(Oe)}}).then(function(me){pe.db=me;for(var be=0;be<K.length;be++)x(K[be]._dbInfo)}).catch(function(me){throw(E(U,me)||n.resolve()).catch(function(){}),me})})):n.reject("Invalid arguments"),oe),te}};var ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ae=/^~~local_forage_type~([^~]+)~/,N="__lfsc__:",k=N.length,L="arbf",$="blob",B=k+L.length,G=Object.prototype.toString;function Z(U){for(var oe,te,ue,pe,K=.75*U.length,ce=U.length,me=0,be=(K=(U[U.length-1]==="="&&(K--,U[U.length-2]==="="&&K--),new ArrayBuffer(K)),new Uint8Array(K)),Me=0;Me<ce;Me+=4)oe=ee.indexOf(U[Me]),te=ee.indexOf(U[Me+1]),ue=ee.indexOf(U[Me+2]),pe=ee.indexOf(U[Me+3]),be[me++]=oe<<2|te>>4,be[me++]=(15&te)<<4|ue>>2,be[me++]=(3&ue)<<6|63&pe;return K}function re(U){for(var oe=new Uint8Array(U),te="",ue=0;ue<oe.length;ue+=3)te=(te=(te=(te+=ee[oe[ue]>>2])+ee[(3&oe[ue])<<4|oe[ue+1]>>4])+ee[(15&oe[ue+1])<<2|oe[ue+2]>>6])+ee[63&oe[ue+2]];return oe.length%3==2?te=te.substring(0,te.length-1)+"=":oe.length%3==1&&(te=te.substring(0,te.length-2)+"=="),te}var z={serialize:function(U,oe){var te="";if(U&&(te=G.call(U)),U&&(te==="[object ArrayBuffer]"||U.buffer&&G.call(U.buffer)==="[object ArrayBuffer]")){var ue,pe=N;U instanceof ArrayBuffer?(ue=U,pe+=L):(ue=U.buffer,te==="[object Int8Array]"?pe+="si08":te==="[object Uint8Array]"?pe+="ui08":te==="[object Uint8ClampedArray]"?pe+="uic8":te==="[object Int16Array]"?pe+="si16":te==="[object Uint16Array]"?pe+="ur16":te==="[object Int32Array]"?pe+="si32":te==="[object Uint32Array]"?pe+="ui32":te==="[object Float32Array]"?pe+="fl32":te==="[object Float64Array]"?pe+="fl64":oe(new Error("Failed to get type for BinaryArray"))),oe(pe+re(ue))}else if(te==="[object Blob]")(pe=new FileReader).onload=function(){var K="~~local_forage_type~"+U.type+"~"+re(this.result);oe(N+$+K)},pe.readAsArrayBuffer(U);else try{oe(JSON.stringify(U))}catch(K){oe(null,K)}},deserialize:function(U){if(U.substring(0,k)!==N)return JSON.parse(U);var oe,te=U.substring(B),ue=U.substring(k,B),pe=(ue===$&&ae.test(te)&&(oe=(U=te.match(ae))[1],te=te.substring(U[0].length)),Z(te));switch(ue){case L:return pe;case $:return o([pe],{type:oe});case"si08":return new Int8Array(pe);case"ui08":return new Uint8Array(pe);case"uic8":return new Uint8ClampedArray(pe);case"si16":return new Int16Array(pe);case"ur16":return new Uint16Array(pe);case"si32":return new Int32Array(pe);case"ui32":return new Uint32Array(pe);case"fl32":return new Float32Array(pe);case"fl64":return new Float64Array(pe);default:throw new Error("Unkown type: "+ue)}},stringToBuffer:Z,bufferToString:re};function ie(U,oe,te,ue){U.executeSql("CREATE TABLE IF NOT EXISTS "+oe.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],te,ue)}function se(U,oe,te,ue,pe,K){U.executeSql(te,ue,pe,function(ce,me){me.code===me.SYNTAX_ERR?ce.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[oe.storeName],function(be,Me){Me.rows.length?K(be,me):ie(be,oe,function(){be.executeSql(te,ue,pe,K)},K)},K):K(ce,me)},K)}function Ce(U,oe,te,ue){var pe=this,K=(U=a(U),new n(function(ce,me){pe.ready().then(function(){var be=oe=oe===void 0?null:oe,Me=pe._dbInfo;Me.serializer.serialize(oe,function(Oe,Re){Re?me(Re):Me.db.transaction(function(Te){se(Te,Me,"INSERT OR REPLACE INTO "+Me.storeName+" (key, value) VALUES (?, ?)",[U,Oe],function(){ce(be)},function(qe,$e){me($e)})},function(Te){Te.code===Te.QUOTA_ERR&&(0<ue?ce(Ce.apply(pe,[U,be,te,ue-1])):me(Te))})})}).catch(me)}));return s(K,te),K}var Se={_driver:"webSQLStorage",_initStorage:function(U){var oe=this,te={db:null};if(U)for(var ue in U)te[ue]=typeof U[ue]!="string"?U[ue].toString():U[ue];var pe=new n(function(K,ce){try{te.db=openDatabase(te.name,String(te.version),te.description,te.size)}catch(me){return ce(me)}te.db.transaction(function(me){ie(me,te,function(){oe._dbInfo=te,K()},function(be,Me){ce(Me)})},ce)});return te.serializer=z,pe},_support:typeof openDatabase=="function",iterate:function(U,oe){var te=this,ue=new n(function(pe,K){te.ready().then(function(){var ce=te._dbInfo;ce.db.transaction(function(me){se(me,ce,"SELECT * FROM "+ce.storeName,[],function(be,Me){for(var Oe=Me.rows,Re=Oe.length,Te=0;Te<Re;Te++){var qe=Oe.item(Te),$e=($e=qe.value)&&ce.serializer.deserialize($e);if(($e=U($e,qe.key,Te+1))!==void 0)return void pe($e)}pe()},function(be,Me){K(Me)})})}).catch(K)});return s(ue,oe),ue},getItem:function(U,oe){var te=this,ue=(U=a(U),new n(function(pe,K){te.ready().then(function(){var ce=te._dbInfo;ce.db.transaction(function(me){se(me,ce,"SELECT * FROM "+ce.storeName+" WHERE key = ? LIMIT 1",[U],function(be,Me){Me=(Me=Me.rows.length?Me.rows.item(0).value:null)&&ce.serializer.deserialize(Me),pe(Me)},function(be,Me){K(Me)})})}).catch(K)}));return s(ue,oe),ue},setItem:function(U,oe,te){return Ce.apply(this,[U,oe,te,1])},removeItem:function(U,oe){var te=this,ue=(U=a(U),new n(function(pe,K){te.ready().then(function(){var ce=te._dbInfo;ce.db.transaction(function(me){se(me,ce,"DELETE FROM "+ce.storeName+" WHERE key = ?",[U],function(){pe()},function(be,Me){K(Me)})})}).catch(K)}));return s(ue,oe),ue},clear:function(U){var oe=this,te=new n(function(ue,pe){oe.ready().then(function(){var K=oe._dbInfo;K.db.transaction(function(ce){se(ce,K,"DELETE FROM "+K.storeName,[],function(){ue()},function(me,be){pe(be)})})}).catch(pe)});return s(te,U),te},length:function(U){var oe=this,te=new n(function(ue,pe){oe.ready().then(function(){var K=oe._dbInfo;K.db.transaction(function(ce){se(ce,K,"SELECT COUNT(key) as c FROM "+K.storeName,[],function(me,be){be=be.rows.item(0).c,ue(be)},function(me,be){pe(be)})})}).catch(pe)});return s(te,U),te},key:function(U,oe){var te=this,ue=new n(function(pe,K){te.ready().then(function(){var ce=te._dbInfo;ce.db.transaction(function(me){se(me,ce,"SELECT key FROM "+ce.storeName+" WHERE id = ? LIMIT 1",[U+1],function(be,Me){Me=Me.rows.length?Me.rows.item(0).key:null,pe(Me)},function(be,Me){K(Me)})})}).catch(K)});return s(ue,oe),ue},keys:function(U){var oe=this,te=new n(function(ue,pe){oe.ready().then(function(){var K=oe._dbInfo;K.db.transaction(function(ce){se(ce,K,"SELECT key FROM "+K.storeName,[],function(me,be){for(var Me=[],Oe=0;Oe<be.rows.length;Oe++)Me.push(be.rows.item(Oe).key);ue(Me)},function(me,be){pe(be)})})}).catch(pe)});return s(te,U),te},dropInstance:function(U,oe){oe=m.apply(this,arguments);var te=this.config(),ue=((U=typeof U!="function"&&U||{}).name||(U.name=U.name||te.name,U.storeName=U.storeName||te.storeName),this),pe=U.name?new n(function(K){var ce,me=U.name===te.name?ue._dbInfo.db:openDatabase(U.name,"","",0);U.storeName?K({db:me,storeNames:[U.storeName]}):K((ce=me,new n(function(be,Me){ce.transaction(function(Oe){Oe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Re,Te){for(var qe=[],$e=0;$e<Te.rows.length;$e++)qe.push(Te.rows.item($e).name);be({db:ce,storeNames:qe})},function(Re,Te){Me(Te)})},function(Oe){Me(Oe)})})))}).then(function(K){return new n(function(ce,me){K.db.transaction(function(be){for(var Me=[],Oe=0,Re=K.storeNames.length;Oe<Re;Oe++)Me.push(function(Te){return new n(function(qe,$e){be.executeSql("DROP TABLE IF EXISTS "+Te,[],function(){qe()},function(Pe,je){$e(je)})})}(K.storeNames[Oe]));n.all(Me).then(function(){ce()}).catch(function(Te){me(Te)})},function(be){me(be)})})}):n.reject("Invalid arguments");return s(pe,oe),pe}};function F(U,oe){var te=U.name+"/";return U.storeName!==oe.storeName&&(te+=U.storeName+"/"),te}function J(U,oe){for(var te,ue,pe=U.length,K=0;K<pe;){if((te=U[K])===(ue=oe)||typeof te=="number"&&typeof ue=="number"&&isNaN(te)&&isNaN(ue))return 1;K++}}var he={_driver:"localStorageWrapper",_initStorage:function(U){var oe={};if(U)for(var te in U)oe[te]=U[te];return oe.keyPrefix=F(U,this._defaultConfig),!function(){var ue="_localforage_support_test";try{return localStorage.setItem(ue,!0),localStorage.removeItem(ue),0}catch{return 1}}()||0<localStorage.length?((this._dbInfo=oe).serializer=z,n.resolve()):n.reject()},_support:function(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function(U,oe){var te=this,ue=te.ready().then(function(){for(var pe=te._dbInfo,K=pe.keyPrefix,ce=K.length,me=localStorage.length,be=1,Me=0;Me<me;Me++){var Oe=localStorage.key(Me);if(Oe.indexOf(K)===0){var Re=(Re=localStorage.getItem(Oe))&&pe.serializer.deserialize(Re);if((Re=U(Re,Oe.substring(ce),be++))!==void 0)return Re}}});return s(ue,oe),ue},getItem:function(U,oe){var te=this,ue=(U=a(U),te.ready().then(function(){var pe=te._dbInfo,K=localStorage.getItem(pe.keyPrefix+U);return K&&pe.serializer.deserialize(K)}));return s(ue,oe),ue},setItem:function(U,oe,te){var ue=this,pe=(U=a(U),ue.ready().then(function(){var K=oe=oe===void 0?null:oe;return new n(function(ce,me){var be=ue._dbInfo;be.serializer.serialize(oe,function(Me,Oe){if(Oe)me(Oe);else try{localStorage.setItem(be.keyPrefix+U,Me),ce(K)}catch(Re){Re.name!=="QuotaExceededError"&&Re.name!=="NS_ERROR_DOM_QUOTA_REACHED"||me(Re),me(Re)}})})}));return s(pe,te),pe},removeItem:function(U,oe){var te=this,ue=(U=a(U),te.ready().then(function(){var pe=te._dbInfo;localStorage.removeItem(pe.keyPrefix+U)}));return s(ue,oe),ue},clear:function(U){var oe=this,te=oe.ready().then(function(){for(var ue=oe._dbInfo.keyPrefix,pe=localStorage.length-1;0<=pe;pe--){var K=localStorage.key(pe);K.indexOf(ue)===0&&localStorage.removeItem(K)}});return s(te,U),te},length:function(U){var oe=this.keys().then(function(te){return te.length});return s(oe,U),oe},key:function(U,oe){var te=this,ue=te.ready().then(function(){var pe,K=te._dbInfo;try{pe=localStorage.key(U)}catch{pe=null}return pe&&pe.substring(K.keyPrefix.length)});return s(ue,oe),ue},keys:function(U){var oe=this,te=oe.ready().then(function(){for(var ue=oe._dbInfo,pe=localStorage.length,K=[],ce=0;ce<pe;ce++){var me=localStorage.key(ce);me.indexOf(ue.keyPrefix)===0&&K.push(me.substring(ue.keyPrefix.length))}return K});return s(te,U),te},dropInstance:function(U,oe){oe=m.apply(this,arguments),(U=typeof U!="function"&&U||{}).name||(ue=this.config(),U.name=U.name||ue.name,U.storeName=U.storeName||ue.storeName);var te=this,ue=U.name?new n(function(pe){U.storeName?pe(F(U,te._defaultConfig)):pe(U.name+"/")}).then(function(pe){for(var K=localStorage.length-1;0<=K;K--){var ce=localStorage.key(K);ce.indexOf(pe)===0&&localStorage.removeItem(ce)}}):n.reject("Invalid arguments");return s(ue,oe),ue}},de=Array.isArray||function(U){return Object.prototype.toString.call(U)==="[object Array]"},ge={},_e={},fe={INDEXEDDB:u,WEBSQL:Se,LOCALSTORAGE:he},we=(u=[fe.INDEXEDDB._driver,fe.WEBSQL._driver,fe.LOCALSTORAGE._driver],["dropInstance"]),ke=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(we),Ie={description:"",driver:u.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function De(U){for(var oe=1;oe<arguments.length;oe++){var te=arguments[oe];if(te)for(var ue in te)te.hasOwnProperty(ue)&&(de(te[ue])?U[ue]=te[ue].slice():U[ue]=te[ue])}return U}function Ee(U){var oe,te,ue;if(!(this instanceof Ee))throw new TypeError("Cannot call a class as a function");for(oe in fe)fe.hasOwnProperty(oe)&&(ue=(te=fe[oe])._driver,this[oe]=ue,ge[ue]||this.defineDriver(te));this._defaultConfig=De({},Ie),this._config=De({},this._defaultConfig,U),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}Ee.prototype.config=function(U){if((U===void 0?"undefined":g(U))!=="object")return typeof U=="string"?this._config[U]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var oe in U){if(oe==="storeName"&&(U[oe]=U[oe].replace(/\W/g,"_")),oe==="version"&&typeof U[oe]!="number")return new Error("Database version must be a number.");this._config[oe]=U[oe]}return!("driver"in U&&U.driver)||this.setDriver(this._config.driver)},Ee.prototype.defineDriver=function(U,oe,te){var ue=new n(function(pe,K){try{var ce=U._driver,me=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!U._driver)return void K(me);for(var be=ke.concat("_initStorage"),Me=0,Oe=be.length;Me<Oe;Me++){var Re=be[Me];if((!J(we,Re)||U[Re])&&typeof U[Re]!="function")return void K(me)}for(var Te=0,qe=we.length;Te<qe;Te++){var $e=we[Te];U[$e]||(U[$e]=function(je){return function(){var We=new Error("Method "+je+" is not implemented by the current driver");return s(We=n.reject(We),arguments[arguments.length-1]),We}}($e))}var Pe=function(je){ge[ce],ge[ce]=U,_e[ce]=je,pe()};"_support"in U?U._support&&typeof U._support=="function"?U._support().then(Pe,K):Pe(!!U._support):Pe(!0)}catch(je){K(je)}});return i(ue,oe,te),ue},Ee.prototype.driver=function(){return this._driver||null},Ee.prototype.getDriver=function(U,oe,te){return i(U=ge[U]?n.resolve(ge[U]):n.reject(new Error("Driver not found.")),oe,te),U},Ee.prototype.getSerializer=function(U){var oe=n.resolve(z);return i(oe,U),oe},Ee.prototype.ready=function(U){var oe=this,te=oe._driverSet.then(function(){return oe._ready===null&&(oe._ready=oe._initDriver()),oe._ready});return i(te,U,U),te},Ee.prototype.setDriver=function(U,oe,te){var ue=this,pe=(de(U)||(U=[U]),this._getSupportedDrivers(U));function K(){ue._config.driver=ue.driver()}function ce(me){return ue._extend(me),K(),ue._ready=ue._initStorage(ue._config),ue._ready}return U=this._driverSet!==null?this._driverSet.catch(function(){return n.resolve()}):n.resolve(),this._driverSet=U.then(function(){var me=pe[0];return ue._dbInfo=null,ue._ready=null,ue.getDriver(me).then(function(be){ue._driver=be._driver,K(),ue._wrapLibraryMethodsWithReady(),ue._initDriver=function(Me){return function(){var Oe=0;return function Re(){for(;Oe<Me.length;){var Te=Me[Oe];return Oe++,ue._dbInfo=null,ue._ready=null,ue.getDriver(Te).then(ce).catch(Re)}K();var qe=new Error("No available storage method found.");return ue._driverSet=n.reject(qe),ue._driverSet}()}}(pe)})}).catch(function(){K();var me=new Error("No available storage method found.");return ue._driverSet=n.reject(me),ue._driverSet}),i(this._driverSet,oe,te),this._driverSet},Ee.prototype.supports=function(U){return!!_e[U]},Ee.prototype._extend=function(U){De(this,U)},Ee.prototype._getSupportedDrivers=function(U){for(var oe=[],te=0,ue=U.length;te<ue;te++){var pe=U[te];this.supports(pe)&&oe.push(pe)}return oe},Ee.prototype._wrapLibraryMethodsWithReady=function(){for(var U=0,oe=ke.length;U<oe;U++)(function(te,ue){te[ue]=function(){var pe=arguments;return te.ready().then(function(){return te[ue].apply(te,pe)})}})(this,ke[U])},Ee.prototype.createInstance=function(U){return new Ee(U)},Se=new Ee,c.exports=Se},{3:3}]},{},[4])(4)}).call(this,r(11))},function(e,t,r){e.exports=r(7).enc.Hex},function(e,t,r){e.exports=r(7).enc.Utf8},function(e,t,r){r.d(t,"a",function(){return u}),r.d(t,"b",function(){return s});var d=r(21),u=(c.prototype.toString=function(_){if(this.s<0)return"-"+this.negate().toString(_);var w;if(_==16)w=4;else if(_==8)w=3;else if(_==2)w=1;else if(_==32)w=5;else{if(_!=4)return this.toRadix(_);w=2}var M,S=(1<<w)-1,I=!1,x="",E=this.t,D=this.DB-E*this.DB%w;if(0<E--)for(D<this.DB&&0<(M=this[E]>>D)&&(I=!0,x=Object(d.a)(M));0<=E;)D<w?(M=(this[E]&(1<<D)-1)<<w-D,M|=this[--E]>>(D+=this.DB-w)):(M=this[E]>>(D-=w)&S,D<=0&&(D+=this.DB,--E)),(I=0<M||I)&&(x+=Object(d.a)(M));return I?x:"0"},c.prototype.negate=function(){var _=n();return c.ZERO.subTo(this,_),_},c.prototype.abs=function(){return this.s<0?this.negate():this},c.prototype.compareTo=function(_){var w=this.s-_.s;if(w!=0)return w;var M=this.t;if((w=M-_.t)!=0)return this.s<0?-w:w;for(;0<=--M;)if((w=this[M]-_[M])!=0)return w;return 0},c.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+C(this[this.t-1]^this.s&this.DM)},c.prototype.mod=function(_){var w=n();return this.abs().divRemTo(_,null,w),this.s<0&&0<w.compareTo(c.ZERO)&&_.subTo(w,w),w},c.prototype.modPowInt=function(_,w){return w=new(_<256||w.isEven()?v:y)(w),this.exp(_,w)},c.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},c.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},c.prototype.copyTo=function(_){for(var w=this.t-1;0<=w;--w)_[w]=this[w];_.t=this.t,_.s=this.s},c.prototype.fromInt=function(_){this.t=1,this.s=_<0?-1:0,0<_?this[0]=_:_<-1?this[0]=_+this.DV:this.t=0},c.prototype.fromString=function(_,w){var M;if(w==16)M=4;else if(w==8)M=3;else if(w==256)M=8;else if(w==2)M=1;else if(w==32)M=5;else{if(w!=4)return void this.fromRadix(_,w);M=2}this.t=0,this.s=0;for(var S=_.length,I=!1,x=0;0<=--S;){var E=M==8?255&+_[S]:f(_,S);E<0?_.charAt(S)=="-"&&(I=!0):(I=!1,x==0?this[this.t++]=E:x+M>this.DB?(this[this.t-1]|=(E&(1<<this.DB-x)-1)<<x,this[this.t++]=E>>this.DB-x):this[this.t-1]|=E<<x,(x+=M)>=this.DB&&(x-=this.DB))}M==8&&(128&+_[0])!=0&&(this.s=-1,0<x&&(this[this.t-1]|=(1<<this.DB-x)-1<<x)),this.clamp(),I&&c.ZERO.subTo(this,this)},c.prototype.clamp=function(){for(var _=this.s&this.DM;0<this.t&&this[this.t-1]==_;)--this.t},c.prototype.dlShiftTo=function(_,w){for(var M=this.t-1;0<=M;--M)w[M+_]=this[M];for(M=_-1;0<=M;--M)w[M]=0;w.t=this.t+_,w.s=this.s},c.prototype.drShiftTo=function(_,w){for(var M=_;M<this.t;++M)w[M-_]=this[M];w.t=Math.max(this.t-_,0),w.s=this.s},c.prototype.lShiftTo=function(_,w){for(var M=_%this.DB,S=this.DB-M,I=(1<<S)-1,x=Math.floor(_/this.DB),E=this.s<<M&this.DM,D=this.t-1;0<=D;--D)w[D+x+1]=this[D]>>S|E,E=(this[D]&I)<<M;for(D=x-1;0<=D;--D)w[D]=0;w[x]=E,w.t=this.t+x+1,w.s=this.s,w.clamp()},c.prototype.rShiftTo=function(_,w){w.s=this.s;var M=Math.floor(_/this.DB);if(M>=this.t)w.t=0;else{var S=_%this.DB,I=this.DB-S,x=(1<<S)-1;w[0]=this[M]>>S;for(var E=M+1;E<this.t;++E)w[E-M-1]|=(this[E]&x)<<I,w[E-M]=this[E]>>S;0<S&&(w[this.t-M-1]|=(this.s&x)<<I),w.t=this.t-M,w.clamp()}},c.prototype.subTo=function(_,w){for(var M=0,S=0,I=Math.min(_.t,this.t);M<I;)S+=this[M]-_[M],w[M++]=S&this.DM,S>>=this.DB;if(_.t<this.t){for(S-=_.s;M<this.t;)S+=this[M],w[M++]=S&this.DM,S>>=this.DB;S+=this.s}else{for(S+=this.s;M<_.t;)S-=_[M],w[M++]=S&this.DM,S>>=this.DB;S-=_.s}w.s=S<0?-1:0,S<-1?w[M++]=this.DV+S:0<S&&(w[M++]=S),w.t=M,w.clamp()},c.prototype.multiplyTo=function(_,w){var M=this.abs(),S=_.abs(),I=M.t;for(w.t=I+S.t;0<=--I;)w[I]=0;for(I=0;I<S.t;++I)w[I+M.t]=M.am(0,S[I],w,I,0,M.t);w.s=0,w.clamp(),this.s!=_.s&&c.ZERO.subTo(w,w)},c.prototype.squareTo=function(_){for(var w=this.abs(),M=_.t=2*w.t;0<=--M;)_[M]=0;for(M=0;M<w.t-1;++M){var S=w.am(M,w[M],_,2*M,0,1);(_[M+w.t]+=w.am(M+1,2*w[M],_,2*M+1,S,w.t-M-1))>=w.DV&&(_[M+w.t]-=w.DV,_[M+w.t+1]=1)}0<_.t&&(_[_.t-1]+=w.am(M,w[M],_,2*M,0,1)),_.s=0,_.clamp()},c.prototype.divRemTo=function(_,w,M){if(!((q=_.abs()).t<=0)){var S=this.abs();if(S.t<q.t)return w!=null&&w.fromInt(0),void(M!=null&&this.copyTo(M));M==null&&(M=n());var I=n(),x=this.s,E=(_=_.s,this.DB-C(q[q.t-1])),D=(0<E?(q.lShiftTo(E,I),S.lShiftTo(E,M)):(q.copyTo(I),S.copyTo(M)),I.t),R=I[D-1];if(R!=0){var q=R*(1<<this.F1)+(1<D?I[D-2]>>this.F2:0),A=this.FV/q,j=(1<<this.F1)/q,H=1<<this.F2,W=M.t,X=W-D,ee=w==null?n():w;for(I.dlShiftTo(X,ee),0<=M.compareTo(ee)&&(M[M.t++]=1,M.subTo(ee,M)),c.ONE.dlShiftTo(D,ee),ee.subTo(I,I);I.t<D;)I[I.t++]=0;for(;0<=--X;){var ae=M[--W]==R?this.DM:Math.floor(M[W]*A+(M[W-1]+H)*j);if((M[W]+=I.am(0,ae,M,X,0,D))<ae)for(I.dlShiftTo(X,ee),M.subTo(ee,M);M[W]<--ae;)M.subTo(ee,M)}w!=null&&(M.drShiftTo(D,w),x!=_&&c.ZERO.subTo(w,w)),M.t=D,M.clamp(),0<E&&M.rShiftTo(E,M),x<0&&c.ZERO.subTo(M,M)}}},c.prototype.invDigit=function(){if(this.t<1)return 0;var _=this[0];if((1&_)==0)return 0;var w=3&_;return 0<(w=(w=(w=(w=w*(2-(15&_)*w)&15)*(2-(255&_)*w)&255)*(2-((65535&_)*w&65535))&65535)*(2-_*w%this.DV)%this.DV)?this.DV-w:-w},c.prototype.isEven=function(){return(0<this.t?1&this[0]:this.s)==0},c.prototype.exp=function(_,w){if(4294967295<_||_<1)return c.ONE;var M,S=n(),I=n(),x=w.convert(this),E=C(_)-1;for(x.copyTo(S);0<=--E;)w.sqrTo(S,I),0<(_&1<<E)?w.mulTo(I,x,S):(M=S,S=I,I=M);return w.revert(S)},c.prototype.chunkSize=function(_){return Math.floor(Math.LN2*this.DB/Math.log(_))},c.prototype.toRadix=function(_){if(_==null&&(_=10),this.signum()==0||_<2||36<_)return"0";var w=this.chunkSize(_),M=Math.pow(_,w),S=b(M),I=n(),x=n(),E="";for(this.divRemTo(S,I,x);0<I.signum();)E=(M+x.intValue()).toString(_).substr(1)+E,I.divRemTo(S,I,x);return x.intValue().toString(_)+E},c.prototype.fromRadix=function(_,w){this.fromInt(0);for(var M=this.chunkSize(w=w==null?10:w),S=Math.pow(w,M),I=!1,x=0,E=0,D=0;D<_.length;++D){var R=f(_,D);R<0?_.charAt(D)=="-"&&this.signum()==0&&(I=!0):(E=w*E+R,++x>=M&&(this.dMultiply(S),this.dAddOffset(E,0),E=x=0))}0<x&&(this.dMultiply(Math.pow(w,x)),this.dAddOffset(E,0)),I&&c.ZERO.subTo(this,this)},c.prototype.dMultiply=function(_){this[this.t]=this.am(0,_-1,this,0,0,this.t),++this.t,this.clamp()},c.prototype.dAddOffset=function(_,w){if(_!=0){for(;this.t<=w;)this[this.t++]=0;for(this[w]+=_;this[w]>=this.DV;)this[w]-=this.DV,++w>=this.t&&(this[this.t++]=0),++this[w]}},c);function c(_,w){_!=null&&(w==null&&typeof _!="string"?this.fromString(_,256):this.fromString(_,w))}g.prototype.convert=function(_){return _.s<0||0<=_.compareTo(this.m)?_.mod(this.m):_},g.prototype.revert=function(_){return _},g.prototype.reduce=function(_){_.divRemTo(this.m,null,_)},g.prototype.mulTo=function(_,w,M){_.multiplyTo(w,M),this.reduce(M)},g.prototype.sqrTo=function(_,w){_.squareTo(w),this.reduce(w)};var v=g;function g(_){this.m=_}o.prototype.convert=function(_){var w=n();return _.abs().dlShiftTo(this.m.t,w),w.divRemTo(this.m,null,w),_.s<0&&0<w.compareTo(u.ZERO)&&this.m.subTo(w,w),w},o.prototype.revert=function(_){var w=n();return _.copyTo(w),this.reduce(w),w},o.prototype.reduce=function(_){for(;_.t<=this.mt2;)_[_.t++]=0;for(var w=0;w<this.m.t;++w){var M=32767&_[w],S=M*this.mpl+((M*this.mph+(_[w]>>15)*this.mpl&this.um)<<15)&_.DM;for(_[M=w+this.m.t]+=this.m.am(0,S,_,w,0,this.m.t);_[M]>=_.DV;)_[M]-=_.DV,_[++M]++}_.clamp(),_.drShiftTo(this.m.t,_),0<=_.compareTo(this.m)&&_.subTo(this.m,_)},o.prototype.mulTo=function(_,w,M){_.multiplyTo(w,M),this.reduce(M)},o.prototype.sqrTo=function(_,w){_.squareTo(w),this.reduce(w)};var y=o;function o(_){this.m=_,this.mp=_.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<_.DB-15)-1,this.mt2=2*_.t}function n(){return new u(null)}function s(_,w){return new u(_,w)}r=(t=typeof navigator!="undefined")&&navigator.appName=="Microsoft Internet Explorer"?(u.prototype.am=function(_,w,M,S,I,x){for(var E=32767&w,D=w>>15;0<=--x;){var R=32767&this[_],q=this[_++]>>15,A=D*R+q*E;I=((R=E*R+((32767&A)<<15)+M[S]+(1073741823&I))>>>30)+(A>>>15)+D*q+(I>>>30),M[S++]=1073741823&R}return I},30):t&&navigator.appName!="Netscape"?(u.prototype.am=function(_,w,M,S,I,x){for(;0<=--x;){var E=w*this[_++]+M[S]+I;I=Math.floor(E/67108864),M[S++]=67108863&E}return I},26):(u.prototype.am=function(_,w,M,S,I,x){for(var E=16383&w,D=w>>14;0<=--x;){var R=16383&this[_],q=this[_++]>>14,A=D*R+q*E;I=((R=E*R+((16383&A)<<14)+M[S]+I)>>28)+(A>>14)+D*q,M[S++]=268435455&R}return I},28);for(var i=(u.prototype.DB=r,u.prototype.DM=(1<<r)-1,u.prototype.DV=1<<r,u.prototype.FV=Math.pow(2,52),u.prototype.F1=52-r,u.prototype.F2=2*r-52,[]),a="0".charCodeAt(0),m=0;m<=9;++m)i[a++]=m;for(a="a".charCodeAt(0),m=10;m<36;++m)i[a++]=m;for(a="A".charCodeAt(0),m=10;m<36;++m)i[a++]=m;function f(_,w){return(_=i[_.charCodeAt(w)])==null?-1:_}function b(_){var w=n();return w.fromInt(_),w}function C(_){var w,M=1;return(w=_>>>16)!=0&&(_=w,M+=16),(w=_>>8)!=0&&(_=w,M+=8),(w=_>>4)!=0&&(_=w,M+=4),(w=_>>2)!=0&&(_=w,M+=2),(w=_>>1)!=0&&(_=w,M+=1),M}u.ZERO=b(0),u.ONE=b(1)},function(e,t,r){r.d(t,"a",function(){return d});function d(u){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(u)}},function(e,t,r){r.d(t,"a",function(){return c}),r.d(t,"b",function(){return v}),u.prototype.init=function(g){for(var y,o,n=0;n<256;++n)this.S[n]=n;for(n=y=0;n<256;++n)y=y+this.S[n]+g[n%g.length]&255,o=this.S[n],this.S[n]=this.S[y],this.S[y]=o;this.i=0,this.j=0},u.prototype.next=function(){this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255;var g=this.S[this.i];return this.S[this.i]=this.S[this.j],this.S[this.j]=g,this.S[g+this.S[this.i]&255]};var d=u;function u(){this.i=0,this.j=0,this.S=[]}function c(){return new d}var v=256},function(e,t,r){var d,u,c,v,g;e.exports=(e=r(7),r(96),r(97),d=(c=(r=e).lib).Base,u=c.WordArray,v=(c=r.algo).MD5,g=c.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:v,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,o){for(var n,s=this.cfg,i=s.hasher.create(),a=u.create(),m=a.words,f=s.keySize,b=s.iterations;m.length<f;){n&&i.update(n),n=i.update(y).finalize(o),i.reset();for(var C=1;C<b;C++)n=i.finalize(n),i.reset();a.concat(n)}return a.sigBytes=4*f,a}}),r.EvpKDF=function(y,o,n){return g.create(n).compute(y,o)},e.EvpKDF)},function(e,t,r){e.exports=s;var d,u=r(12),c=u.LongBits,v=u.base64,g=u.utf8;function y(_,w,M){this.fn=_,this.len=w,this.next=void 0,this.val=M}function o(){}function n(_){this.head=_.head,this.tail=_.tail,this.len=_.len,this.next=_.states}function s(){this.len=0,this.head=new y(o,0,0),this.tail=this.head,this.states=null}function i(){return u.Buffer?function(){return(s.create=function(){return new d})()}:function(){return new s}}function a(_,w,M){w[M]=255&_}function m(_,w){this.len=_,this.next=void 0,this.val=w}function f(_,w,M){for(;_.hi;)w[M++]=127&_.lo|128,_.lo=(_.lo>>>7|_.hi<<25)>>>0,_.hi>>>=7;for(;127<_.lo;)w[M++]=127&_.lo|128,_.lo=_.lo>>>7;w[M++]=_.lo}function b(_,w,M){w[M]=255&_,w[M+1]=_>>>8&255,w[M+2]=_>>>16&255,w[M+3]=_>>>24}s.create=i(),s.alloc=function(_){return new u.Array(_)},u.Array!==Array&&(s.alloc=u.pool(s.alloc,u.Array.prototype.subarray)),s.prototype._push=function(_,w,M){return this.tail=this.tail.next=new y(_,w,M),this.len+=w,this},(m.prototype=Object.create(y.prototype)).fn=function(_,w,M){for(;127<_;)w[M++]=127&_|128,_>>>=7;w[M]=_},s.prototype.uint32=function(_){return this.len+=(this.tail=this.tail.next=new m((_>>>=0)<128?1:_<16384?2:_<2097152?3:_<268435456?4:5,_)).len,this},s.prototype.int32=function(_){return _<0?this._push(f,10,c.fromNumber(_)):this.uint32(_)},s.prototype.sint32=function(_){return this.uint32((_<<1^_>>31)>>>0)},s.prototype.int64=s.prototype.uint64=function(_){return _=c.from(_),this._push(f,_.length(),_)},s.prototype.sint64=function(_){return _=c.from(_).zzEncode(),this._push(f,_.length(),_)},s.prototype.bool=function(_){return this._push(a,1,_?1:0)},s.prototype.sfixed32=s.prototype.fixed32=function(_){return this._push(b,4,_>>>0)},s.prototype.sfixed64=s.prototype.fixed64=function(_){return _=c.from(_),this._push(b,4,_.lo)._push(b,4,_.hi)},s.prototype.float=function(_){return this._push(u.float.writeFloatLE,4,_)},s.prototype.double=function(_){return this._push(u.float.writeDoubleLE,8,_)};var C=u.Array.prototype.set?function(_,w,M){w.set(_,M)}:function(_,w,M){for(var S=0;S<_.length;++S)w[M+S]=_[S]};s.prototype.bytes=function(_){var w,M=_.length>>>0;return M?(u.isString(_)&&(w=s.alloc(M=v.length(_)),v.decode(_,w,0),_=w),this.uint32(M)._push(C,M,_)):this._push(a,1,0)},s.prototype.string=function(_){var w=g.length(_);return w?this.uint32(w)._push(g.write,w,_):this._push(a,1,0)},s.prototype.fork=function(){return this.states=new n(this),this.head=this.tail=new y(o,0,0),this.len=0,this},s.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new y(o,0,0),this.len=0),this},s.prototype.ldelim=function(){var _=this.head,w=this.tail,M=this.len;return this.reset().uint32(M),M&&(this.tail.next=_.next,this.tail=w,this.len+=M),this},s.prototype.finish=function(){for(var _=this.head.next,w=this.constructor.alloc(this.len),M=0;_;)_.fn(_.val,w,M),M+=_.len,_=_.next;return w},s._configure=function(_){d=_,s.create=i(),d._configure()}},function(e,t,r){e.exports=y;var d,u=r(12),c=u.LongBits,v=u.utf8;function g(f,b){return RangeError("index out of range: "+f.pos+" + "+(b||1)+" > "+f.len)}function y(f){this.buf=f,this.pos=0,this.len=f.length}function o(){return u.Buffer?function(f){return(y.create=function(b){return u.Buffer.isBuffer(b)?new d(b):s(b)})(f)}:s}var n,s=typeof Uint8Array!="undefined"?function(f){if(f instanceof Uint8Array||Array.isArray(f))return new y(f);throw Error("illegal buffer")}:function(f){if(Array.isArray(f))return new y(f);throw Error("illegal buffer")};function i(){var f=new c(0,0),b=0;if(!(4<this.len-this.pos)){for(;b<3;++b){if(this.pos>=this.len)throw g(this);if(f.lo=(f.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return f}return f.lo=(f.lo|(127&this.buf[this.pos++])<<7*b)>>>0,f}for(;b<4;++b)if(f.lo=(f.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return f;if(f.lo=(f.lo|(127&this.buf[this.pos])<<28)>>>0,f.hi=(f.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return f;if(b=0,4<this.len-this.pos){for(;b<5;++b)if(f.hi=(f.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return f}else for(;b<5;++b){if(this.pos>=this.len)throw g(this);if(f.hi=(f.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return f}throw Error("invalid varint encoding")}function a(f,b){return(f[b-4]|f[b-3]<<8|f[b-2]<<16|f[b-1]<<24)>>>0}function m(){if(this.pos+8>this.len)throw g(this,8);return new c(a(this.buf,this.pos+=4),a(this.buf,this.pos+=4))}y.create=o(),y.prototype._slice=u.Array.prototype.subarray||u.Array.prototype.slice,y.prototype.uint32=(n=4294967295,function(){if(n=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(n=(n|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(n=(n|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(n=(n|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(n=(n|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return n;if((this.pos+=5)>this.len)throw this.pos=this.len,g(this,10);return n}),y.prototype.int32=function(){return 0|this.uint32()},y.prototype.sint32=function(){var f=this.uint32();return f>>>1^-(1&f)|0},y.prototype.bool=function(){return this.uint32()!==0},y.prototype.fixed32=function(){if(this.pos+4>this.len)throw g(this,4);return a(this.buf,this.pos+=4)},y.prototype.sfixed32=function(){if(this.pos+4>this.len)throw g(this,4);return 0|a(this.buf,this.pos+=4)},y.prototype.float=function(){if(this.pos+4>this.len)throw g(this,4);var f=u.float.readFloatLE(this.buf,this.pos);return this.pos+=4,f},y.prototype.double=function(){if(this.pos+8>this.len)throw g(this,4);var f=u.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,f},y.prototype.bytes=function(){var f=this.uint32(),b=this.pos,C=this.pos+f;if(C>this.len)throw g(this,f);return this.pos+=f,Array.isArray(this.buf)?this.buf.slice(b,C):b===C?new this.buf.constructor(0):this._slice.call(this.buf,b,C)},y.prototype.string=function(){var f=this.bytes();return v.read(f,0,f.length)},y.prototype.skip=function(f){if(typeof f=="number"){if(this.pos+f>this.len)throw g(this,f);this.pos+=f}else do if(this.pos>=this.len)throw g(this);while(128&this.buf[this.pos++]);return this},y.prototype.skipType=function(f){switch(f){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(f=7&this.uint32())!=4;)this.skipType(f);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+f+" at offset "+this.pos)}return this},y._configure=function(f){d=f,y.create=o(),d._configure();var b=u.Long?"toLong":"toNumber";u.merge(y.prototype,{int64:function(){return i.call(this)[b](!1)},uint64:function(){return i.call(this)[b](!0)},sint64:function(){return i.call(this).zzDecode()[b](!1)},fixed64:function(){return m.call(this)[b](!0)},sfixed64:function(){return m.call(this)[b](!1)}})}},function(e,t,r){r.d(t,"b",function(){return d}),r.d(t,"a",function(){return u});var d=function(c,v){return function(g,y,o){return{value:function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var i=g.createNotLoggedError.call(this,c,v);return i?Promise.reject(i):o.value.apply(this,n)}}}},u=function(c,v,g){var y,o=0;return function(n,s,i){return{value:function(){for(var a=[],m=0;m<arguments.length;m++)a[m]=arguments[m];var f=Date.now();if(o++,f-(y=y||f)<1e3*v){if(c<o)return Promise.reject(n.createFrequencyLimitError.call(this,g))}else y=f,o=0;return i.value.apply(this,a)}}}}},function(e,t,r){var d;r.d(t,"a",function(){return d}),(r=d=d||{})[r.Success=0]="Success",r[r.Failed=1]="Failed",r[r.CommonModuleParamInvalid=6000001]="CommonModuleParamInvalid",r[r.CommonModuleNotInit=6000002]="CommonModuleNotInit",r[r.CommonModuleInvalidAppID=6000003]="CommonModuleInvalidAppID",r[r.CommonModuleTriggerSDKFrequencyLimit=6000004]="CommonModuleTriggerSDKFrequencyLimit",r[r.CommonModuleTriggerServerFrequencyLimit=6000005]="CommonModuleTriggerServerFrequencyLimit",r[r.CommonModuleSwitchServerError=6000006]="CommonModuleSwitchServerError",r[r.CommonModuleIMServerError=6000007]="CommonModuleIMServerError",r[r.CommonModuleUploadLogError=6000010]="CommonModuleUploadLogError",r[r.CommonModuleUserIsNotExist=6000011]="CommonModuleUserIsNotExist",r[r.CommonModuleUserInfoQueriedLimit=6000012]="CommonModuleUserInfoQueriedLimit",r[r.CommonModuleUnsupportedRequest=6000013]="CommonModuleUnsupportedRequest",r[r.CommonModuleUnactivatedIMServer=6000014]="CommonModuleUnactivatedIMServer",r[r.NetworkModuleCommonError=6000101]="NetworkModuleCommonError",r[r.NetworkModuleServerError=6000102]="NetworkModuleServerError",r[r.NetworkModuleTokenInvalid=6000103]="NetworkModuleTokenInvalid",r[r.NetworkModuleNetworkError=6000104]="NetworkModuleNetworkError",r[r.NetworkModuleTokenExpired=6000106]="NetworkModuleTokenExpired",r[r.NetworkModuleTokenVersionError=6000107]="NetworkModuleTokenVersionError",r[r.NetworkModuleTokenTimeIsTooShort=6000108]="NetworkModuleTokenTimeIsTooShort",r[r.NetworkModuleUserHasAlreadyLogged=6000111]="NetworkModuleUserHasAlreadyLogged",r[r.NetworkModuleUserIsNotLogged=6000121]="NetworkModuleUserIsNotLogged",r[r.ConversationModuleCommonError=6000601]="ConversationModuleCommonError",r[r.ConversationModuleServerError=6000602]="ConversationModuleServerError",r[r.ConversationModuleConversationDoesNotExist=6000603]="ConversationModuleConversationDoesNotExist",r[r.MessageModuleCommonError=6000201]="MessageModuleCommonError",r[r.MessageModuleServerError=6000202]="MessageModuleServerError",r[r.MessageModuleSendMessageFailed=6000203]="MessageModuleSendMessageFailed",r[r.MessageModuleTargetDoesNotExist=6000204]="MessageModuleTargetDoesNotExist",r[r.MessageModuleFileNotExist=6000211]="MessageModuleFileNotExist",r[r.MessageModuleFileServerError=6000212]="MessageModuleFileServerError",r[r.MessageModuleFileTypeUnsupported=6000213]="MessageModuleFileTypeUnsupported",r[r.MessageModuleFileSizeInvalid=6000214]="MessageModuleFileSizeInvalid",r[r.MessageModuleFileDurationInvalid=6000215]="MessageModuleFileDurationInvalid",r[r.MessageModuleAuditRejected=6000221]="MessageModuleAuditRejected",r[r.MessageModuleAuditFailed=6000222]="MessageModuleAuditFailed",r[r.MessageModuleCallError=6000270]="MessageModuleCallError",r[r.MessageModuleCancelCallError=6000271]="MessageModuleCancelCallError",r[r.MessageModuleCallServerError=6000272]="MessageModuleCallServerError",r[r.MessageModuleIsNotInvitor=6000273]="MessageModuleIsNotInvitor",r[r.MessageModuleIsNotInvitee=6000274]="MessageModuleIsNotInvitee",r[r.MessageModuleCallAlreadyExists=6000275]="MessageModuleCallAlreadyExists",r[r.MessageModuleCallDoesNotExist=6000276]="MessageModuleCallDoesNotExist",r[r.MessageModuleReceiptReadError=6000277]="MessageModuleReceiptReadError",r[r.MessageModuleMessageExceedsRevokeTime=6000278]="MessageModuleMessageExceedsRevokeTime",r[r.MessageModuleMessageHasBeenRevoked=6000279]="MessageModuleMessageHasBeenRevoked",r[r.RoomModuleCommonError=6000301]="RoomModuleCommonError",r[r.RoomModuleServerError=6000302]="RoomModuleServerError",r[r.RoomModuleCreateRoomError=6000303]="RoomModuleCreateRoomError",r[r.RoomModuleJoinRoomError=6000304]="RoomModuleJoinRoomError",r[r.RoomModuleLeaveRoomError=6000306]="RoomModuleLeaveRoomError",r[r.RoomModuleUserIsNotInTheRoom=6000321]="RoomModuleUserIsNotInTheRoom",r[r.RoomModuleTheRoomDoesNotExist=6000322]="RoomModuleTheRoomDoesNotExist",r[r.RoomModuleTheRoomAlreadyExists=6000323]="RoomModuleTheRoomAlreadyExists",r[r.RoomModuleTheNumberOfExistingRoomsHasReachedLimit=6000324]="RoomModuleTheNumberOfExistingRoomsHasReachedLimit",r[r.RoomModuleTheNumberOfJoinedRoomsHasReachedLimit=6000325]="RoomModuleTheNumberOfJoinedRoomsHasReachedLimit",r[r.RoomModuleRoomAttributesCommonError=6000330]="RoomModuleRoomAttributesCommonError",r[r.RoomModuleRoomAttributesOperationFailedCompletely=6000331]="RoomModuleRoomAttributesOperationFailedCompletely",r[r.RoomModuleRoomAttributesQueryFailed=6000333]="RoomModuleRoomAttributesQueryFailed",r[r.RoomModuleTheNumberOfRoomAttributesExceedsLimit=6000334]="RoomModuleTheNumberOfRoomAttributesExceedsLimit",r[r.RoomModuleTheLengthOfRoomAttributeKeyExceedsLimit=6000335]="RoomModuleTheLengthOfRoomAttributeKeyExceedsLimit",r[r.RoomModuleTheLengthOfRoomAttributeValueExceedsLimit=6000336]="RoomModuleTheLengthOfRoomAttributeValueExceedsLimit",r[r.RoomModuleTheTotalLengthOfRoomAttributesValueExceedsLimit=6000337]="RoomModuleTheTotalLengthOfRoomAttributesValueExceedsLimit",r[r.RoomModuleRoomMemberAttributesCommonError=6000350]="RoomModuleRoomMemberAttributesCommonError",r[r.RoomModuleTheTotalLengthOfRoomMemberAttributesExceedsLimit=6000351]="RoomModuleTheTotalLengthOfRoomMemberAttributesExceedsLimit",r[r.RoomModuleTheLengthOfRoomMemberAttributesKeyExceedsLimit=6000352]="RoomModuleTheLengthOfRoomMemberAttributesKeyExceedsLimit",r[r.RoomModuleTheLengthOfRoomMemberAttributesValueExceedsLimit=6000353]="RoomModuleTheLengthOfRoomMemberAttributesValueExceedsLimit",r[r.RoomModuleTheMemberNumberOfRoomMemberAttributesExceedsLimit=6000357]="RoomModuleTheMemberNumberOfRoomMemberAttributesExceedsLimit",r[r.GroupModuleCommonError=6000501]="GroupModuleCommonError",r[r.GroupModuleServerError=6000502]="GroupModuleServerError",r[r.GroupModuleCreateGroupError=6000503]="GroupModuleCreateGroupError",r[r.GroupModuleDismissGroupError=6000504]="GroupModuleDismissGroupError",r[r.GroupModuleJoinGroupError=6000505]="GroupModuleJoinGroupError",r[r.GroupModuleLeaveGroupError=6000506]="GroupModuleLeaveGroupError",r[r.GroupModuleKickoutGroupMemberError=6000507]="GroupModuleKickoutGroupMemberError",r[r.GroupModuleInviteUserIntoGroupError=6000508]="GroupModuleInviteUserIntoGroupError",r[r.GroupModuleTransferOwnerError=6000509]="GroupModuleTransferOwnerError",r[r.GroupModuleUpdateGroupInfoError=6000510]="GroupModuleUpdateGroupInfoError",r[r.GroupModuleQueryGroupInfoError=6000511]="GroupModuleQueryGroupInfoError",r[r.GroupModuleGroupAttributesOperationFailed=6000512]="GroupModuleGroupAttributesOperationFailed",r[r.GroupModuleGroupAttributesQueryFailed=6000513]="GroupModuleGroupAttributesQueryFailed",r[r.GroupModuleUpdateGroupMemberInfoError=6000514]="GroupModuleUpdateGroupMemberInfoError",r[r.GroupModuleQueryGroupMemberInfoError=6000515]="GroupModuleQueryGroupMemberInfoError",r[r.GroupModuleQueryGroupListError=6000516]="GroupModuleQueryGroupListError",r[r.GroupModuleQueryGroupMemberListError=6000517]="GroupModuleQueryGroupMemberListError",r[r.GroupModuleUserIsNotInTheGroup=6000521]="GroupModuleUserIsNotInTheGroup",r[r.GroupModuleMemberIsAlreadyInTheGroup=6000522]="GroupModuleMemberIsAlreadyInTheGroup",r[r.GroupModuleGroupDoesNotExist=6000523]="GroupModuleGroupDoesNotExist",r[r.GroupModuleGroupAlreadyExists=6000524]="GroupModuleGroupAlreadyExists",r[r.GroupModuleGroupMemberHasReachedLimit=6000525]="GroupModuleGroupMemberHasReachedLimit",r[r.GroupModuleGroupAttributeDoesNotExist=6000526]="GroupModuleGroupAttributeDoesNotExist",r[r.GroupModuleTheNumberOfGroupAttributesExceedsLimit=6000531]="GroupModuleTheNumberOfGroupAttributesExceedsLimit",r[r.GroupModuleTheLengthOfGroupAttributeKeyExceedsLimit=6000532]="GroupModuleTheLengthOfGroupAttributeKeyExceedsLimit",r[r.GroupModuleTheLengthOfGroupAttributeValueExceedsLimit=6000533]="GroupModuleTheLengthOfGroupAttributeValueExceedsLimit",r[r.GroupModuleTheTotalLengthOfGroupAttributesValueExceedsLimit=6000534]="GroupModuleTheTotalLengthOfGroupAttributesValueExceedsLimit",r[r.GroupModuleNoCorrespondingOperationAuthority=6000541]="GroupModuleNoCorrespondingOperationAuthority"},function(e,t,r){var d,u,c;r.d(t,"b",function(){return d}),r.d(t,"a",function(){return u}),r.d(t,"c",function(){return c}),(r=d=d||{})[r.Disconnected=0]="Disconnected",r[r.Connecting=1]="Connecting",r[r.Connected=2]="Connected",r[r.Reconnecting=3]="Reconnecting",(t=u=u||{})[t.Success=0]="Success",t[t.ActiveLogin=1]="ActiveLogin",t[t.LoginTimeout=2]="LoginTimeout",t[t.LoginInterrupted=3]="LoginInterrupted",t[t.KickedOut=4]="KickedOut",(r=c=c||{})[r.Low=1]="Low",r[r.Medium=2]="Medium",r[r.High=3]="High"},function(e,t,r){var d;r.d(t,"a",function(){return d}),(r=d=d||{})[r.Inviting=0]="Inviting",r[r.Accepted=1]="Accepted",r[r.Rejected=2]="Rejected",r[r.Cancelled=3]="Cancelled",r[r.Offline=4]="Offline",r[r.Received=5]="Received"},function(e,t,r){var d,u,c,v,g,y,o,n,s;r.d(t,"c",function(){return d}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"h",function(){return v}),r.d(t,"g",function(){return g}),r.d(t,"d",function(){return y}),r.d(t,"e",function(){return o}),r.d(t,"f",function(){return n}),r.d(t,"i",function(){return s}),(r=d=d||{})[r.Peer=0]="Peer",r[r.Room=1]="Room",r[r.Group=2]="Group",(t=u=u||{})[t.Added=0]="Added",t[t.Updated=1]="Updated",t[t.Disabled=2]="Disabled",(r=c=c||{})[r.Notify=1]="Notify",r[r.DoNotDisturb=2]="DoNotDisturb",(t=v=v||{})[t.Unknown=0]="Unknown",t[t.Text=1]="Text",t[t.Command=2]="Command",t[t.Image=11]="Image",t[t.File=12]="File",t[t.Audio=13]="Audio",t[t.Video=14]="Video",t[t.Barrage=20]="Barrage",t[t.System=30]="System",t[t.Revoke=31]="Revoke",(r=g=g||{})[r.Sending=0]="Sending",r[r.Success=1]="Success",r[r.Failed=2]="Failed",(t=y=y||{})[t.Send=0]="Send",t[t.Receive=1]="Receive",(r=o=o||{})[r.None=0]="None",r[r.Processing=1]="Processing",r[r.Done=2]="Done",r[r.Expired=3]="Expired",r[r.Failed=4]="Failed",(t=n=n||{})[t.Unknown=-1]="Unknown",t[t.SelfRevoke=0]="SelfRevoke",t[t.SystemRevoke=1]="SystemRevoke",t[t.ServiceAPIRevoke=2]="ServiceAPIRevoke",t[t.GroupAdminRevoke=3]="GroupAdminRevoke",t[t.GroupOwnerRevoke=4]="GroupOwnerRevoke",(r=s=s||{})[r.TwoWay=0]="TwoWay",r[r.OneWay=1]="OneWay"},function(e,t,r){var d,u,c,v,g,y;r.d(t,"e",function(){return d}),r.d(t,"f",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return v}),r.d(t,"c",function(){return g}),r.d(t,"a",function(){return y}),(r=d=d||{})[r.Notify=1]="Notify",r[r.Disturb=2]="Disturb",(t=u=u||{})[t.Quit=0]="Quit",t[t.Enter=1]="Enter",(r=c=c||{})[r.Created=1]="Created",r[r.Dismissed=2]="Dismissed",r[r.Joined=3]="Joined",r[r.Invited=4]="Invited",r[r.Left=5]="Left",r[r.KickedOut=6]="KickedOut",(t=v=v||{})[t.Quit=0]="Quit",t[t.Enter=1]="Enter",(r=g=g||{})[r.Joined=1]="Joined",r[r.Left=2]="Left",r[r.KickedOut=4]="KickedOut",r[r.Invited=5]="Invited",(t=y=y||{})[t.Set=0]="Set",t[t.Delete=1]="Delete"},function(e,t,r){var d,u,c;r.d(t,"c",function(){return d}),r.d(t,"b",function(){return u}),r.d(t,"a",function(){return c}),(r=d=d||{})[r.Disconnected=0]="Disconnected",r[r.Connecting=1]="Connecting",r[r.Connected=2]="Connected",(t=u=u||{})[t.Success=0]="Success",t[t.NetworkInterrupted=1]="NetworkInterrupted",t[t.NetworkDisconnected=2]="NetworkDisconnected",t[t.RoomNotExist=3]="RoomNotExist",t[t.ActiveCreate=4]="ActiveCreate",t[t.CreateFailed=5]="CreateFailed",t[t.ActiveEnter=6]="ActiveEnter",t[t.EnterFailed=7]="EnterFailed",t[t.KickedOut=8]="KickedOut",t[t.ConnectTimeout=9]="ConnectTimeout",(r=c=c||{})[r.Set=0]="Set",r[r.Delete=1]="Delete"},function(e,t,r){},function(e,t,r){var d,u,c,v,g,y,o,n,s,i;r.d(t,"a",function(){return d}),r.d(t,"b",function(){return u}),r.d(t,"e",function(){return c}),r.d(t,"h",function(){return v}),r.d(t,"d",function(){return g}),r.d(t,"f",function(){return y}),r.d(t,"g",function(){return o}),r.d(t,"c",function(){return n}),r.d(t,"i",function(){return s}),r.d(t,"j",function(){return i}),(r=d=d||{})[r.Cancel=0]="Cancel",r[r.Timeout=1]="Timeout",(t=u=u||{})[t.Normal=0]="Normal",t[t.Disable=1]="Disable",t[t.Delete=2]="Delete",(r=c=c||{})[r.Notice=0]="Notice",r[r.Name=1]="Name",r[r.Avatar=2]="Avatar",(t=v=v||{})[t.Owner=1]="Owner",t[t.Member=3]="Member",(r=g=g||{})[r.Set=0]="Set",r[r.Delete=1]="Delete",r[r.Push=2]="Push",r[r.Query=3]="Query",(t=y=y||{})[t.None=0]="None",t[t.Enter=1]="Enter",t[t.Quit=2]="Quit",t[t.Modify=3]="Modify",t[t.Kickout=4]="Kickout",t[t.Invited=5]="Invited",t[t.OwnerQuit=6]="OwnerQuit",(r=o=o||{})[r.Nickname=0]="Nickname",r[r.Role=1]="Role",(t=n=n||{})[t.Other=0]="Other",t[t.SDKLogin=1]="SDKLogin",t[t.SDKPush=2]="SDKPush",t[t.SDKHb=3]="SDKHb",t[t.Biz=4]="Biz",(r=s=s||{}).Insert="Insert",r.Sending="Sending",r.Sended="Sended",r.Fetch="Fetch",r.Push="Push",(t=i=i||{})[t.None=0]="None",t[t.RevokeSelf=4]="RevokeSelf",t[t.RevokeSystem=8]="RevokeSystem",t[t.RevokeService=12]="RevokeService",t[t.RevokeGroupAdmin=16]="RevokeGroupAdmin",t[t.RevokeGroupOwner=20]="RevokeGroupOwner",t[t.ReceiptDone=64]="ReceiptDone",t[t.ReceiptExpired=128]="ReceiptExpired",t[t.ReceiptFailed=192]="ReceiptFailed",t[t.ReceiptDoing=256]="ReceiptDoing",t[t.VoteDoing=1024]="VoteDoing",t[t.VoteDone=2048]="VoteDone"},function(e,t,r){r.d(t,"b",function(){return d}),r.d(t,"a",function(){return u}),r.d(t,"c",function(){return c}),(r=d=d||{})[r.SDK=0]="SDK",r[r.API=1]="API",(t=u=u||{}).Accesshub="Accesshub",t.sw_handshake_req="/sw/handshake_req",t.sw_login="/sw/login",t.sw_logout="/sw/logout",t.sw_renew_token="/sw/renew_token",t.sw_hb="/sw/hb",t.sw_push_kickout="/sw/push_kickout",t.sw_push_redirect="/sw/push_redirect",t.sw_push="/sw/push",t.sw_push_rsp="/sw/push_rsp",t.sw_push_list="/sw/push_list",t.sw_push_list_rsp="/sw/push_list_rsp",t.im_modify_user_info="/sw/modify_info",t.im_fetch_user_info="/im/account/fetch_user_info",t.im_userstate_zpns_report="/im/userstate/zpns_report",t.im_usermail_hb="/im/usermail/hb",t.im_usermail_convlist="/im/usermail/convlist",t.im_usermail_del_conv="/im/usermail/del_conv",t.im_usermail_update_read_seq="/im/usermail/update_read_seq",t.im_c2c_msg="/im/c2c/msg",t.im_c2c_command="/im/c2c/command",t.im_c2c_msglist="/im/usermail/msglist",t.im_c2c_del_msg="/im/usermail/del_msg_by_msgid",t.im_c2c_del_all_msg="/im/usermail/del_all_msg",t.im_group_msg="/im/group/msg",t.im_group_command="/im/group/command",t.im_group_msglist="/im/group/msglist",t.im_group_del_msg="/im/group/del_msg",t.im_group_del_all_msg="/im/group/del_all_msg",t.im_room_msg="/im/room/msg",t.im_room_command="/im/msg/room_msg",t.im_room_msglist="/im/room/room_msglist",t.im_room_msg_state_list="/im/room/msg_state_list",t.im_push_c2c_msg="/im/push_c2c_msg",t.im_push_c2c_command="/im/push_c2c_command",t.im_push_group_msg="/im/push_group_msg",t.im_push_group_command="/im/push_group_command_msg",t.im_push_room_msg="/im/push_roommsg",t.im_push_room_command="/im/push_room_msg",t.im_c2c_conv_read_receipt="/im/usermail/conv_read",t.im_c2c_msg_read_receipt="/im/usermail/read_receipt",t.im_group_msg_read_receipt="/im/group/read_receipt",t.im_msg_read_receipt_detail="/im/usermail/receipt_detail",t.im_c2c_msg_revoke="/im/usermail/msg_revoke",t.im_group_msg_revoke="/im/group/msg_revoke",t.im_c2c_msg_state_list="/im/usermail/statemsg_list",t.im_group_msg_state_list="/im/group/statemsg_list",t.im_extra_msglist="/im/usermail/extra_msglist",t.im_push_read_receipt="/im/push_read_receipt",t.im_push_msg_revoke="/im/push_msg_revoke",t.im_file_upload="/im/file/upload",t.im_file_process="/im/file/process",t.im_file_delete="/im/file/delete",t.im_room_create="/im/room/create",t.im_room_enter="/im/room/enter",t.im_room_quit="/im/room/quit",t.im_room_info="/im/room/info",t.im_room_userlist="/im/room/userlist",t.im_room_attributes="/im/room/get_attributes",t.im_room_attributes_modify="/im/room/modify_attributes",t.im_room_user_attributes_modify="/im/room/modify_user_attributes",t.im_room_user_attributes_get="/im/room/get_user_attributes",t.im_room_user_attributes_list_get="/im/room/get_user_attribute_list",t.im_push_room_enter="/im/push_room_enter",t.im_push_room_quit="/im/push_room_quit",t.im_push_room_kickout="/im/push_room_kickout",t.im_push_room_attrs="/im/push_room_attrs_modify",t.im_push_room_user_attrs="/im/push_room_user_attrs_modify",t.im_group_create="/im/group/create",t.im_group_enter="/im/group/enter",t.im_group_invite="/im/group/invite",t.im_group_quit="/im/group/quit",t.im_group_kickout="/im/group/kickout",t.im_group_destroy="/im/group/destroy",t.im_group_list="/im/usermail/grouplist",t.im_group_owner_transfer="/im/group/owner_transfer",t.im_group_data="/im/group/data",t.im_group_attributes="/im/group/get_attributes",t.im_group_mute="/im/group/mute",t.im_group_modify_name="/im/group/modify_group_name",t.im_group_modify_avatar="/im/group/modify_group_avatar",t.im_group_modify_notice="/im/group/modify_group_notice",t.im_group_modify_attributes="/im/group/modify_attribute",t.im_group_member_list="/im/group/members",t.im_group_members_by_seq="/im/group/members_by_seq",t.im_group_member_data="/im/group/member_data",t.im_group_member_nickname_set="/im/group/set_nickname",t.im_group_member_role_set="/im/group/set_member_role",t.im_push_group_create="/im/push_create_group",t.im_push_group_invite="/im/push_group_invite",t.im_push_group_destroy="/im/push_group_destroy",t.im_push_group_owner_transfer="/im/push_group_owner_transfer",t.im_push_group_modify_attributes="/im/push_modify_group_attribute",t.im_push_group_modify_data="/im/push_modify_group_data",t.im_push_group_member_change="/im/push_group_member_change",t.im_push_group_member_kickout="/im/push_group_member_kickout",t.im_call_create="/im/call/create",t.im_call_cancel="/im/call/cancel",t.im_call_accept="/im/call/accept",t.im_call_refuse="/im/call/refuse",t.im_call_ack="/im/call/ack",t.im_call_info="/im/call/call_info",t.im_push_call_invite="/im/push_call_invite",t.im_push_call_cancel="/im/push_call_cancel",t.im_push_call_accept="/im/push_call_accept",t.im_push_call_refuse="/im/push_call_refuse",r="_rsp";var d,u,c=((t={})[u.sw_handshake_req]="HandshakeReq",t[u.sw_login]="LoginReq",t[u.sw_login+r]="LoginRsp",t[u.sw_logout]="LogoutReq",t[u.sw_logout+r]="CommonCodeMessage",t[u.sw_renew_token]="ModifyUserInfoReq",t[u.sw_renew_token+r]="CommonCodeMessage",t[u.sw_hb]="ModifyUserInfoReq",t[u.sw_hb+r]="HbRsp",t[u.sw_push_kickout]="ErrList",t[u.sw_push_redirect]="UserInfo",t[u.sw_push]="PushReq",t[u.sw_push+r]="GroupDataRsp",t[u.sw_push_list]="PushListRequest",t[u.sw_push_list+r]="PushListRsp",t[u.im_modify_user_info]="ModifyUserInfoReq",t[u.im_modify_user_info+r]="CommonCodeMessage",t[u.im_fetch_user_info]="UserInfo",t[u.im_fetch_user_info+r]="UserInfoRsp",t[u.im_userstate_zpns_report]="StGroupAttribute",t[u.im_userstate_zpns_report+r]="CommonCodeMessage",t[u.im_usermail_hb]="StMsgClientInfo",t[u.im_usermail_hb+r]="UserMailHbRsp",t[u.im_usermail_convlist]="GetConvListReq",t[u.im_usermail_convlist+r]="GetConvListRsp",t[u.im_usermail_del_conv]="UpdateReadSeqReq",t[u.im_usermail_del_conv+r]="ConvDelRsp",t[u.im_usermail_update_read_seq]="UpdateReadSeqReq",t[u.im_usermail_update_read_seq+r]="CommonCodeMessage",t[u.im_c2c_msg]="C2CMsgReq",t[u.im_c2c_msg+r]="C2CMsgRsp",t[u.im_c2c_command]="C2CCommandReq",t[u.im_c2c_command+r]="C2CCommandReqRsp",t[u.im_c2c_msglist]="FetchConvMsgReq",t[u.im_c2c_msglist+r]="FetchConvMsgRsp",t[u.im_c2c_del_msg]="ConvDelMsgByMsgIdReq",t[u.im_c2c_del_msg+r]="CommonCodeMessage",t[u.im_c2c_del_all_msg]="UpdateReadSeqReq",t[u.im_c2c_del_all_msg+r]="CommonCodeMessage",t[u.im_group_msg]="C2CMsgReq",t[u.im_group_msg+r]="GroupMsgRsp",t[u.im_group_command]="C2CCommandReq",t[u.im_group_command+r]="C2CCommandReqRsp",t[u.im_group_msglist]="FetchGroupMsgList",t[u.im_group_msglist+r]="FetchGroupMsgListRsp",t[u.im_group_del_msg]="C2CReadReceiptReq",t[u.im_group_del_msg+r]="CommonCodeMessage",t[u.im_group_del_all_msg]="C2CReadReceiptReq",t[u.im_group_del_all_msg+r]="CommonCodeMessage",t[u.im_room_msg]="RoomMsgReq",t[u.im_room_msg+r]="RoomMsgRsp",t[u.im_room_command]="RoomCommandMsgReq",t[u.im_room_command+r]="RoomMsgRsp",t[u.im_room_msglist]="RoomMsglistReq",t[u.im_room_msglist+r]="RoomMsglistRsp",t[u.im_push_c2c_msg]="PushGroupMsg",t[u.im_push_c2c_command]="PushC2CCommand",t[u.im_push_group_msg]="PushGroupMsg",t[u.im_push_group_command]="PushGroupCommand",t[u.im_push_room_msg]="PushRoomMsg",t[u.im_push_room_command]="PushRoomCommand",t[u.im_c2c_conv_read_receipt]="GetGroupReadReceiptDetailReq",t[u.im_c2c_conv_read_receipt+r]="ConvDelRsp",t[u.im_c2c_msg_read_receipt]="C2CReadReceiptReq",t[u.im_c2c_msg_read_receipt+r]="C2CReadReceiptRsp",t[u.im_group_msg_read_receipt]="C2CReadReceiptReq",t[u.im_group_msg_read_receipt+r]="C2CReadReceiptRsp",t[u.im_msg_read_receipt_detail]="GetGroupReadReceiptDetailReq",t[u.im_msg_read_receipt_detail+r]="GetGroupReadReceiptDetailRsp",t[u.im_c2c_msg_revoke]="RevokeMsgReq",t[u.im_c2c_msg_revoke+r]="RevokeMsgRsp",t[u.im_group_msg_revoke]="RevokeMsgReq",t[u.im_group_msg_revoke+r]="RevokeMsgRsp",t[u.im_c2c_msg_state_list]="GetStatemsgListReq",t[u.im_c2c_msg_state_list+r]="GetStatemsgListRsp",t[u.im_group_msg_state_list]="GetStatemsgListReq",t[u.im_group_msg_state_list+r]="GetStatemsgListRsp",t[u.im_extra_msglist]="GetExtraMsgListReq",t[u.im_extra_msglist+r]="GetExtraMsgListRsp",t[u.im_push_read_receipt]="PushReadReceipt",t[u.im_push_msg_revoke]="PushMsgRevoke",t[u.im_file_upload]="FileUploadReq",t[u.im_file_upload+r]="FileUploadRsp",t[u.im_file_process]="FileUploadReq",t[u.im_file_process+r]="FileProcessRsp",t[u.im_file_delete]="FileUploadReq",t[u.im_file_delete+r]="CommonCodeMessage",t[u.im_room_create]="RoomCreateReq",t[u.im_room_create+r]="RoomCreateRsp",t[u.im_room_enter]="RoomEnterReq",t[u.im_room_enter+r]="RoomEnterRsp",t[u.im_room_quit]="RoomQuitReq",t[u.im_room_quit+r]="CommonCodeMessage",t[u.im_room_info]="RoomQuitReq",t[u.im_room_info+r]="RoomInfoRsp",t[u.im_room_userlist]="RoomUserlistReq",t[u.im_room_userlist+r]="RoomUserlistRsp",t[u.im_room_attributes]="GetRoomAttributesReq",t[u.im_room_attributes+r]="ModifyRoomAttributesRsp",t[u.im_room_attributes_modify]="ModifyRoomAttributesReq",t[u.im_room_attributes_modify+r]="ModifyRoomAttributesRsp",t[u.im_room_user_attributes_modify]="ModifyRoomUserAttributesReq",t[u.im_room_user_attributes_modify+r]="ModifyRoomUserAttributesRsp",t[u.im_room_user_attributes_get]="GetRoomUserAttributesReq",t[u.im_room_user_attributes_get+r]="ModifyRoomUserAttributesRsp",t[u.im_room_user_attributes_list_get]="GetRoomUserAttributeListReq",t[u.im_room_user_attributes_list_get+r]="GetRoomUserAttributeListRsp",t[u.im_push_room_enter]="PushRoomEnter",t[u.im_push_room_quit]="PushRoomEnter",t[u.im_push_room_kickout]="PushRoomKickout",t[u.im_push_room_attrs]="PushRoomAttributesModify",t[u.im_push_room_user_attrs]="PushRoomUserAttributesModify",t[u.im_group_create]="GroupCreateReq",t[u.im_group_create+r]="GroupCreateRsp",t[u.im_group_enter]="GroupInviteReq",t[u.im_group_enter+r]="GroupEnterRsp",t[u.im_group_invite]="GroupInviteReq",t[u.im_group_invite+r]="GroupInviteRsp",t[u.im_group_quit]="GroupInviteReq",t[u.im_group_quit+r]="ConvDelRsp",t[u.im_group_kickout]="GroupInviteReq",t[u.im_group_kickout+r]="GroupKickOutRsp",t[u.im_group_destroy]="GroupInviteReq",t[u.im_group_destroy+r]="ConvDelRsp",t[u.im_group_list]="GetConvListReq",t[u.im_group_list+r]="GroupListRsp",t[u.im_group_owner_transfer]="GroupCreateReq",t[u.im_group_owner_transfer+r]="ConvDelRsp",t[u.im_group_data]="GroupInviteReq",t[u.im_group_data+r]="GroupDataRsp",t[u.im_group_attributes]="GroupGetAttributesReq",t[u.im_group_attributes+r]="GroupModifyAttributeRsp",t[u.im_group_mute]="GroupMuteReq",t[u.im_group_mute+r]="ConvDelRsp",t[u.im_group_modify_name]="GroupCreateReq",t[u.im_group_modify_name+r]="ConvDelRsp",t[u.im_group_modify_avatar]="StUserInfo",t[u.im_group_modify_avatar+r]="ConvDelRsp",t[u.im_group_modify_notice]="GroupCreateReq",t[u.im_group_modify_notice+r]="ConvDelRsp",t[u.im_group_modify_attributes]="GroupModifyAttributeReq",t[u.im_group_modify_attributes+r]="GroupModifyAttributeRsp",t[u.im_group_member_list]="GroupGetMembersReq",t[u.im_group_member_list+r]="GroupGetMembersRsp",t[u.im_group_members_by_seq]="C2CReadReceiptReq",t[u.im_group_members_by_seq+r]="GetGroupMembersByMemberSeqRsp",t[u.im_group_member_data]="GroupMemberDataReq",t[u.im_group_member_data+r]="GroupMemberDataRsp",t[u.im_group_member_nickname_set]="GroupCreateReq",t[u.im_group_member_nickname_set+r]="ConvDelRsp",t[u.im_group_member_role_set]="GroupSetMemberRoleReq",t[u.im_group_member_role_set+r]="ConvDelRsp",t[u.im_push_group_create]="PushCreateGroup",t[u.im_push_group_invite]="PushGroupInvite",t[u.im_push_group_destroy]="PushModifyGroupData",t[u.im_push_group_owner_transfer]="PushGroupOwnerTransfer",t[u.im_push_group_modify_attributes]="PushModifyGroupAttribute",t[u.im_push_group_modify_data]="PushModifyGroupData",t[u.im_push_group_member_change]="PushGroupMemberChange",t[u.im_push_group_member_kickout]="PushGroupOwnerTransfer",t[u.im_call_create]="call_req",t[u.im_call_create+r]="call_rsp",t[u.im_call_cancel]="call_req",t[u.im_call_cancel+r]="call_info_rsp",t[u.im_call_accept]="StUserInfo",t[u.im_call_accept+r]="CommonCodeMessage",t[u.im_call_refuse]="call_refuse_req",t[u.im_call_refuse+r]="CommonCodeMessage",t[u.im_call_ack]="call_req",t[u.im_call_ack+r]="CommonCodeMessage",t[u.im_call_info]="call_req",t[u.im_call_info+r]="call_info_rsp",t[u.im_push_call_invite]="PushCallInvited",t[u.im_push_call_cancel]="PushCallRefuse",t[u.im_push_call_accept]="PushCallAccept",t[u.im_push_call_refuse]="PushCallRefuse",t)},function(e,t,r){r.d(t,"b",function(){return d}),r.d(t,"a",function(){return u}),r.d(t,"c",function(){return c}),t=r(2);var d,u=((r=d=d||{}).InnerLogined="logined",r.InnerLogout="logout",r.InnerUpdateSelf="updateSelf",r.InnerJoinedGroup="joinedGroup",r.InnerLeftGroup="leftGroup",r.InnerSyncGroups="syncGroups",r.InnerSyncGroupInfo="syncGroupInfo",r.InnerUnreadMessageCount="unreadMessageCount",r.InnerConnectedRoom="connectedRoom",r.InnerConnected="connected",r.InnerDisConnected="disConnected",r.Logger="_loggerOutput",r.Error="error",r.ConnectionStateChanged="connectionStateChanged",r.TokenWillExpire="tokenWillExpire",r.ConversationChanged="conversationChanged",r.ConversationTotalUnreadMessageCountUpdated="conversationTotalUnreadMessageCountUpdated",r.ReceivePeerMessage="receivePeerMessage",r.ReceiveRoomMessage="receiveRoomMessage",r.ReceiveGroupMessage="receiveGroupMessage",r.ConversationMessageReceiptChanged="conversationMessageReceiptChanged",r.MessageReceiptChanged="messageReceiptChanged",r.MessageRevokeReceived="messageRevokeReceived",r.RoomStateChanged="roomStateChanged",r.RoomMemberJoined="roomMemberJoined",r.RoomMemberLeft="roomMemberLeft",r.RoomAttributesUpdated="roomAttributesUpdated",r.RoomAttributesBatchUpdated="roomAttributesBatchUpdated",r.RoomMemberAttributesUpdated="roomMemberAttributesUpdated",r.GroupStateChanged="groupStateChanged",r.GroupNameUpdated="groupNameUpdated",r.GroupNoticeUpdated="groupNoticeUpdated",r.GroupAvatarUrlUpdated="groupAvatarUrlUpdated",r.GroupAttributesUpdated="groupAttributesUpdated",r.GroupMemberStateChanged="groupMemberStateChanged",r.GroupMemberInfoUpdated="groupMemberInfoUpdated",r.CallInvitationReceived="callInvitationReceived",r.CallInvitationCancelled="callInvitationCancelled",r.CallInvitationTimeout="callInvitationTimeout",r.CallInvitationAccepted="callInvitationAccepted",r.CallInvitationRejected="callInvitationRejected",r.CallInviteesAnsweredTimeout="callInviteesAnsweredTimeout",{MAX_ID_SIZE:1024,MAX_NAME_SIZE:2048,MAX_MESSAGE_SIZE:49152,MESSAGE_SEQ_MULTIPLIER:100,get_user_attribute_qps:5,get_user_attribute_interval:30}),c=((r={})[t.s.Image]=1,r[t.s.File]=2,r[t.s.Audio]=3,r[t.s.Video]=4,r)},function(e,t,r){var d;r.d(t,"a",function(){return d}),(r=d=d||{}).User="User",r.Conv="Conversation",r.Group="Group",r.Member="GroupMember",r.Message="Message",r.MessageExtra="MessageExtra"},function(e,t,r){var d,u;r.d(t,"b",function(){return d}),r.d(t,"a",function(){return u}),(r=d=d||{}).Manager="Manager",r.Connection="Connection",r.Database="Database",r.User="User",r.Conversation="Conversation",r.Room="Room",r.Group="Group",r.Call="Call",(t=u=u||{}).CreateEngine="API.createEngine",t.DestroyEngine="API.destroyEngine",t.SetLogConfig="API.setLogConfig",t.UploadLog="API.uploadLog",t.Login="API.login",t.Logout="API.logout",t.RenewToken="API.renewToken",t.QueryUsersInfo="API.queryUsersInfo",t.UpdateUserName="API.updateUserName",t.UpdateUserAvatarUrl="API.updateUserAvatarUrl",t.UpdateUserExtendedData="API.updateUserExtendedData",t.QueryConversationList="API.queryConversationList",t.DeleteConversation="API.deleteConversation",t.ClearConversationUnreadMessageCount="API.clearConversationUnreadMessageCount",t.SetConversationNotificationStatus="API.setConversationNotificationStatus",t.SendMessage="API.sendMessage",t.SendMediaMessage="API.sendMediaMessage",t.DeleteMessages="API.deleteMessages",t.DeleteAllMessage="API.deleteAllMessage",t.QueryHistoryMessage="API.queryHistoryMessage",t.InsertMessageToLocalDB="API.insertMessageToLocalDB",t.SendConversationMessageReceiptRead="API.sendConversationMessageReceiptRead",t.SendMessageReceiptsRead="API.sendMessageReceiptsRead",t.QueryMessageReceiptsInfo="API.queryMessageReceiptsInfo",t.QueryGroupMessageReceiptReadMemberList="API.queryGroupMessageReceiptReadMemberList",t.QueryGroupMessageReceiptUnreadMemberList="API.QueryGroupMessageReceiptUnreadMemberList",t.RevokeMessage="API.RevokeMessage",t.CreateRoom="API.createRoom",t.JoinRoom="API.joinRoom",t.LeaveRoom="API.leaveRoom",t.QueryRoomMemberList="API.queryRoomMemberList",t.QueryRoomOnlineMemberCount="API.queryRoomOnlineMemberCount",t.SetRoomAttributes="API.setRoomAttributes",t.DeleteRoomAttributes="API.deleteRoomAttributes",t.QueryRoomAllAttributes="API.queryRoomAllAttributes",t.BeginRoomAttributesBatchOperation="API.beginRoomAttributesBatchOperation",t.EndRoomAttributesBatchOperation="API.endRoomAttributesBatchOperation",t.SetRoomMembersAttributes="API.setRoomMembersAttributes",t.QueryRoomMembersAttributes="API.queryRoomMembersAttributes",t.QueryRoomMemberAttributesList="API.queryRoomMemberAttributesList",t.CreateGroup="API.createGroup",t.EnterRoom="API.enterRoom",t.JoinGroup="API.joinGroup",t.DismissGroup="API.dismissGroup",t.LeaveGroup="API.leaveGroup",t.InviteUsersIntoGroup="API.inviteUsersIntoGroup",t.KickGroupMembers="API.kickGroupMembers",t.QueryGroupList="API.queryGroupList",t.QueryGroupMemberList="API.queryGroupMemberList",t.QueryGroupMemberCount="API.queryGroupMemberCount",t.TransferGroupOwner="API.transferGroupOwner",t.QueryGroupInfo="API.queryGroupInfo",t.UpdateGroupName="API.updateGroupName",t.UpdateGroupNotice="API.updateGroupNotice",t.UpdateGroupAvatarUrl="API.updateGroupAvatarUrl",t.SetGroupAttributes="API.setGroupAttributes",t.DeleteGroupAttributes="API.deleteGroupAttributes",t.QueryGroupAttributes="API.queryGroupAttributes",t.SetGroupMemberNickname="API.setGroupMemberNickname",t.SetGroupMemberRole="API.setGroupMemberRole",t.QueryGroupMemberInfo="API.queryGroupMemberInfo",t.CallInvite="API.callInvite",t.CallCancel="API.callCancel",t.CallAccept="API.callAccept",t.CallReject="API.callReject",t.SendCMD="sendCMD",t.PushCMD="pushCMD",t.Reconnection="reconnection",t.OpenConnection="openConnection",t.CloseConnection="closeConnection",t.CreateDB="createDB",t.DeleteDB="deleteDB",t.WriteDB="writeDB"},function(e,t,r){r.d(t,"h",function(){return v}),r.d(t,"j",function(){return g}),r.d(t,"b",function(){return o}),r.d(t,"d",function(){return n}),r.d(t,"c",function(){return s}),r.d(t,"f",function(){return i}),r.d(t,"e",function(){return a}),r.d(t,"a",function(){return m}),r.d(t,"i",function(){return f}),r.d(t,"g",function(){return b}),r.d(t,"k",function(){return C}),r.d(t,"l",function(){return w}),t=r(4);var d=r.n(t),u=r(9),c=r(0),v="web".indexOf("wx")!=-1,g=v?typeof tt!="undefined"?tt:typeof swan!="undefined"?swan:typeof my!="undefined"?my:typeof wx!="undefined"?wx:null:null,y=v?typeof tt!="undefined"?"douyin":typeof swan!="undefined"?"baidu":typeof my!="undefined"?"alipay":typeof wx!="undefined"?"weixin":"":"",o=function(){var M,S="z_deviceID",I=(M=new Date().getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(E){var D=(M+16*Math.random())%16|0;return M=Math.floor(M/16),(E=="x"?D:3&D|8).toString(36)})),x="";try{v?(x=g.getStorageSync(S)||"")||(x=I,g.setStorageSync(S,x)):(x=localStorage.getItem(S)||"")||(x=I,localStorage.setItem(S,x))}catch{x=I}return x}(),n=function(){if(!v)return navigator.userAgent.split(" ").slice(-2).join();var M=(I=g.getSystemInfoSync()).platform,S=I.system,I=I.version;return[y+","+M,S,I].join(";")}(),s=function(){if(!v)return navigator.userAgent;var M=(R=g.getSystemInfoSync()).brand,S=R.model,I=R.version,x=R.system,E=R.platform,D=R.SDKVersion,R=R.benchmarkLevel;return JSON.stringify({brand:M,model:S,version:I,system:x,platform:y+","+E,SDKVersion:D,benchmarkLevel:R})}(),i=function(){return new Date().getTime()+Math.random().toString().substring(2,7)},a=function(M){return typeof M=="string"?new Uint8Array(Array.from(unescape(encodeURIComponent(M||""))).map(function(S){return S.charCodeAt(0)})):M},m=function(M){if(typeof M=="string")return M;if(!M||!M.length)return"";M=String.fromCharCode.apply(String,function(S,I,x){if(x||arguments.length===2)for(var E,D=0,R=I.length;D<R;D++)!E&&D in I||((E=E||Array.prototype.slice.call(I,0,D))[D]=I[D]);return S.concat(E||Array.prototype.slice.call(I))}([],function(S,I){var x=typeof Symbol=="function"&&S[Symbol.iterator];if(!x)return S;var E,D,R=x.call(S),q=[];try{for(;(I===void 0||0<I--)&&!(E=R.next()).done;)q.push(E.value)}catch(A){D={error:A}}finally{try{E&&!E.done&&(x=R.return)&&x.call(R)}finally{if(D)throw D.error}}return q}(Array.from(M)),!1));try{return decodeURIComponent(escape(M))}catch{return decodeURIComponent(M)}},f=function(M,S){return!!M&&typeof M=="string"&&M.length<=c.g.MAX_ID_SIZE&&(!S||M[0]!="#")},b=function(M,S){if(!M||typeof M!="string"||M.length<31)return[c.m.NetworkModuleTokenInvalid];if(M.substring(0,2)!=="04")return[c.m.NetworkModuleTokenVersionError];try{var I=Array.from(u.a.toUint8Array(M.substring(2,14))),x=d.a.fromBytes(I.slice(0,8)).toInt();return[x<S||x<Date.now()/1e3?c.m.NetworkModuleTokenExpired:x<Date.now()/1e3+30?c.m.NetworkModuleTokenTimeIsTooShort:c.m.Success,x]}catch(E){return(0,console.warn)("Parse token fail for invalid Base64.",E),[c.m.NetworkModuleTokenInvalid]}},C=function(M,S){var I={};return M.forEach(function(x){return I[x]=S[x]}),I},_=((t={})[c.I.ReceiptDoing]=c.E.Processing,t[c.I.ReceiptDone]=c.E.Done,t[c.I.ReceiptExpired]=c.E.Expired,t[c.I.ReceiptFailed]=c.E.Failed,t[c.I.RevokeSelf]=c.F.SelfRevoke,t[c.I.RevokeSystem]=c.F.SystemRevoke,t[c.I.RevokeService]=c.F.ServiceAPIRevoke,t[c.I.RevokeGroupAdmin]=c.F.GroupAdminRevoke,t[c.I.RevokeGroupOwner]=c.F.GroupOwnerRevoke,t[c.I.VoteDoing]=1024,t[c.I.VoteDone]=2048,t),w=function(M){for(var S,I=0,x={revoke:0,receipt:0,vote:0};M;)1&M&&((S=1<<I)>=c.I.RevokeSelf&&S<=c.I.RevokeGroupOwner?x.revoke=_[S]:S>=c.I.ReceiptDone&&S<=c.I.ReceiptDoing?x.receipt=_[S]:S>=c.I.VoteDoing&&S<=c.I.VoteDone&&(x.vote=_[S])),I++,M>>=1;return x}},function(e,t){throw new Error(`Module parse failed: Unexpected token (6:29)
You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders
| import { ZIMLogTag, ZIMLogAction } from '../entity';
| 
> export class ZIMFileStoreBase<T extends Record<string, any>> {
|     private logger = ZIMManager.getInstance().logger;
|     private logTags: string[];`)},function(e,t){throw new Error(`Module parse failed: Unexpected token (20:26)
You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders
| } from '../entity';
| 
> export class ZIMStoreImpl implements ZIMStoreBase {
|     private userID = '';
|     private userStore: ZIMFileStoreBase<ZIMDBUser>;`)},function(e,t,r){r.r(t),r.d(t,"ZIMStoreImpl",function(){return g}),t=r(77);var d=r.n(t),u=r(3),c=r(16),v=r(0),g=(y.prototype.destroy=function(){this.storeMap.forEach(function(o){return o.close()}),this.storeMap.clear(),this.logger=null},y.prototype.getFileInfo=function(o){return new Promise(function(n,s){try{var i=o.size,a=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,m=1048576,f=Math.ceil(i/m),b=new d.a.ArrayBuffer,C=new FileReader,_=0,w=(C.onload=function(){var M=C.result||C.content;M?(b.append(M),++_<f?w():n({md5:b.end(),name:o.name,size:i})):s(Object(c.a)(v.m.MessageModuleFileSizeInvalid))},C.onerror=function(){s(Object(c.a)(v.m.MessageModuleFileNotExist))},function(){var M=_*m,S=Math.min(M+m,i);M=a.call(o,M,S),C.readAsArrayBuffer(M)});w()}catch(M){s(M)}})},y.prototype.uploadFile=function(o,n,s){return new Promise(function(i,a){function m(){return a(new Error("upload file error."))}var f=new XMLHttpRequest,b=(f.onreadystatechange=function(){if(f.readyState==4){if(f.status!=200)return a(new Error(f.responseText));i()}},f.upload.addEventListener("progress",s),f.onerror=m,f.ontimeout=m,f.open(o.method,o.url,!0),f.timeout=6e5,o.headers);b&&(delete b["User-Agent"],delete b["user-agent"],Object.keys(b).forEach(function(C){return f.setRequestHeader(C,b[C])})),f.send(n)})},y.prototype.setUserID=function(o){this.userID=o},y.prototype.setUser=function(o){this.batchAdd(this.getStaticDB(),v.l.User,[o])},y.prototype.getUser=function(o){return this.innerGetByID(this.getStaticDB(),v.l.User,o)},y.prototype.getUserList=function(){return this.innerGetAll(this.getStaticDB(),v.l.User)},y.prototype.addUserList=function(o){this.batchAdd(this.getStaticDB(),v.l.User,o)},y.prototype.addConversationList=function(o,n){var s=this,i=this.userID,a={_action_:n};return o.forEach(function(m){m.id||(m.id=s.appendID(m.type+m.conversationID)),m.ownerID||(m.ownerID=i),m.state=m.state||v.j.Normal,a[m.conversationID]=[m.state,m.unreadMessageCount,"".concat(m.minSeq,",").concat(m.maxSeq,",").concat(m.minOrderKey,",").concat(m.maxOrderKey),"".concat(m.msgSeq,",").concat(m.readMsgSeq,",").concat(m.sendMsgCount,",").concat(m.deletedMsgCount),"".concat(m.maxSendReceiptMsgSeq,",").concat(m.maxRecvReceiptMsgSeq,",").concat(m.minStatemsgSeq,",").concat(m.maxStatemsgSeq,",")]}),new Promise(function(m){return s.batchAdd(s.getStaticDB(),v.l.Conv,o,a,m)})},y.prototype.getConversationList=function(){return this.innerGetListByOwnerID(this.getStaticDB(),v.l.Conv)},y.prototype.addGroupList=function(o){var n=this,s=this.userID,i={};o.forEach(function(a){a.id||(a.id=n.appendID(a.groupID)),a.ownerID||(a.ownerID=s),i[a.groupID]=[a.dataSeq,a.attributeSeq,a.memberSeq,a.groupSeq]}),this.batchAdd(this.getStaticDB(),v.l.Group,o,i)},y.prototype.deleteGroupList=function(o){var n=this,s=v.k.Group,i=[];o.forEach(function(a){i.push(n.appendID(a)),n.createDynamicDB(a,s).then(function(m){return n.deleteAll(m,v.l.Member,a)})}),this.batchDelete(this.getStaticDB(),v.l.Group,i)},y.prototype.getGroup=function(o){return this.innerGetByID(this.getStaticDB(),v.l.Group,this.appendID(o))},y.prototype.getGroupList=function(){return this.innerGetListByOwnerID(this.getStaticDB(),v.l.Group)},y.prototype.addGroupMemberList=function(o,n){var s=this,i={_groupID_:o};n.forEach(function(a){i[a.userID]=[a.seq,a.memberRole]}),this.createDynamicDB(o,v.k.Group).then(function(a){return s.batchAdd(a,v.l.Member,n,i)}).catch(function(){var a={name:v.l.Member,groupID:o,list:n,onerror:"error"};s.logger.warn([v.B.Database],v.A.WriteDB,a)})},y.prototype.getGroupMember=function(o,n){var s=this;return this.createDynamicDB(o,v.k.Group).then(function(i){return s.innerGetByID(i,v.l.Member,n,o)})},y.prototype.getGroupMemberList=function(o){var n=this;return this.createDynamicDB(o,v.k.Group).then(function(s){return n.innerGetAll(s,v.l.Member,o)})},y.prototype.addMessageList=function(o,n,s){var i=this;return this.createDynamicDB(o,n).then(function(a){return new Promise(function(m){return i.batchAdd(a,v.l.Message,s,{convID:o,type:n},m)})})},y.prototype.deleteAllMessage=function(o,n){var s=this;this.createDynamicDB(o,n).then(function(i){return s.deleteAll(i,v.l.Message,n+o)}).catch(function(){var i={name:v.l.Message,convID:o,type:n,onerror:"error"};s.logger.warn([v.B.Database],v.A.WriteDB,i)})},y.prototype.deleteMessageList=function(o,n,s){var i=this;return this.createDynamicDB(o,n).then(function(a){var m=v.l.Message;return a.objectStoreNames.contains(m)?new Promise(function(f){i.batchDelete(a,m,s,n+o,function(){i.getLastMessage(o,n).then(f)})}):Promise.resolve({})})},y.prototype.clearRoomMessage=function(o){var n=this,s=this.seq++,i=Date.now(),a=[];o.forEach(function(m){var f,b=n.appendID(v.k.Room+m);a.push(b),n.storeMap.has(b)&&((f=indexedDB.deleteDatabase("".concat(n.dbNameMap.dynamic).concat(b))).onsuccess=function(){var C={seq:s,time:Date.now()-i,roomID:m};n.logger.info([v.B.Database],v.A.DeleteDB,C)},f.onerror=function(C){C={seq:s,time:Date.now()-i,roomID:m,onerror:C},n.logger.warn([v.B.Database],v.A.DeleteDB,C)},n.storeMap.get(b).close(),n.storeMap.delete(b))}),this.batchDelete(this.getStaticDB(),v.l.Conv,a)},y.prototype.getMessageList=function(o,n){var s=this,i=n.count,a=n.reverse,m=n.nextMessage,f=o.conversationID,b=o.type,C=o.minOrderKey||0,_=o.maxOrderKey||0;return this.createDynamicDB(f,b).then(function(w){var M=v.l.Message;return w.objectStoreNames.contains(M)?new Promise(function(S){var I=(i+1)*v.g.MESSAGE_SEQ_MULTIPLIER,x=m?m.orderKey:0,E=0,D=0,R=(I=(a?(D=x?x-1:_,E=Math.max(D-I,0)):D=(E=x?x+1:C)+I,s.seq++),Date.now()),q=[],A={seq:I,time:R,convID:f,type:b,queryCount:i,orderKey:x,min:E,max:D,convMin:C,convMax:_};if(C<=0&&_<=0)return A.time=Date.now()-R,s.logger.warn([v.B.Database],"getMessageList",A),S([]);I=E==D?IDBKeyRange.only(E):IDBKeyRange.bound(E,D),(x=w.transaction([M],"readonly").objectStore(M).index("orderKey").openCursor(I)).onsuccess=function(j){if(!(j=j.target.result))return q.sort(function(H,W){return H.orderKey-W.orderKey}),a?q.splice(0,q.length-i):q.splice(i),A.time=Date.now()-R,A.count=q.length,A.flag={},s.logger.info([v.B.Database],"getMessageList",A),S(q);q.push(j.value),j.continue()},x.onerror=function(j){A.time=Date.now()-R,A.onerror=j,s.logger.warn([v.B.Database],"getMessageList",A),S([])}}):Promise.resolve([])})},y.prototype.getMessageListBySeqs=function(o,n,s){var i=this;return this.createDynamicDB(o,n).then(function(a){var m=v.l.Message;return a.objectStoreNames.contains(m)?new Promise(function(f){var b=i.seq++,C=Date.now(),_={},w=s[s.length-1],M=new Map;w=s.length==1?IDBKeyRange.only(s[0]):IDBKeyRange.bound(s[0],w),(w=a.transaction([m],"readonly").objectStore(m).index("conversationSeq").openCursor(w)).onsuccess=function(S){if(!(S=S.target.result))return I={seq:b,time:Date.now()-C,convID:o,type:n,count:M.size,seqs:s,flag:_},i.logger.info([v.B.Database],"getMessageListBySeqs",I),f(M);var I=S.value,x=I.conversationSeq;s.indexOf(x)!=-1&&(M.set(x,I),_[x]=I.messageID),S.continue()},w.onerror=function(S){S={seq:b,time:Date.now()-C,convID:o,type:n,seqs:s,onerror:S},i.logger.warn([v.B.Database],"getMessageListBySeqs",S),f(new Map)}}):Promise.resolve(new Map)})},y.prototype.getLastMessage=function(o,n){var s=this;return this.createDynamicDB(o,n).then(function(i){var a=v.l.Message;return i.objectStoreNames.contains(a)?new Promise(function(m){var f=s.seq++,b=Date.now(),C=i.transaction([a],"readonly").objectStore(a).index("orderKey").openCursor(null,"prev");C.onsuccess=function(_){_=(_=_.target.result)&&_.value;var w={seq:f,time:Date.now()-b,convID:o,type:n,msg:_};s.logger.info([v.B.Database],"getLastMessage",w),m(_)},C.onerror=function(_){_={seq:f,time:Date.now()-b,convID:o,type:n,onerror:_},s.logger.warn([v.B.Database],"getLastMessage",_),m({})}}):Promise.resolve({})})},y.prototype.addMessageExtraList=function(o,n){this.batchAdd(this.getStaticDB(),v.l.MessageExtra,o,{_action_:n})},y.prototype.getMessageExtraList=function(){return this.innerGetListByOwnerID(this.getStaticDB(),v.l.MessageExtra)},y.prototype.appendID=function(o){return"".concat(this.userID).concat(o)},y.prototype.getStaticDB=function(){return this.storeMap.get("static")},y.prototype.createStaticDB=function(){var o,n,s=this;this.getStaticDB()||(o=Date.now(),(n=indexedDB.open(this.dbNameMap.static,2)).onsuccess=function(i){n.onsuccess=null,s.storeMap.set("static",n.result),s.initStaticStore({time:o,event:"onsuccess"})},n.onupgradeneeded=function(i){n.onupgradeneeded=null,i.newVersion&&i.newVersion>i.oldVersion&&(s.storeMap.set("static",i.target.result),s.initStaticStore({time:o,event:"onupgradeneeded"}))})},y.prototype.createDynamicDB=function(o,n){var s=this,i=this.appendID(n+o);return this.storeMap.has(i)?Promise.resolve(this.storeMap.get(i)):new Promise(function(a,m){var f=Date.now(),b=indexedDB.open("".concat(s.dbNameMap.dynamic).concat(i),2);b.onsuccess=function(C){b.onsuccess=null;var _=b.result;if(s.initDynamicStore(_,o,n,{time:f,event:"onsuccess"}),b.transaction){try{b.transaction.objectStore(v.l.Message).createIndex("conversationSeq","conversationSeq")}catch{}b.transaction.oncomplete=function(){s.storeMap.set(i,_),a(_)}}else s.storeMap.set(i,_),a(_)},b.onupgradeneeded=function(C){if(b.onupgradeneeded=null,C.newVersion&&C.newVersion>C.oldVersion){var _=C.target.result;if(s.initDynamicStore(_,o,n,{time:f,event:"onupgradeneeded"}),b.transaction){try{b.transaction.objectStore(v.l.Message).createIndex("conversationSeq","conversationSeq")}catch{}b.transaction.oncomplete=function(){s.storeMap.set(i,_),a(_)}}else s.storeMap.set(i,_),a(_)}},b.onerror=function(){var C={time:Date.now()-f,convID:o,type:n,onerror:"open onerror"};s.logger.warn([v.B.Database],v.A.CreateDB,C),m()},b.onblocked=function(){var C={time:Date.now()-f,convID:o,type:n,onerror:"open onblocked"};s.logger.warn([v.B.Database],v.A.CreateDB,C)}})},y.prototype.initStaticStore=function(o){var n,s=!1,i=this.getStaticDB();i.objectStoreNames.contains(v.l.User)||(s=!0,i.createObjectStore(v.l.User,{keyPath:"userID"})),i.objectStoreNames.contains(v.l.Conv)||(s=!0,(n=i.createObjectStore(v.l.Conv,{keyPath:"id"})).createIndex("ownerID","ownerID")),i.objectStoreNames.contains(v.l.Group)||(s=!0,(n=i.createObjectStore(v.l.Group,{keyPath:"id"})).createIndex("ownerID","ownerID"),n.createIndex("groupName","groupName")),i.objectStoreNames.contains(v.l.MessageExtra)||(s=!0,(n=i.createObjectStore(v.l.MessageExtra,{keyPath:"id"})).createIndex("ownerID","ownerID")),Object.assign(o,{time:Date.now()-o.time,isCreate:s,db:"Static"}),this.logger.info([v.B.Database],v.A.CreateDB,o)},y.prototype.initDynamicStore=function(o,n,s,i){var a,m=!1;o.objectStoreNames.contains(v.l.Message)||(m=!0,(a=o.createObjectStore(v.l.Message,{keyPath:"messageID"})).createIndex("type","type"),a.createIndex("timestamp","timestamp"),a.createIndex("sentStatus","sentStatus"),a.createIndex("orderKey","orderKey"),a.createIndex("message","message"),a.createIndex("conversationSeq","conversationSeq")),s!==v.k.Group||o.objectStoreNames.contains(v.l.Member)||(m=!0,(a=o.createObjectStore(v.l.Member,{keyPath:"userID"})).createIndex("userName","userName"),a.createIndex("memberRole","memberRole"),a.createIndex("memberNickname","memberNickname")),Object.assign(i,{time:Date.now()-i.time,isCreate:m,convID:n,type:s,db:"Dynamic"}),this.logger.info([v.B.Database],v.A.CreateDB,i)},y.prototype.batchAdd=function(o,n,s,i,a){var m=this;if(!s.length)return a&&a();var f=this.seq++,b=Date.now(),C=o.transaction([n],"readwrite").objectStore(n);C.transaction.oncomplete=function(){var _={seq:f,total:s.length,time:Date.now()-b,flag:i};m.logger.info([v.B.Database],"batchAdd"+n,_),a&&a()},C.transaction.onerror=function(){var _={seq:f,name:n,time:Date.now()-b,onerror:"batchAdd onerror",flag:i};m.logger.warn([v.B.Database],v.A.WriteDB,_),a&&a()},C.transaction.onabort=function(){var _={seq:f,name:n,time:Date.now()-b,onerror:"batchAdd onabort",flag:i};m.logger.warn([v.B.Database],v.A.WriteDB,_),a&&a()},s.forEach(function(_){return C.put(_)})},y.prototype.batchDelete=function(o,n,s,i,a){var m=this;if(!o.objectStoreNames.contains(n)||!s.length)return a&&a();var f=this.seq++,b=Date.now(),C=o.transaction([n],"readwrite").objectStore(n);C.transaction.oncomplete=function(){var _={seq:f,total:s.length,time:Date.now()-b,ids:s,pid:i};m.logger.info([v.B.Database],"batchDelete"+n,_),a&&a()},C.transaction.onerror=function(){var _={seq:f,name:n,time:Date.now()-b,onerror:"batchDelete onerror",ids:s,pid:i};m.logger.warn([v.B.Database],v.A.WriteDB,_)},C.transaction.onabort=function(){var _={seq:f,name:n,time:Date.now()-b,onerror:"batchDelete onabort",ids:s,pid:i};m.logger.warn([v.B.Database],v.A.WriteDB,_)},s.forEach(function(_){return C.delete(_)})},y.prototype.deleteAll=function(o,n,s){var i,a,m=this;o.objectStoreNames.contains(n)&&(i=this.seq++,a=Date.now(),(o=o.transaction([n],"readwrite").objectStore(n)).transaction.oncomplete=function(){m.logger.info([v.B.Database],"deleteAll"+n,{seq:i,time:Date.now()-a,pid:s})},o.transaction.onerror=function(){var f={seq:i,name:n,time:Date.now()-a,onerror:"deleteAll onerror",pid:s};m.logger.warn([v.B.Database],v.A.WriteDB,f)},o.transaction.onabort=function(){var f={seq:i,name:n,time:Date.now()-a,onerror:"deleteAll onabort",pid:s};m.logger.warn([v.B.Database],v.A.WriteDB,f)},o.clear())},y.prototype.innerGetByID=function(o,n,s,i){var a=this;return o.objectStoreNames.contains(n)?new Promise(function(m){var f=a.seq++,b=Date.now(),C=o.transaction([n],"readonly").objectStore(n).get(s);C.onsuccess=function(_){m(C.result||{})},C.onerror=function(_){_={seq:f,time:Date.now()-b,id:s,pid:i,onerror:_},a.logger.warn([v.B.Database],"get"+n,_),m({})}}):Promise.resolve({})},y.prototype.innerGetListByOwnerID=function(o,n,s){var i=this;return o.objectStoreNames.contains(n)?new Promise(function(a){var m=i.seq++,f=Date.now(),b=[],C=o.transaction([n],"readonly").objectStore(n).index("ownerID").openCursor(IDBKeyRange.only(i.userID));C.onsuccess=function(_){if(!(_=_.target.result))return w={seq:m,total:b.length,time:Date.now()-f},i.logger.info([v.B.Database],"get".concat(n,"List"),w),a(b);var w=_.value;s&&!s(w)||b.push(w),_.continue()},C.onerror=function(_){_={seq:m,total:b.length,time:Date.now()-f,onerror:_},i.logger.warn([v.B.Database],"get".concat(n,"List"),_),a(b)}}):Promise.resolve([])},y.prototype.innerGetAll=function(o,n,s){var i=this;return o.objectStoreNames.contains(n)?new Promise(function(a){var m=i.seq++,f=Date.now(),b=o.transaction([n],"readonly").objectStore(n).getAll();b.onsuccess=function(C){var _=b.result||[],w={seq:m,total:_.length,time:Date.now()-f,pid:s};i.logger.info([v.B.Database],"get".concat(n,"List"),w),a(_)},b.onerror=function(C){C={seq:m,total:0,time:Date.now()-f,onerror:C,pid:s},i.logger.warn([v.B.Database],"get".concat(n,"List"),C),a([])}}):Promise.resolve([])},y);function y(o){this.logger=u.a.getInstance().logger,this.dbNameMap={static:"",dynamic:""},this.storeMap=new Map,this.seq=1,this.userID="",this.dbNameMap.static="ZIMSDKSTATIC"+o,this.dbNameMap.dynamic="ZIMSDKDYNAMIC"+o,this.createStaticDB()}},function(e,t,r){r.d(t,"a",function(){return y});var d=r(80),u=r(8),c=function(){return(c=Object.assign||function(n){for(var s,i=1,a=arguments.length;i<a;i++)for(var m in s=arguments[i])Object.prototype.hasOwnProperty.call(s,m)&&(n[m]=s[m]);return n}).apply(this,arguments)},v=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,i=s&&n[s],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return{value:(n=n&&a>=n.length?void 0:n)&&n[a++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},g=function(n,s){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a,m,f=i.call(n),b=[];try{for(;(s===void 0||0<s--)&&!(a=f.next()).done;)b.push(a.value)}catch(C){m={error:C}}finally{try{a&&!a.done&&(i=f.return)&&i.call(f)}finally{if(m)throw m.error}}return b},y=(o.prototype.init=function(n){return function(s,i,a,m){return new(a=a||Promise)(function(f,b){function C(M){try{w(m.next(M))}catch(S){b(S)}}function _(M){try{w(m.throw(M))}catch(S){b(S)}}function w(M){var S;M.done?f(M.value):((S=M.value)instanceof a?S:new a(function(I){I(S)})).then(C,_)}w((m=m.apply(s,i||[])).next())})}(this,void 0,void 0,function(){var s,i,a=this;return function(m,f){var b,C,_,w={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]},M={next:S(0),throw:S(1),return:S(2)};return typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function S(I){return function(x){var E=[I,x];if(b)throw new TypeError("Generator is already executing.");for(;w;)try{if(b=1,C&&(_=2&E[0]?C.return:E[0]?C.throw||((_=C.return)&&_.call(C),0):C.next)&&!(_=_.call(C,E[1])).done)return _;switch(C=0,(E=_?[2&E[0],_.value]:E)[0]){case 0:case 1:_=E;break;case 4:return w.label++,{value:E[1],done:!1};case 5:w.label++,C=E[1],E=[0];continue;case 7:E=w.ops.pop(),w.trys.pop();continue;default:if(!(_=0<(_=w.trys).length&&_[_.length-1])&&(E[0]===6||E[0]===2)){w=0;continue}if(E[0]===3&&(!_||E[1]>_[0]&&E[1]<_[3])){w.label=E[1];break}if(E[0]===6&&w.label<_[1]){w.label=_[1],_=E;break}if(_&&w.label<_[2]){w.label=_[2],w.ops.push(E);break}_[2]&&w.ops.pop(),w.trys.pop();continue}E=f.call(m,w)}catch(D){E=[6,D],C=0}finally{b=_=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}}}(this,function(m){return i="",s=this.miniProgram?(this.fileConfig=c(c({},u.c),n),i="zego.fileHandler",function(){return a.bufferDump()}):(this.fileConfig=c(c({},u.b),n),i="zego.storeHandler",function(){return a.storeHandler.storeData(a.headerInfo)}),i=r(114)("./"+i).ZegoStoreImpl,this.storeHandler=new i(this.product,this.fileConfig,s,this.miniProgram),[2]})})},o.prototype.setLogLevel=function(n){return(n=u.a[n])!==void 0&&(this.logLevel=n,!0)},o.prototype.setHeaderInfo=function(n){this.headerInfo=n,!(this.miniProgram||this.commonField&&typeof this.commonField.get("userID")=="string")||this.miniProgram&&this.storeHandler&&!this.storeHandler.isInited()?this.tempBuffer.push(n):this.storeHandler.storeData(n)},o.prototype.setCommonField=function(n){return Object.prototype.toString.call(n)==="[object Map]"&&n.get("userID")!=null&&typeof n.get("userID")=="string"&&n.get("userID")!==""&&(this.commonField=n,this.bufferDump(),this.isUserIDExist=!0)},o.prototype.write=function(n,s,i,a){var m=u.a[s];if(m===void 0)return!1;if(n=this.logParams(n,s,i,a),this.logLevel!==u.a.DISABLE&&this.logLevel<=m&&(s=="debug"||s=="report"||s=="info"?console.info:console.warn)(n),this.logRemoteLevel!==u.a.DISABLE&&this.logRemoteLevel<=m){if(this.uploading)return this.tempBuffer.push(n),!0;if(!(this.miniProgram||this.commonField&&typeof this.commonField.get("userID")=="string"))return this.tempBuffer.push(n),!0;if(this.miniProgram&&this.storeHandler&&!this.storeHandler.isInited())return this.tempBuffer.push(n),!0;this.storeHandler.storeData(n)}return!0},o.prototype.upload=function(n){var s=this;return n.uploadURL&&this.isUserIDExist?(this.uploading=!0,this.storeHandler.upload(n).then(function(i){return s.bufferDump(),s.uploading=!1,i}).catch(function(i){throw s.uploading=!1,i})):Promise.reject({code:1001})},o.prototype.bufferDump=function(){var n,s,i=this.tempBuffer.shift();if(i){var a="";if(!this.miniProgram&&this.commonField&&typeof this.commonField.get("userID")=="string"&&this.commonField.get("userID")!==""){var m=i.indexOf("]:");if(m==-1)a=i;else{var f="";try{for(var b=v(this.commonField),C=b.next();!C.done;C=b.next()){var _=g(C.value,2),w=(_[0],_[1]);f+="[".concat(w,"]")}}catch(M){n={error:M}}finally{try{C&&!C.done&&(s=b.return)&&s.call(b)}finally{if(n)throw n.error}}a=i.slice(0,m+2)+f+i.slice(m+2)}}else this.miniProgram&&(a=i);this.storeHandler.storeData(a),this.bufferDump()}},o.prototype.logParams=function(n,s,i,a){var m,f=this.getCurrentTime(),b=(s=s.substr(0,1).toUpperCase(),"");if(!this.miniProgram&&this.commonField){var C="";try{for(var _=v(this.commonField),w=_.next();!w.done;w=_.next()){var M=g(w.value,2),S=(M[0],M[1]);C+="[".concat(S,"]")}}catch(E){m={error:E}}finally{try{w&&!w.done&&(x=_.return)&&x.call(_)}finally{if(m)throw m.error}}b=C}var I="",x=(n.forEach(function(E){I+="[".concat(E,"]")}),"");return typeof((m=window==null?void 0:window.performance)==null?void 0:m.now)=="function"&&(x="[".concat(window.performance.now().toFixed(1),"]")),"[".concat(f,"]").concat(x,"[").concat(s,"][").concat(i,"]").concat(I,":").concat(b).concat(a)},o.prototype.getCurrentTime=function(){var n=new Date;return[this.D[n.getMonth()+1]||n.getMonth()+1,(this.D[n.getDate()]||n.getDate())+" ",(this.D[n.getHours()]||n.getHours())+":",(this.D[n.getMinutes()]||n.getMinutes())+":",this.D[n.getSeconds()]||n.getSeconds(),"."+n.getTime()%1e3].join("")},o);function o(n,s,i){this.product=n,this.miniProgram=s,this.logLevel=u.a.INFO,this.logRemoteLevel=0,this.tempBuffer=[],this.isUserIDExist=!1,this.uploading=!1,this.D=["00","01","02","03","04","05","06","07","08","09"],this.stateCenter=d.a.getInstance(),this.init(i)}},function(e,t){throw new Error(`Module parse failed: Unexpected token (3:27)
You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders
| import { ZegoStore, FileConfig, UploadRequestParam } from '../zego.entity';
| 
> export class ZegoStoreImpl implements ZegoStore {
|     basePath = '';
|     filePath = '';`)},function(e,t,r){r.r(t),r.d(t,"ZegoStoreImpl",function(){return y}),t=r(81);var d=r.n(t),u=(t=r(17),r.n(t)),c=r(8),v=function(n,s,i,a){return new(i=i||Promise)(function(m,f){function b(w){try{_(a.next(w))}catch(M){f(M)}}function C(w){try{_(a.throw(w))}catch(M){f(M)}}function _(w){var M;w.done?m(w.value):((M=w.value)instanceof i?M:new i(function(S){S(M)})).then(b,C)}_((a=a.apply(n,s||[])).next())})},g=function(n,s){var i,a,m,f={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]},b={next:C(0),throw:C(1),return:C(2)};return typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function C(_){return function(w){var M=[_,w];if(i)throw new TypeError("Generator is already executing.");for(;f;)try{if(i=1,a&&(m=2&M[0]?a.return:M[0]?a.throw||((m=a.return)&&m.call(a),0):a.next)&&!(m=m.call(a,M[1])).done)return m;switch(a=0,(M=m?[2&M[0],m.value]:M)[0]){case 0:case 1:m=M;break;case 4:return f.label++,{value:M[1],done:!1};case 5:f.label++,a=M[1],M=[0];continue;case 7:M=f.ops.pop(),f.trys.pop();continue;default:if(!(m=0<(m=f.trys).length&&m[m.length-1])&&(M[0]===6||M[0]===2)){f=0;continue}if(M[0]===3&&(!m||M[1]>m[0]&&M[1]<m[3])){f.label=M[1];break}if(M[0]===6&&f.label<m[1]){f.label=m[1],m=M;break}if(m&&f.label<m[2]){f.label=m[2],f.ops.push(M);break}m[2]&&f.ops.pop(),f.trys.pop();continue}M=s.call(n,f)}catch(S){M=[6,S],a=0}finally{i=m=0}if(5&M[0])throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}}},y=(o.prototype.isInited=function(){return!0},o.prototype.storeData=function(n){return v(this,void 0,void 0,function(){var s;return g(this,function(i){switch(i.label){case 0:if(!n)return[2,Promise.resolve()];if(!this.store)return this.storeBuffer.push(n),[2,Promise.resolve()];s=(s=new Date().getTime())+"_"+Object(c.d)(),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.store.setItem(s,n)];case 2:return i.sent(),this.storeSize+=n.length+1,this.refreshStoreSize(),this.storeSize>=this.fileConfig.maxSize*this.fileConfig.maxFiles&&!this.droping&&this.dropData(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}})})},o.prototype.upload=function(n){var s=this;return this.readData().then(function(i){var a,m;return i!==null?(a=new Date().getTime(),(m=new FormData).append("logs",i),m.append("id_name",n.userID),m.append("appid",n.appID),m.append("timestamp",a+""),m.append("token",n.token),m.append("deviceid",n.deviceID||""),m.append("product",n.product),m.append("req_sdk","1"),new Promise(function(f,b){s.postFile(n.uploadURL,m,f,b)})):{code:0,msg:"empty content"}})},o.prototype.postFile=function(n,s,i,a){var m=this,f=new XMLHttpRequest;f.open("post",n),f.onreadystatechange=function(){var b,C,_;f.readyState==4&&(200<=f.status&&f.status<300||f.status==304?(b=JSON.parse(f.responseText),C=b.code,_=b.message,C===0?(m.postFailCount=0,m.clearStore().then(function(){return i({code:C,msg:_})})):C==4&&(m.postFailCount++,m.postFailCount<3?m.postFile(n,s,i,a):(m.postFailCount=0,a({code:C,msg:_})))):(m.postFailCount=0,a({code:1001,msg:"upload fail"})))},f.send(s)},o.prototype.init=function(){return v(this,void 0,void 0,function(){var n,s=this;return g(this,function(i){switch(i.label){case 0:this.storeCommon=u.a.createInstance({name:"logger_common"}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.storeCommon.getItem(this.product+"_logger")];case 2:return n=i.sent(),this.storeSize=n||0,[3,4];case 3:return i.sent(),[3,4];case 4:return this.store=u.a.createInstance({name:this.product+"_logger"}),0<this.storeBuffer.length&&this.storeBuffer.forEach(function(a){s.storeData(a)}),[2]}})})},o.prototype.readData=function(){return v(this,void 0,void 0,function(){var n,s,i,a,m,f,b,C,_=this;return g(this,function(w){switch(w.label){case 0:n=new d.a,s=n.folder("log"),i="",a=console.log,m="",b=f=0,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,this.store.iterate(function(M){m+=M+`
`,(f+=M.length+1)>_.fileConfig.maxSize&&(b++,m="",f=0),s&&s.file("".concat(_.product).concat(b,".txt"),m)})];case 2:return w.sent(),i="ZegoLoggerSDK: Iteration has completed, ",[3,4];case 3:return w.sent(),[3,4];case 4:return w.trys.push([4,6,,7]),[4,n.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}})];case 5:return C=w.sent(),C=new Blob([C]),i+="size=".concat(C.size),a(i),[2,C];case 6:return w.sent(),[2,null];case 7:return[2]}})})},o.prototype.clearStore=function(){return v(this,void 0,void 0,function(){return g(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.store.clear()];case 1:return n.sent(),this.storeSize=0,this.refreshStoreSize(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}})})},o.prototype.refreshStoreSize=function(){return v(this,void 0,void 0,function(){return g(this,function(n){switch(n.label){case 0:return[4,this.storeCommon.setItem(this.product+"_logger",this.storeSize)];case 1:return n.sent(),[2]}})})},o.prototype.dropData=function(){return v(this,void 0,void 0,function(){var n,s,i,a;return g(this,function(m){switch(m.label){case 0:return m.trys.push([0,8,,9]),this.droping=!0,[4,this.store.keys()];case 1:n=m.sent(),i=s=0,m.label=2;case 2:return i<n.length?[4,this.store.getItem(n[i])]:[3,7];case 3:return(a=m.sent())?(s+=a.length+1)<this.fileConfig.maxSize*this.fileConfig.dropPer?[4,this.store.removeItem(n[i])]:[3,5]:[3,6];case 4:return m.sent(),this.storeSize-=a.length+1,this.refreshStoreSize(),[3,6];case 5:return this.droping=!1,this.dataDropCallback(),[3,7];case 6:return i++,[3,2];case 7:return[3,9];case 8:return m.sent(),[3,9];case 9:return[2]}})})},o);function o(n,s,i){this.product=n,this.fileConfig=s,this.storeBuffer=[],this.droping=!1,this.postFailCount=0,this.init(),this.dataDropCallback=i}},function(e,t,r){(function(d){var u=r(115),c=r(116),v=r(117);function g(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(N,k){if(g()<k)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(N=new Uint8Array(k)).__proto__=o.prototype:(N=N===null?new o(k):N).length=k,N}function o(N,k,L){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(N,k,L);if(typeof N!="number")return n(this,N,k,L);if(typeof k=="string")throw new Error("If encoding is specified then the first argument must be a string");return i(this,N)}function n(N,k,L,$){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');if(typeof ArrayBuffer!="undefined"&&k instanceof ArrayBuffer){var B=N,G=k,Z=L;if(G.byteLength,Z<0||G.byteLength<Z)throw new RangeError("'offset' is out of bounds");if(G.byteLength<Z+($||0))throw new RangeError("'length' is out of bounds");return G=Z===void 0&&$===void 0?new Uint8Array(G):$===void 0?new Uint8Array(G,Z):new Uint8Array(G,Z,$),o.TYPED_ARRAY_SUPPORT?(B=G).__proto__=o.prototype:B=a(B,G),B}if(typeof k!="string"){if(Z=N,$=k,o.isBuffer($))return(Z=y(Z,G=0|m($.length))).length===0||$.copy(Z,0,0,G),Z;if($){if(typeof ArrayBuffer!="undefined"&&$.buffer instanceof ArrayBuffer||"length"in $)return typeof $.length!="number"||function(re){return re!=re}($.length)?y(Z,0):a(Z,$);if($.type==="Buffer"&&v($.data))return a(Z,$.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}if(B=N,$=k,N=L,!o.isEncoding(N=typeof N=="string"&&N!==""?N:"utf8"))throw new TypeError('"encoding" must be a valid string encoding');return($=(B=y(B,k=0|f($,N))).write($,N))!==k?B.slice(0,$):B}function s(N){if(typeof N!="number")throw new TypeError('"size" argument must be a number');if(N<0)throw new RangeError('"size" argument must not be negative')}function i(N,k){if(s(k),N=y(N,k<0?0:0|m(k)),!o.TYPED_ARRAY_SUPPORT)for(var L=0;L<k;++L)N[L]=0;return N}function a(N,k){var L=k.length<0?0:0|m(k.length);N=y(N,L);for(var $=0;$<L;$+=1)N[$]=255&k[$];return N}function m(N){if(N>=g())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g().toString(16)+" bytes");return 0|N}function f(N,k){if(o.isBuffer(N))return N.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(N)||N instanceof ArrayBuffer))return N.byteLength;var L=(N=typeof N!="string"?""+N:N).length;if(L===0)return 0;for(var $=!1;;)switch(k){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":case void 0:return X(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*L;case"hex":return L>>>1;case"base64":return ee(N).length;default:if($)return X(N).length;k=(""+k).toLowerCase(),$=!0}}function b(N,k,L){var $,B=!1;if((k=k===void 0||k<0?0:k)>this.length||(L=L===void 0||L>this.length?this.length:L)<=0||(L>>>=0)<=(k>>>=0))return"";for(N=N||"utf8";;)switch(N){case"hex":var G=k,Z=L,re=this.length;(!Z||Z<0||re<Z)&&(Z=re);for(var z="",ie=G=!G||G<0?0:G;ie<Z;++ie)z+=function(ke){return ke<16?"0"+ke.toString(16):ke.toString(16)}(this[ie]);return z;case"utf8":case"utf-8":return I(this,k,L);case"ascii":re=k;var se=L,Ce="";se=Math.min(this.length,se);for(var Se=re;Se<se;++Se)Ce+=String.fromCharCode(127&this[Se]);return Ce;case"latin1":case"binary":G=k;var F=L,J="";F=Math.min(this.length,F);for(var he=G;he<F;++he)J+=String.fromCharCode(this[he]);return J;case"base64":return de=this,$=L,(ge=k)===0&&$===de.length?u.fromByteArray(de):u.fromByteArray(de.slice(ge,$));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var de=k,ge=L,_e=this.slice(de,ge),fe="",we=0;we<_e.length;we+=2)fe+=String.fromCharCode(_e[we]+256*_e[we+1]);return fe;default:if(B)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),B=!0}}function C(N,k,L){var $=N[k];N[k]=N[L],N[L]=$}function _(N,k,L,$,B){if(N.length===0)return-1;if(typeof L=="string"?($=L,L=0):2147483647<L?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,(L=(L=isNaN(L)?B?0:N.length-1:L)<0?N.length+L:L)>=N.length){if(B)return-1;L=N.length-1}else if(L<0){if(!B)return-1;L=0}if(typeof k=="string"&&(k=o.from(k,$)),o.isBuffer(k))return k.length===0?-1:w(N,k,L,$,B);if(typeof k=="number")return k&=255,o.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?(B?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(N,k,L):w(N,[k],L,$,B);throw new TypeError("val must be string, number or Buffer")}function w(N,k,L,$,B){var G=1,Z=N.length,re=k.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(N.length<2||k.length<2)return-1;Z/=G=2,re/=2,L/=2}function z(F,J){return G===1?F[J]:F.readUInt16BE(J*G)}if(B)for(var ie=-1,se=L;se<Z;se++)if(z(N,se)===z(k,ie===-1?0:se-ie)){if(se-(ie=ie===-1?se:ie)+1===re)return ie*G}else ie!==-1&&(se-=se-ie),ie=-1;else for(se=L=Z<L+re?Z-re:L;0<=se;se--){for(var Ce=!0,Se=0;Se<re;Se++)if(z(N,se+Se)!==z(k,Se)){Ce=!1;break}if(Ce)return se}return-1}function M(N,k,L,$){return ae(function(B){for(var G=[],Z=0;Z<B.length;++Z)G.push(255&B.charCodeAt(Z));return G}(k),N,L,$)}function S(N,k,L,$){return ae(function(B,G){for(var Z,re,z=[],ie=0;ie<B.length&&!((G-=2)<0);++ie)Z=(re=B.charCodeAt(ie))>>8,re%=256,z.push(re),z.push(Z);return z}(k,N.length-L),N,L,$)}function I(N,k,L){L=Math.min(N.length,L);for(var $=[],B=k;B<L;){var G,Z,re,z,ie=N[B],se=null,Ce=239<ie?4:223<ie?3:191<ie?2:1;if(B+Ce<=L)switch(Ce){case 1:ie<128&&(se=ie);break;case 2:(192&(G=N[B+1]))==128&&127<(z=(31&ie)<<6|63&G)&&(se=z);break;case 3:G=N[B+1],Z=N[B+2],(192&G)==128&&(192&Z)==128&&2047<(z=(15&ie)<<12|(63&G)<<6|63&Z)&&(z<55296||57343<z)&&(se=z);break;case 4:G=N[B+1],Z=N[B+2],re=N[B+3],(192&G)==128&&(192&Z)==128&&(192&re)==128&&65535<(z=(15&ie)<<18|(63&G)<<12|(63&Z)<<6|63&re)&&z<1114112&&(se=z)}se===null?(se=65533,Ce=1):65535<se&&(se-=65536,$.push(se>>>10&1023|55296),se=56320|1023&se),$.push(se),B+=Ce}var Se=$,F=Se.length;if(F<=x)return String.fromCharCode.apply(String,Se);for(var J="",he=0;he<F;)J+=String.fromCharCode.apply(String,Se.slice(he,he+=x));return J}t.Buffer=o,t.SlowBuffer=function(N){return+N!=N&&(N=0),o.alloc(+N)},t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=d.TYPED_ARRAY_SUPPORT!==void 0?d.TYPED_ARRAY_SUPPORT:function(){try{var N=new Uint8Array(1);return N.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},N.foo()===42&&typeof N.subarray=="function"&&N.subarray(1,1).byteLength===0}catch{return!1}}(),t.kMaxLength=g(),o.poolSize=8192,o._augment=function(N){return N.__proto__=o.prototype,N},o.from=function(N,k,L){return n(null,N,k,L)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(N,k,L){return $=null,k=k,L=L,s(N=N),N<=0||k===void 0?y($,N):typeof L=="string"?y($,N).fill(k,L):y($,N).fill(k);var $},o.allocUnsafe=function(N){return i(null,N)},o.allocUnsafeSlow=function(N){return i(null,N)},o.isBuffer=function(N){return!(N==null||!N._isBuffer)},o.compare=function(N,k){if(!o.isBuffer(N)||!o.isBuffer(k))throw new TypeError("Arguments must be Buffers");if(N===k)return 0;for(var L=N.length,$=k.length,B=0,G=Math.min(L,$);B<G;++B)if(N[B]!==k[B]){L=N[B],$=k[B];break}return L<$?-1:$<L?1:0},o.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(N,k){if(!v(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return o.alloc(0);if(k===void 0)for(B=k=0;B<N.length;++B)k+=N[B].length;for(var L=o.allocUnsafe(k),$=0,B=0;B<N.length;++B){var G=N[B];if(!o.isBuffer(G))throw new TypeError('"list" argument must be an Array of Buffers');G.copy(L,$),$+=G.length}return L},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<N;k+=2)C(this,k,k+1);return this},o.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<N;k+=4)C(this,k,k+3),C(this,k+1,k+2);return this},o.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<N;k+=8)C(this,k,k+7),C(this,k+1,k+6),C(this,k+2,k+5),C(this,k+3,k+4);return this},o.prototype.toString=function(){var N=0|this.length;return N==0?"":arguments.length===0?I(this,0,N):b.apply(this,arguments)},o.prototype.equals=function(N){if(o.isBuffer(N))return this===N||o.compare(this,N)===0;throw new TypeError("Argument must be a Buffer")},o.prototype.inspect=function(){var N="",k=t.INSPECT_MAX_BYTES;return 0<this.length&&(N=this.toString("hex",0,k).match(/.{2}/g).join(" "),this.length>k&&(N+=" ... ")),"<Buffer "+N+">"},o.prototype.compare=function(N,k,L,$,B){if(!o.isBuffer(N))throw new TypeError("Argument must be a Buffer");if(L===void 0&&(L=N?N.length:0),$===void 0&&($=0),B===void 0&&(B=this.length),(k=k===void 0?0:k)<0||L>N.length||$<0||B>this.length)throw new RangeError("out of range index");if(B<=$&&L<=k)return 0;if(B<=$)return-1;if(L<=k)return 1;if(this===N)return 0;for(var G=(B>>>=0)-($>>>=0),Z=(L>>>=0)-(k>>>=0),re=Math.min(G,Z),z=this.slice($,B),ie=N.slice(k,L),se=0;se<re;++se)if(z[se]!==ie[se]){G=z[se],Z=ie[se];break}return G<Z?-1:Z<G?1:0},o.prototype.includes=function(N,k,L){return this.indexOf(N,k,L)!==-1},o.prototype.indexOf=function(N,k,L){return _(this,N,k,L,!0)},o.prototype.lastIndexOf=function(N,k,L){return _(this,N,k,L,!1)},o.prototype.write=function(N,k,L,$){if(k===void 0)$="utf8",L=this.length,k=0;else if(L===void 0&&typeof k=="string")$=k,L=this.length,k=0;else{if(!isFinite(k))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");k|=0,isFinite(L)?(L|=0,$===void 0&&($="utf8")):($=L,L=void 0)}var B=this.length-k;if((L===void 0||B<L)&&(L=B),0<N.length&&(L<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");$=$||"utf8";for(var G,Z,re,z=!1;;)switch($){case"hex":var ie=N,se=k,Ce=L,Se=(se=Number(se)||0,this.length-se);if((!Ce||Se<(Ce=Number(Ce)))&&(Ce=Se),(Se=ie.length)%2!=0)throw new TypeError("Invalid hex string");Se/2<Ce&&(Ce=Se/2);for(var F=0;F<Ce;++F){var J=parseInt(ie.substr(2*F,2),16);if(isNaN(J))return F;this[se+F]=J}return F;case"utf8":case"utf-8":return Se=k,re=L,ae(X(N,(Z=this).length-Se),Z,Se,re);case"ascii":return M(this,N,k,L);case"latin1":case"binary":return M(this,N,k,L);case"base64":return Z=this,re=k,G=L,ae(ee(N),Z,re,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,N,k,L);default:if(z)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function E(N,k,L){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(L<N+k)throw new RangeError("Trying to access beyond buffer length")}function D(N,k,L,$,B,G){if(!o.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(B<k||k<G)throw new RangeError('"value" argument is out of bounds');if(L+$>N.length)throw new RangeError("Index out of range")}function R(N,k,L,$){k<0&&(k=65535+k+1);for(var B=0,G=Math.min(N.length-L,2);B<G;++B)N[L+B]=(k&255<<8*($?B:1-B))>>>8*($?B:1-B)}function q(N,k,L,$){k<0&&(k=4294967295+k+1);for(var B=0,G=Math.min(N.length-L,4);B<G;++B)N[L+B]=k>>>8*($?B:3-B)&255}function A(N,k,L,$){if(L+$>N.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function j(N,k,L,$,B){return B||A(N,0,L,4),c.write(N,k,L,$,23,4),L+4}function H(N,k,L,$,B){return B||A(N,0,L,8),c.write(N,k,L,$,52,8),L+8}o.prototype.slice=function(N,k){var L=this.length;if((N=~~N)<0?(N+=L)<0&&(N=0):L<N&&(N=L),(k=k===void 0?L:~~k)<0?(k+=L)<0&&(k=0):L<k&&(k=L),k<N&&(k=N),o.TYPED_ARRAY_SUPPORT)(B=this.subarray(N,k)).__proto__=o.prototype;else for(var $=k-N,B=new o($,void 0),G=0;G<$;++G)B[G]=this[G+N];return B},o.prototype.readUIntLE=function(N,k,L){N|=0,k|=0,L||E(N,k,this.length);for(var $=this[N],B=1,G=0;++G<k&&(B*=256);)$+=this[N+G]*B;return $},o.prototype.readUIntBE=function(N,k,L){N|=0,k|=0,L||E(N,k,this.length);for(var $=this[N+--k],B=1;0<k&&(B*=256);)$+=this[N+--k]*B;return $},o.prototype.readUInt8=function(N,k){return k||E(N,1,this.length),this[N]},o.prototype.readUInt16LE=function(N,k){return k||E(N,2,this.length),this[N]|this[N+1]<<8},o.prototype.readUInt16BE=function(N,k){return k||E(N,2,this.length),this[N]<<8|this[N+1]},o.prototype.readUInt32LE=function(N,k){return k||E(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},o.prototype.readUInt32BE=function(N,k){return k||E(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},o.prototype.readIntLE=function(N,k,L){N|=0,k|=0,L||E(N,k,this.length);for(var $=this[N],B=1,G=0;++G<k&&(B*=256);)$+=this[N+G]*B;return(B*=128)<=$&&($-=Math.pow(2,8*k)),$},o.prototype.readIntBE=function(N,k,L){N|=0,k|=0,L||E(N,k,this.length);for(var $=k,B=1,G=this[N+--$];0<$&&(B*=256);)G+=this[N+--$]*B;return(B*=128)<=G&&(G-=Math.pow(2,8*k)),G},o.prototype.readInt8=function(N,k){return k||E(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},o.prototype.readInt16LE=function(N,k){return k||E(N,2,this.length),32768&(k=this[N]|this[N+1]<<8)?4294901760|k:k},o.prototype.readInt16BE=function(N,k){return k||E(N,2,this.length),32768&(k=this[N+1]|this[N]<<8)?4294901760|k:k},o.prototype.readInt32LE=function(N,k){return k||E(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},o.prototype.readInt32BE=function(N,k){return k||E(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},o.prototype.readFloatLE=function(N,k){return k||E(N,4,this.length),c.read(this,N,!0,23,4)},o.prototype.readFloatBE=function(N,k){return k||E(N,4,this.length),c.read(this,N,!1,23,4)},o.prototype.readDoubleLE=function(N,k){return k||E(N,8,this.length),c.read(this,N,!0,52,8)},o.prototype.readDoubleBE=function(N,k){return k||E(N,8,this.length),c.read(this,N,!1,52,8)},o.prototype.writeUIntLE=function(N,k,L,$){N=+N,k|=0,L|=0,$||D(this,N,k,L,Math.pow(2,8*L)-1,0);var B=1,G=0;for(this[k]=255&N;++G<L&&(B*=256);)this[k+G]=N/B&255;return k+L},o.prototype.writeUIntBE=function(N,k,L,$){N=+N,k|=0,L|=0,$||D(this,N,k,L,Math.pow(2,8*L)-1,0);var B=L-1,G=1;for(this[k+B]=255&N;0<=--B&&(G*=256);)this[k+B]=N/G&255;return k+L},o.prototype.writeUInt8=function(N,k,L){return N=+N,k|=0,L||D(this,N,k,1,255,0),o.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),this[k]=255&N,k+1},o.prototype.writeUInt16LE=function(N,k,L){return N=+N,k|=0,L||D(this,N,k,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[k]=255&N,this[k+1]=N>>>8):R(this,N,k,!0),k+2},o.prototype.writeUInt16BE=function(N,k,L){return N=+N,k|=0,L||D(this,N,k,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[k]=N>>>8,this[k+1]=255&N):R(this,N,k,!1),k+2},o.prototype.writeUInt32LE=function(N,k,L){return N=+N,k|=0,L||D(this,N,k,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[k+3]=N>>>24,this[k+2]=N>>>16,this[k+1]=N>>>8,this[k]=255&N):q(this,N,k,!0),k+4},o.prototype.writeUInt32BE=function(N,k,L){return N=+N,k|=0,L||D(this,N,k,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[k]=N>>>24,this[k+1]=N>>>16,this[k+2]=N>>>8,this[k+3]=255&N):q(this,N,k,!1),k+4},o.prototype.writeIntLE=function(N,k,L,$){N=+N,k|=0,$||D(this,N,k,L,($=Math.pow(2,8*L-1))-1,-$);var B=0,G=1,Z=0;for(this[k]=255&N;++B<L&&(G*=256);)N<0&&Z===0&&this[k+B-1]!==0&&(Z=1),this[k+B]=(N/G>>0)-Z&255;return k+L},o.prototype.writeIntBE=function(N,k,L,$){N=+N,k|=0,$||D(this,N,k,L,($=Math.pow(2,8*L-1))-1,-$);var B=L-1,G=1,Z=0;for(this[k+B]=255&N;0<=--B&&(G*=256);)N<0&&Z===0&&this[k+B+1]!==0&&(Z=1),this[k+B]=(N/G>>0)-Z&255;return k+L},o.prototype.writeInt8=function(N,k,L){return N=+N,k|=0,L||D(this,N,k,1,127,-128),o.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),this[k]=255&(N=N<0?255+N+1:N),k+1},o.prototype.writeInt16LE=function(N,k,L){return N=+N,k|=0,L||D(this,N,k,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[k]=255&N,this[k+1]=N>>>8):R(this,N,k,!0),k+2},o.prototype.writeInt16BE=function(N,k,L){return N=+N,k|=0,L||D(this,N,k,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[k]=N>>>8,this[k+1]=255&N):R(this,N,k,!1),k+2},o.prototype.writeInt32LE=function(N,k,L){return N=+N,k|=0,L||D(this,N,k,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[k]=255&N,this[k+1]=N>>>8,this[k+2]=N>>>16,this[k+3]=N>>>24):q(this,N,k,!0),k+4},o.prototype.writeInt32BE=function(N,k,L){return N=+N,k|=0,L||D(this,N,k,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),o.TYPED_ARRAY_SUPPORT?(this[k]=N>>>24,this[k+1]=N>>>16,this[k+2]=N>>>8,this[k+3]=255&N):q(this,N,k,!1),k+4},o.prototype.writeFloatLE=function(N,k,L){return j(this,N,k,!0,L)},o.prototype.writeFloatBE=function(N,k,L){return j(this,N,k,!1,L)},o.prototype.writeDoubleLE=function(N,k,L){return H(this,N,k,!0,L)},o.prototype.writeDoubleBE=function(N,k,L){return H(this,N,k,!1,L)},o.prototype.copy=function(N,k,L,$){if(L=L||0,$||$===0||($=this.length),k>=N.length&&(k=N.length),($=0<$&&$<L?L:$)===L||N.length===0||this.length===0)return 0;if((k=k||0)<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length);var B,G=($=N.length-k<$-L?N.length-k+L:$)-L;if(this===N&&L<k&&k<$)for(B=G-1;0<=B;--B)N[B+k]=this[B+L];else if(G<1e3||!o.TYPED_ARRAY_SUPPORT)for(B=0;B<G;++B)N[B+k]=this[B+L];else Uint8Array.prototype.set.call(N,this.subarray(L,L+G),k);return G},o.prototype.fill=function(N,k,L,$){if(typeof N=="string"){var B;if(typeof k=="string"?($=k,k=0,L=this.length):typeof L=="string"&&($=L,L=this.length),N.length!==1||(B=N.charCodeAt(0))<256&&(N=B),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!o.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else typeof N=="number"&&(N&=255);if(k<0||this.length<k||this.length<L)throw new RangeError("Out of range index");if(L<=k)return this;if(k>>>=0,L=L===void 0?this.length:L>>>0,typeof(N=N||0)=="number")for(re=k;re<L;++re)this[re]=N;else for(var G=o.isBuffer(N)?N:X(new o(N,$).toString()),Z=G.length,re=0;re<L-k;++re)this[re+k]=G[re%Z];return this};var W=/[^+\/0-9A-Za-z-_]/g;function X(N,k){k=k||1/0;for(var L,$=N.length,B=null,G=[],Z=0;Z<$;++Z){if(55295<(L=N.charCodeAt(Z))&&L<57344){if(!B){if(56319<L){-1<(k-=3)&&G.push(239,191,189);continue}if(Z+1===$){-1<(k-=3)&&G.push(239,191,189);continue}B=L;continue}if(L<56320){-1<(k-=3)&&G.push(239,191,189),B=L;continue}L=65536+(B-55296<<10|L-56320)}else B&&-1<(k-=3)&&G.push(239,191,189);if(B=null,L<128){if(--k<0)break;G.push(L)}else if(L<2048){if((k-=2)<0)break;G.push(L>>6|192,63&L|128)}else if(L<65536){if((k-=3)<0)break;G.push(L>>12|224,L>>6&63|128,63&L|128)}else{if(!(L<1114112))throw new Error("Invalid code point");if((k-=4)<0)break;G.push(L>>18|240,L>>12&63|128,L>>6&63|128,63&L|128)}}return G}function ee(N){return u.toByteArray(function(k){var L;if((k=((L=k).trim?L.trim():L.replace(/^\s+|\s+$/g,"")).replace(W,"")).length<2)return"";for(;k.length%4!=0;)k+="=";return k}(N))}function ae(N,k,L,$){for(var B=0;B<$&&!(B+L>=k.length||B>=N.length);++B)k[B+L]=N[B];return B}}).call(this,r(11))},function(e,t){var r,d;e=e.exports={};function u(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}try{r=typeof setTimeout=="function"?setTimeout:u}catch{r=u}try{d=typeof clearTimeout=="function"?clearTimeout:c}catch{d=c}function v(f){if(r===setTimeout)return setTimeout(f,0);if((r===u||!r)&&setTimeout)return(r=setTimeout)(f,0);try{return r(f,0)}catch{try{return r.call(null,f,0)}catch{return r.call(this,f,0)}}}var g,y=[],o=!1,n=-1;function s(){o&&g&&(o=!1,g.length?y=g.concat(y):n=-1,y.length&&i())}function i(){if(!o){for(var f=v(s),b=(o=!0,y.length);b;){for(g=y,y=[];++n<b;)g&&g[n].run();n=-1,b=y.length}g=null,o=!1,function(C){if(d===clearTimeout)return clearTimeout(C);if((d===c||!d)&&clearTimeout)return(d=clearTimeout)(C);try{d(C)}catch{try{return d.call(null,C)}catch{return d.call(this,C)}}}(f)}}function a(f,b){this.fun=f,this.array=b}function m(){}e.nextTick=function(f){var b=new Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)b[C-1]=arguments[C];y.push(new a(f,b)),y.length!==1||o||v(i)},a.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(f){return[]},e.binding=function(f){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(f){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,r){r.d(t,"a",function(){return m});var d=r(5),u=r(85),c=r(90),v=r(92),g=r(6),y=function(){return(y=Object.assign||function(b){for(var C,_=1,w=arguments.length;_<w;_++)for(var M in C=arguments[_])Object.prototype.hasOwnProperty.call(C,M)&&(b[M]=C[M]);return b}).apply(this,arguments)},o=function(b,C,_,w){return new(_=_||Promise)(function(M,S){function I(D){try{E(w.next(D))}catch(R){S(R)}}function x(D){try{E(w.throw(D))}catch(R){S(R)}}function E(D){var R;D.done?M(D.value):((R=D.value)instanceof _?R:new _(function(q){q(R)})).then(I,x)}E((w=w.apply(b,C||[])).next())})},n=function(b,C){var _,w,M,S={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]},I={next:x(0),throw:x(1),return:x(2)};return typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function x(E){return function(D){var R=[E,D];if(_)throw new TypeError("Generator is already executing.");for(;S;)try{if(_=1,w&&(M=2&R[0]?w.return:R[0]?w.throw||((M=w.return)&&M.call(w),0):w.next)&&!(M=M.call(w,R[1])).done)return M;switch(w=0,(R=M?[2&R[0],M.value]:R)[0]){case 0:case 1:M=R;break;case 4:return S.label++,{value:R[1],done:!1};case 5:S.label++,w=R[1],R=[0];continue;case 7:R=S.ops.pop(),S.trys.pop();continue;default:if(!(M=0<(M=S.trys).length&&M[M.length-1])&&(R[0]===6||R[0]===2)){S=0;continue}if(R[0]===3&&(!M||R[1]>M[0]&&R[1]<M[3])){S.label=R[1];break}if(R[0]===6&&S.label<M[1]){S.label=M[1],M=R;break}if(M&&S.label<M[2]){S.label=M[2],S.ops.push(R);break}M[2]&&S.ops.pop(),S.trys.pop();continue}R=C.call(b,S)}catch(q){R=[6,q],w=0}finally{_=M=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}}},s=function(b){var C=typeof Symbol=="function"&&Symbol.iterator,_=C&&b[C],w=0;if(_)return _.call(b);if(b&&typeof b.length=="number")return{next:function(){return{value:(b=b&&w>=b.length?void 0:b)&&b[w++],done:!b}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(b,C){var _=typeof Symbol=="function"&&b[Symbol.iterator];if(!_)return b;var w,M,S=_.call(b),I=[];try{for(;(C===void 0||0<C--)&&!(w=S.next()).done;)I.push(w.value)}catch(x){M={error:x}}finally{try{w&&!w.done&&(_=S.return)&&_.call(S)}finally{if(M)throw M.error}}return I},a=function(b,C,_){if(_||arguments.length===2)for(var w,M=0,S=C.length;M<S;M++)!w&&M in C||((w=w||Array.prototype.slice.call(C,0,M))[M]=C[M]);return b.concat(w||Array.prototype.slice.call(C))},m=(f.prototype.init=function(b){return o(this,void 0,void 0,function(){var C=this;return n(this,function(_){switch(_.label){case 0:return this.config=y(y({},d.c),b),this.miniProgram||this.bindWindowListener(),this.logger=new u.a(this.miniProgram,this.config.bps||d.c.bps),this.logger.setLogUrlParams({product:this.product,signature:this.config.token||"",appid:this.config.appID,id_name:this.config.userID||"",deviceid:this.config.deviceID||""}),this.config.serverUrl&&this.logger.setLogServer(this.config.serverUrl),this.logger.setPostSucCallback(this.product,this.postSucHandler.bind(this)),this.logger.setPostFailCallback(this.product,function(w){C.storePackagesDataToDB(w),C.storePendingDataToDB(1),C._actionListener("postFail")}),this.initPendingQueue(),this.storeHandler=new c.a(this.product+"_"+this.config.appID+"_datareporter",this.traceType,this.miniProgram),this.storeHandler.setDropCallBack(function(w){C.traceType.DB_O_DROP+=Object(g.b)(w),C._actionListener("dataDroped",w)}),[4,this.storeHandler.loadPendingData()];case 1:return _.sent(),this.storeHandler.init().then(function(){C.loadReportData()}).catch(function(w){}),[2]}})})},f.prototype.setConfig=function(b){typeof b=="object"&&typeof b.bps=="number"&&(this.config.bps=b.bps,this.logger.setBps(this.config.bps)),typeof b=="object"&&typeof b.totalDBSize=="number"&&(d.h.totalDBSize=b.totalDBSize),typeof b=="object"&&typeof b.serverUrl=="string"&&b.serverUrl!==""&&(this.config.serverUrl=b.serverUrl,this.logger.setLogServer(this.config.serverUrl))},f.prototype.pause=function(){this.isPaused=!0},f.prototype.startReport=function(b){var C=b.get("userID"),_=b.get("token");return!(!C||typeof C!="string")&&!(!_||typeof _!="string")&&(this.startCommonField=b,this.config.userID=C,this.config.token=_,this.logger.setLogUrlParams({product:this.product,signature:this.config.token,appid:this.config.appID,id_name:this.config.userID||"",deviceid:this.config.deviceID||""}),(C=b.get("serverUrl"))&&(this.config.serverUrl=C,this.logger.setLogServer(this.config.serverUrl)),this.isConfigOK(this.config)&&(b=(_=this.pendingQueue.getPendingDataInfo()).pendingDataSize,C=_.size,this.checkPendingQueue(b,C)),!0)},f.prototype.resume=function(){this.isPaused=!1;var b=(C=this.pendingQueue.getPendingDataInfo()).pendingDataSize,C=C.size;this.checkPendingQueue(b,C)},f.prototype.on=function(b,C){return this._bindListener(b,C)},f.prototype.off=function(b,C){return this._deleteListener(b,C)},f.prototype.report=function(b,C){var _=this;if(4e3<b.length)return!1;var w=Object(g.b)(b),M=(this.traceType.MEM_I_API+=w,Object(d.k)()),S=new Date().getTime(),I={seq:M,content:b,level:C,timestamp:S,packagedContent:""};return C<=this.config.importantLevel?this.storeHandler.storeData(I).then(function(x){_.pendingQueue.enqueue(I,C),I.key=C+"_"+S+"_"+M,_.dataInDb.push(I.key),_.traceType.DB_I_BACKUP+=w}).catch(function(x){_.pendingQueue.enqueue(I,C)}):this.pendingQueue.enqueue(I,C),this.state==="force"&&(b=Object(g.b)(b),this.forceDataTotalLen+=b),!0},f.prototype.isConfigOK=function(b){return b.userID!==""&&b.token!==""&&b.server!==""},f.prototype.testSize=function(b){},f.prototype.forceReport=function(b){var C;this.state!=="force"&&(this.state="force",C=16e6,typeof b=="object"&&typeof b.bps=="number"&&(C=b.bps),this.logger.setBps(C),this.forceDataTotalLen=this.storeHandler.storeSize+this.pendingQueue.pendingDataSize+this.reportPackagesSize,C=(b=this.pendingQueue.getPendingDataInfo()).pendingDataSize,b=b.size,C>this.config.reportSize||b>this.config.reportNum?this.checkPendingQueue(C,b):this.loadReportData())},f.prototype.bindWindowListener=function(){var b=this,C=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i);navigator.userAgent.indexOf("Firefox"),window.addEventListener(C?"pagehide":"beforeunload",function(){window.event&&(window.event.cancelBubble=!0);var _=b.pendingQueue.readStoreData(1).storeArr;0<_.length&&b.storeHandler.storePendingData(_)})},f.prototype.postSucHandler=function(b,C,_){var w=this;C=(b=(b.forEach(function(M){w.traceType.MEM_O_DONE+=Object(g.b)(M.content)}),b.forEach(function(M){return o(w,void 0,void 0,function(){var S;return n(this,function(I){switch(I.label){case 0:return[4,this.storeHandler.removeDataItem(M)];case 1:return I.sent(),-1<(S=this.dataInDb.findIndex(function(x){return x===M.key}))&&this.dataInDb.splice(S,1),[2]}})})}),this.reportPackagesSize-=C,this.pendingQueue.getPendingDataInfo())).pendingDataSize,b=b.size,this.checkPendingQueue(C,b),this.state==="force"&&this.reportPackagesSize==0&&(C=this.reportPackagesSize+this.pendingQueue.pendingDataSize+this.storeHandler.storeSize,b=1-Number((C/this.forceDataTotalLen).toFixed(2)),this.listenerList.progressUpdate&&this._actionListener("progressUpdate",b),0<this.storeHandler.storeSize&&this.loadReportData(function(M){M===0&&(w.state="normal",w.logger.setBps(w.config.bps||d.c.bps),w.listenerList.forceSuccessCallback&&w._actionListener("forceResult","SUCCESS"))}))},f.prototype.checkPendingQueue=function(b,C){var _,w;(b>this.config.reportSize||C>this.config.reportNum)&&(!this.isPaused&&this.config.userID&&this.config.token&&this.config.serverUrl&&this.logger.reportAllowed()?(_=(C=this.pendingQueue.readReportData(this.config.reportSize)).totalLen,C=C.reportDataArr,w=(C=this.setCommonField(C)).packageArr,C=C.packageLen,this.logger.report(w,C,this.product),this.reportPackagesSize+=C,this.pendingQueue.refresh(_)):(b>=this.cacheMaxSize||d.b.totalAvailCache<=0)&&this.storePendingDataToDB(this.cacheDelPer))},f.prototype.initPendingQueue=function(){var b=this;this.pendingQueue=new v.a(this.config.levels,this.product),this.pendingQueue.setListener({enCallback:function(C,_,w){b.checkPendingQueue(w,_)}})},f.prototype.storePendingDataToDB=function(b){return o(this,void 0,void 0,function(){var C,_,w,M,S,I,x;return n(this,function(E){switch(E.label){case 0:_=this.pendingQueue.readStoreData(b),C=_.totalLen,_=_.storeArr,E.label=1;case 1:E.trys.push([1,8,9,10]),w=s(_),M=w.next(),E.label=2;case 2:if(M.done)return[3,7];S=M.value,E.label=3;case 3:return E.trys.push([3,5,,6]),[4,this.storeDataItem(S,C)];case 4:case 5:return E.sent(),[3,6];case 6:return M=w.next(),[3,2];case 7:return[3,10];case 8:return I={error:I=E.sent()},[3,10];case 9:try{M&&!M.done&&(x=w.return)&&x.call(w)}finally{if(I)throw I.error}return[7];case 10:return[2]}})})},f.prototype.storePackagesDataToDB=function(b){var C=this;b.length&&b.forEach(function(_){C.storeHandler.storeData(_).then(function(w){var M=Object(g.b)(_.content);C.traceType.MEM_O_DUMP+=M}).catch(function(w){})})},f.prototype.storeDataItem=function(b,C){var _=this;return new Promise(function(w,M){return o(_,void 0,void 0,function(){var S;return n(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,this.storeHandler.storeData(b)];case 1:return I.sent(),S=Object(g.b)(b.content),this.traceType.MEM_O_DUMP+=S,w(),[3,3];case 2:return S=I.sent(),M(S),[3,3];case 3:return[2]}})})})},f.prototype.loadReportData=function(b){var C=this;this.storeHandler.storeSize<=0||this.storeHandler.loadDBData(this.config.reportSize,5,Math.floor(this.cacheMaxSize/3),function(_){return-1<C.dataInDb.indexOf(_)}).then(function(_){_.datas.forEach(function(w){var M=Object(g.b)(w.content);C.traceType.MEM_I_LOAD+=M,C.pendingQueue.enqueue(w,w.level),C.dataInDb.push(w.key)}),b&&b(_.len)}).catch(function(_){})},f.prototype.setCommonField=function(b){var C=this,_=0;return b.forEach(function(w){var M,S,I,x,E,D;if(w.packagedContent=JSON.parse(w.content),C.config.initCommonField)try{for(var R=s(C.config.initCommonField),q=R.next();!q.done;q=R.next()){var A=i(q.value,2),j=A[0],H=A[1];(k=JSON.parse(w.content))[j]=H,w.packagedContent=k}}catch($){M={error:$}}finally{try{q&&!q.done&&(S=R.return)&&S.call(R)}finally{if(M)throw M.error}}if(C.startCommonField)try{for(var W=s(C.startCommonField),X=W.next();!X.done;X=W.next()){var ee=i(X.value,2);j=ee[0],H=ee[1],j!=="userID"&&j!=="token"&&j!=="serverUrl"&&((k=JSON.parse(w.content))[j]=H,w.packagedContent=k)}}catch($){I={error:$}}finally{try{X&&!X.done&&(x=W.return)&&x.call(W)}finally{if(I)throw I.error}}if(C.reporterCommonField)try{for(var ae=s(C.reporterCommonField),N=ae.next();!N.done;N=ae.next()){var k,L=i(N.value,2);j=L[0],H=L[1],(k=JSON.parse(w.content))[j]=H,w.packagedContent=k}}catch($){E={error:$}}finally{try{N&&!N.done&&(D=ae.return)&&D.call(ae)}finally{if(E)throw E.error}}_+=Object(g.b)(JSON.stringify(w.packagedContent))}),{packageArr:b,packageLen:_}},f.prototype._bindListener=function(b,C){return!!this.listenerList[b]&&typeof C=="function"&&(this.listenerList[b].indexOf(C)==-1&&this.listenerList[b].push(C),!0)},f.prototype._deleteListener=function(b,C){if(!this.listenerList[b])return!1;var _=this.listenerList[b];return C?_.splice(_.indexOf(C),1):this.listenerList[b]=[],!0},f.prototype._actionListener=function(b){for(var C=[],_=1;_<arguments.length;_++)C[_-1]=arguments[_];this.listenerList[b]&&this.listenerList[b].forEach(function(w){try{w.apply(void 0,a([],i(C),!1))}catch{}})},f);function f(b,C){this.miniProgram=C,this.QUEUE_MAX=100,this.cacheMaxSize=d.b.cacheMaxSize,this.cacheDelPer=d.b.cacheDelPer,this.state="normal",this.forceDataTotalLen=0,this.reportPackagesSize=0,this.dataInDb=[],this.listenerList={progressUpdate:[],forceResult:[],postFail:[],dataDroped:[]},this.traceType={MEM_I_API:0,MEM_O_DONE:0,MEM_O_DUMP:0,MEM_I_LOAD:0,DB_O_DROP:0,DB_O_DONE:0,DB_I_BACKUP:0},this.isPaused=!1,this.product=b,this.reporterCommonField=new Map}},function(e,t,r){var d={"./zego.impl.web":50,"./zego.impl.web.ts":50,"./zego.impl.wx":51,"./zego.impl.wx.ts":51};function u(v){return v=c(v),r(v)}function c(v){if(r.o(d,v))return d[v];throw(v=new Error("Cannot find module '"+v+"'")).code="MODULE_NOT_FOUND",v}u.keys=function(){return Object.keys(d)},u.resolve=c,(e.exports=u).id=49},function(e,t,r){r.r(t),r.d(t,"createZegoStore",function(){return u}),r.d(t,"createZegoWebSocket",function(){return c}),t=r(17);var d=r.n(t);function u(v){return d.a.createInstance({name:v})}function c(v){return new WebSocket(v)}},function(e,t){throw new Error(`Module parse failed: Unexpected token (4:13)
You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders
| 
| class ZegoStoreImpl {
>     storeName: string;
|     keyPrefix: string;
| `)},function(e,t,r){r.d(t,"a",function(){return n});var d=r(9),u=(t=r(15),r.n(t)),c=(t=r(18),r.n(t)),v=(t=r(19),r.n(t)),g=(t=r(53),r.n(t)),y=(t=r(13),r.n(t)),o=r(54),n=(Object.defineProperty(s.prototype,"publicKey",{get:function(){return`-----BEGIN RSA Public Key-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArdnPFtPzQx+XhhuNYrI8
o2X9gZe6igdp9S23NZ2E/caWCZD9Gfu3z2/rzmYD93biUssHAEVypNZTBIv77dQg
l79Tdv2Y9MYZotkv/qUx00tfN0iqnASWGMT+6QEgZS9ot7bAzJBTw3pB79+E9Q/T
E3kEyqIpZ/sG80NAGjMJ/4IHhf63q96+Zh0OC8Z43HcNtt/PWzsRkdYvdq02oDih
soEuzsxEOar/iDC0B6kxSuVhSF3J4jamAj15EUFFR+ndVccVJy5W+AGiH8n8T1ip
g3MSSoH1pmNh7KOMVs7F64/K5H/+B+M1U05nC15ZMxtSVF+N6xMmVDffctRZrGIG
DwIDAQAB
-----END RSA Public Key-----`},enumerable:!1,configurable:!0}),s.prototype.encrypt=function(i){return i=u.a.encrypt(this.uint8Array2WordArray(i),this.key2,this.iv2).toString(),d.a.toUint8Array(i)},s.prototype.decrypt=function(i){return this.wordArray2Uint8Array(u.a.decrypt(d.a.fromUint8Array(i),this.key2,this.iv2))},s.prototype.encryptString=function(i){return u.a.encrypt(i,this.appIDKey,this.appIDIV).toString()},s.prototype.decryptString=function(i){return u.a.decrypt(i,this.appIDKey,this.appIDIV).toString(v.a)},s.prototype.generateK1Sign=function(){var i=this.generateNonce();return this.key1=v.a.parse(i),this.iv1={iv:c.a.parse(y()(i).toString().toLowerCase())},i=new o.a(this.publicKey).encrypt(i),this.wordArray2Uint8Array(c.a.parse(i))},s.prototype.decryptK2Sign=function(i){try{this.key2=u.a.decrypt(d.a.fromUint8Array(i),this.key1,this.iv1),this.iv2={iv:y()(this.key2)}}catch{}},s.prototype.generateNonce=function(){var i=Math.random().toString().substring(2,18);return i.length<16&&(i+=i.substring(0,16-i.length)),i},s.prototype.generateAppIDKey=function(i){i=y()(String(i)).toString().toLowerCase(),this.appIDKey=v.a.parse(i),this.appIDIV={iv:c.a.parse(i)}},s.prototype.md5=function(i){return this.wordArray2Uint8Array(y()(i))},s.prototype.md5Bytes=function(i){return this.wordArray2Uint8Array(y()(this.uint8Array2WordArray(i)))},s.prototype.wordArray2Uint8Array=function(i){for(var a=i.words,m=i.sigBytes,f=new Uint8Array(m),b=0;b<m;b++){var C=a[b>>>2]>>>24-b%4*8&255;f[b]=C}return f},s.prototype.uint8Array2WordArray=function(i){for(var a=i.length,m=[],f=0;f<a;f++)m[f>>>2]|=(255&i[f])<<24-f%4*8;return g.a.create(m,a)},s);function s(){}},function(e,t,r){var d;e.exports=(d=r(7),function(){var u,c;typeof ArrayBuffer=="function"&&(u=d.lib.WordArray,c=u.init,(u.init=function(v){if((v=(v=v instanceof ArrayBuffer?new Uint8Array(v):v)instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&v instanceof Uint8ClampedArray||v instanceof Int16Array||v instanceof Uint16Array||v instanceof Int32Array||v instanceof Uint32Array||v instanceof Float32Array||v instanceof Float64Array?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):v)instanceof Uint8Array){for(var g=v.byteLength,y=[],o=0;o<g;o++)y[o>>>2]|=v[o]<<24-o%4*8;c.call(this,y,g)}else c.apply(this,arguments)}).prototype=u)}(),d.lib.WordArray)},function(e,t,r){r.d(t,"a",function(){return y});var d=r(20),u=r(55),c=r(56),v=r(57),g=r(58),y=(o.prototype.parseKey=function(n){try{var s=0,i=0,a=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(n)?c.a.decode(n):v.a.unarmor(n),m=g.a.decode(a);if((m=m.sub.length===3?m.sub[2].sub[0]:m).sub.length===9)s=m.sub[1].getHexStringValue(),this.n=Object(d.b)(s,16),i=m.sub[2].getHexStringValue(),this.e=parseInt(i,16);else{if(m.sub.length!==2)return!1;var f=m.sub[1].sub[0];s=f.sub[0].getHexStringValue(),this.n=Object(d.b)(s,16),i=f.sub[1].getHexStringValue(),this.e=parseInt(i,16)}return!0}catch{return!1}},o.prototype.pkcs1pad2=function(n,s){for(var i=[],a=n.length-1;0<=a&&0<s;){var m=n.charCodeAt(a--);m<128?i[--s]=m:127<m&&m<2048?(i[--s]=63&m|128,i[--s]=m>>6|192):(i[--s]=63&m|128,i[--s]=m>>6&63|128,i[--s]=m>>12|224)}i[--s]=0;for(var f=new u.a,b=[];2<s;){for(b[0]=0;b[0]==0;)f.nextBytes(b);i[--s]=b[0]}return i[--s]=2,i[--s]=0,new d.a(i)},o.prototype.encrypt=function(n){for(var s=this.n.bitLength()+7>>3,i=this.pkcs1pad2(n,s).modPowInt(this.e,this.n).toString(16),a=i.length,m=0;m<2*s-a;m++)i="0"+i;return i},o);function o(n){this.e=0,this.parseKey(n)}},function(e,t,r){r.d(t,"a",function(){return o});var d,u=r(22),c=[],v=0,g=void 0;if(typeof window!="undefined"&&window.crypto&&window.crypto.getRandomValues){var y=new Uint32Array(256);for(window.crypto.getRandomValues(y),g=0;g<y.length;++g)c[v++]=255&y[g]}n.prototype.nextBytes=function(s){for(var i=0;i<s.length;++i)s[i]=function(){if(d==null){for(d=Object(u.a)();v<u.b;){var a=Math.floor(65536*Math.random());c[v++]=255&a}for(d.init(c),v=0;v<c.length;++v)c[v]=0;v=0}return d.next()}()};var o=n;function n(){}},function(e,t,r){r.d(t,"a",function(){return u});var d,u={decode:function(c){if(d===void 0){var v="0123456789ABCDEF",g=` \f
\r	\xA0\u2028\u2029`;for(d={},s=0;s<16;++s)d[v.charAt(s)]=s;for(v=v.toLowerCase(),s=10;s<16;++s)d[v.charAt(s)]=s;for(s=0;s<g.length;++s)d[g.charAt(s)]=-1}for(var y=[],o=0,n=0,s=0;s<c.length;++s){var i=c.charAt(s);if(i=="=")break;if((i=d[i])!=-1){if(i===void 0)throw new Error("Illegal character at offset "+s);o|=i,2<=++n?(y[y.length]=o,n=o=0):o<<=4}}if(n)throw new Error("Hex encoding incomplete: 4 bits missing");return y}}},function(e,t,r){r.d(t,"a",function(){return u});var d,u={decode:function(c){if(d===void 0){var v=`= \f
\r	\xA0\u2028\u2029`;for(d=Object.create(null),n=0;n<64;++n)d["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n)]=n;for(d["-"]=62,d._=63,n=0;n<v.length;++n)d[v.charAt(n)]=-1}for(var g=[],y=0,o=0,n=0;n<c.length;++n){var s=c.charAt(n);if(s=="=")break;if((s=d[s])!=-1){if(s===void 0)throw new Error("Illegal character at offset "+n);y|=s,4<=++o?(g[g.length]=y>>16,g[g.length]=y>>8&255,g[g.length]=255&y,o=y=0):y<<=6}}switch(o){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:g[g.length]=y>>10;break;case 3:g[g.length]=y>>16,g[g.length]=y>>8&255}return g},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(c){var v=u.re.exec(c);if(v)if(v[1])c=v[1];else{if(!v[2])throw new Error("RegExp out of sync");c=v[2]}return u.decode(c)}}},function(e,t,r){r.d(t,"a",function(){return v});var d=r(59),u=(c.prototype.get=function(n){if((n=n===void 0?this.pos++:n)>=this.enc.length)throw new Error("Requesting byte offset ".concat(n," on a stream of length ").concat(this.enc.length));return typeof this.enc=="string"?this.enc.charCodeAt(n):this.enc[n]},c.prototype.hexByte=function(n){return this.hexDigits.charAt(n>>4&15)+this.hexDigits.charAt(15&n)},c.prototype.hexDump=function(n,s,i){for(var a="",m=n;m<s;++m)if(a+=this.hexByte(this.get(m)),i!==!0)switch(15&m){case 7:a+="  ";break;case 15:a+=`
`;break;default:a+=" "}return a},c);function c(n,s){this.hexDigits="0123456789ABCDEF",n instanceof c?(this.enc=n.enc,this.pos=n.pos):(this.enc=n,this.pos=s)}g.prototype.posStart=function(){return this.stream.pos},g.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},g.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},g.decodeLength=function(n){var s=127&(i=n.get());if(s==i)return s;if(6<s)throw new Error("Length over 48 bits not supported at position "+(n.pos-1));if(s==0)return null;for(var i=0,a=0;a<s;++a)i=256*i+n.get();return i},g.prototype.getHexStringValue=function(){var n=this.toHexString(),s=2*this.header,i=2*this.length;return n.substr(s,i)},g.decode=function(n){function s(){var w=[];if(m!==null){for(var M=f+m;i.pos<M;)w[w.length]=g.decode(i);if(i.pos!=M)throw new Error("Content size is not correct for container starting at offset "+f)}else try{for(;;){var S=g.decode(i);if(S.tag.isEOC())break;w[w.length]=S}m=f-i.pos}catch(I){throw new Error("Exception while decoding undefined length content: "+I)}return w}var i=n instanceof u?n:new u(n,0),a=(n=new u(i),new y(i)),m=g.decodeLength(i),f=i.pos,b=f-n.pos,C=null;if(a.tagConstructed)C=s();else if(a.isUniversal()&&(a.tagNumber==3||a.tagNumber==4))try{if(a.tagNumber==3&&i.get()!=0)throw new Error("BIT STRINGs with unused bits cannot encapsulate.");C=s();for(var _=0;_<C.length;++_)if(C[_].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch{C=null}if(C===null){if(m===null)throw new Error("We can't skip over an invalid tag with undefined length at offset "+f);i.pos=f+Math.abs(m)}return new g(n,b,m,a,C)};var v=g;function g(n,s,i,a,m){if(!(a instanceof y))throw new Error("Invalid tag value.");this.stream=n,this.header=s,this.length=i,this.tag=a,this.sub=m}o.prototype.isUniversal=function(){return this.tagClass===0},o.prototype.isEOC=function(){return this.tagClass===0&&this.tagNumber===0};var y=o;function o(n){var s=n.get();if(this.tagClass=s>>6,this.tagConstructed=(32&s)!=0,this.tagNumber=31&s,this.tagNumber==31){for(var i=new d.a;s=n.get(),i.mulAdd(128,127&s),128&s;);this.tagNumber=i.simplify()}}},function(e,t,r){r.d(t,"a",function(){return d}),u.prototype.mulAdd=function(c,v){for(var g,y=this.buf,o=y.length,n=0;n<o;++n)(g=y[n]*c+v)<1e13?v=0:g-=1e13*(v=0|g/1e13),y[n]=g;0<v&&(y[n]=v)},u.prototype.sub=function(c){for(var v,g=this.buf,y=g.length,o=0;o<y;++o)c=(v=g[o]-c)<0?(v+=1e13,1):0,g[o]=v;for(;g[g.length-1]===0;)g.pop()},u.prototype.simplify=function(){var c=this.buf;return c.length==1?c[0]:this};var d=u;function u(c){this.buf=[+c||0]}},function(e,t,r){r.d(t,"a",function(){return g});var d=r(61),u=r(1),c=r(0),v=function(){return(v=Object.assign||function(o){for(var n,s=1,i=arguments.length;s<i;s++)for(var a in n=arguments[s])Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a]);return o}).apply(this,arguments)},g=(y.prototype.encodeRequest=function(o,n,s){var i=((f=o.cmd!=c.a.sw_handshake_req&&o.cmd!=c.a.sw_login)||(o.flags[0]=0),this.encode(this.protoInstance.proto_zim.Header,o)),a=i.length,m=(n=this.encode(this.getProtoBeanInstance(o.cmd),n)).length,f=(n=f?this.crypto.encrypt(n):n).length,b=new Uint8Array(7+a+f);return b[0]=33,b[1]=a>>8,b[2]=a-(b[1]<<8),b.set(new Uint8Array(new Int32Array([f]).buffer).reverse(),3),b.set(i,7),b.set(n,7+a),s?[this.encodeAccesshubPCUpwardMessage(s,o,b),m,f]:[b,m,f]},y.prototype.decodeAccesshubResponse=function(o,n){return o==21?this.decode(this.protoInstance.proto_accesshub.PCDownwardMessage,n.slice(13)).payload:(o=this.accesshubDecodeTypeMap[o])&&this.decode(this.protoInstance.proto_accesshub[o],n.slice(13))},y.prototype.decodeResponseHeader=function(o){var n=(o[1]<<8)+o[2];return[this.decode(this.protoInstance.proto_zim.Header,o.slice(7,7+n)),n]},y.prototype.decodeResponseBody=function(o,n,s){var i=this;if(s=(o=o.slice(7+s)).length,n!=c.a.sw_login+"_rsp")try{o=this.crypto.decrypt(o)}catch{}var a=o.length,m=[];try{var f=this.decode(this.getProtoBeanInstance(n),o);return n===c.a.sw_push?(m.push(f.head.sub_cmd),f.msg_body=this.decode(this.getProtoBeanInstance(m[0]),f.msg_body)):n===c.a.sw_push_list&&f.push_requests&&f.push_requests.forEach(function(b){m.push(b.sub_cmd),b.msg_body=i.decode(i.getProtoBeanInstance(b.sub_cmd),b.msg_body)}),[f,s,a]}catch(b){return(0,console.warn)("Protobuf decode error",n,m,b),[{code:1,message:"Protobuf decode error for "+n,subCmds:m},s,a]}},y.prototype.encodeMediaMsgBody=function(o,n){return o=o==c.J.Image?"PictureMsgBody":"VideoMsgBody",this.encode(this.protoInstance.proto_zim[o],n)},y.prototype.decodeMediaMsgBody=function(o,n,s){var i=o.type;if(i>=c.J.Image&&i<=c.J.Video){o.message="";var a,m=null,f=i==c.J.Image?"PictureMsgBody":"VideoMsgBody";if(s==1)try{m=this.decode(this.protoInstance.proto_zim[f],n)}catch{try{m=JSON.parse(Object(u.a)(n))}catch{}}else try{m=JSON.parse(Object(u.a)(n))}catch{try{m=this.decode(this.protoInstance.proto_zim[f],n)}catch{}}m&&(s=m.file_download_url||"",(f=o).fileUID=m.file_uid||"",f.fileName=m.file_name||"",f.fileSize=+m.file_size||0,f.fileDownloadUrl=s,i==c.J.Image?(a=f,m.large?a.largeImageDownloadUrl=s+m.large:a.largeImageDownloadUrl=m.large_image_download_url||"",m.thumbnail?a.thumbnailDownloadUrl=s+m.thumbnail:a.thumbnailDownloadUrl=m.thumbnail_download_url||"",a.originalImageWidth=m.origin_width||0,a.originalImageHeight=m.origin_height||0,a.thumbnailWidth=m.small_width||0,a.thumbnailHeight=m.small_height||0,a.largeImageWidth=m.big_width||0,a.largeImageHeight=m.big_height||0):i==c.J.Audio?f.audioDuration=+m.media_duration||0:i==c.J.Video&&((a=f).videoDuration=+m.media_duration||0,m.thumbnail?a.videoFirstFrameDownloadUrl=s+m.thumbnail:a.videoFirstFrameDownloadUrl=m.video_first_frame_download_url||"",a.videoFirstFrameWidth=m.frame_width||0,a.videoFirstFrameHeight=m.frame_height||0))}else i==c.J.Revoke?(o.message="",f=n,s=Object(u.n)(f.msg_status).revoke,Object.assign(o,{revokeType:f.revoke_type,revokeStatus:s,revokeTimestamp:+f.revoke_time.toString(),operatedUserID:f.user_id,revokeExtendedData:Object(u.a)(f.payload),originalMessageType:f.msg_type,originalTextMessageContent:""})):o.message=Object(u.a)(n)},y.prototype.encodeAccesshubHTTPRequest=function(o,n,s,i,a){var m=i.url.replace(/^(https?):\/\/[\w\-\.]+\//,"/"),f=(f=i.headers)&&Object.keys(f).map(function(b){return{name:b,val:String(f[b])}});return n={txid:n,biz_type:0,appid:s.appID,id_name:s.userID,location:m,headers:f,body:a?Object(u.e)(JSON.stringify(a)):null,ack:!1,mode_no:1,service_no:10,method_no:i.method=="GET"?1:2,sdk_type:3,zegoconn_version:2,zegoconn_run_env:u.h?2:1},s=this.encode(this.protoInstance.proto_accesshub.HTTPRequest,n),this.createAccesshubBody(4,o,s)},y.prototype.encodeAccesshubDispatchRequest=function(o,n,s){return n={txid:n,biz_type:0,appid:s.appID,id_name:s.userID,mode_no:1,sdk_type:3,zegoconn_version:2,zegoconn_run_env:u.h?2:1},s=this.encode(this.protoInstance.proto_accesshub.AccesshubDispatchRequest,n),this.createAccesshubBody(26,o,s)},y.prototype.encodeAccesshubPCUpwardMessage=function(o,n,s){return n={txid:n.seq,appid:n.app_id,biz_type:0,mode_no:1,id_name:n.user_id,service_no:9,ack:!1,payload:s,sdk_type:3,wss_message_type:1,wss_path:"/ws",wss_raw_query:"",zegoconn_version:2,zegoconn_run_env:u.h?2:1},s=this.encode(this.protoInstance.proto_accesshub.PCUpwardMessage,n),this.createAccesshubBody(17,o,s)},y.prototype.createAccesshubBody=function(o,n,s){var i=new Uint8Array(13+s.length);return i[0]=175,i[1]=0,i[2]=o>>8,i[3]=o-(i[2]<<8),i.set(new Uint8Array(new Int32Array([s.length]).buffer).reverse(),4),i.set(new Uint8Array(new Int32Array([n]).buffer).reverse(),8),i[12]=0,i.set(s,13),i},y.prototype.encode=function(o,n){return o.encode(new o(n)).finish()},y.prototype.decode=function(o,n){return v({},o.decode(n))},y.prototype.getProtoBeanInstance=function(o){return this.protoInstance.proto_zim[c.K[o]]},y);function y(o){this.crypto=o,this.protoInstance=d.a,this.accesshubDecodeTypeMap={5:"HTTPResponse",27:"AccesshubDispatchResponse",3:"CloseConnection",22:"Redirect",19:"PCEstablished",30:"PushException"}}},function(e,t,r){r.d(t,"a",function(){return g}),t=r(10);var d=r(4);function u(y,o){if(o)for(let n=Object.keys(o),s=0;s<n.length;++s)o[n[s]]!=null&&(y[n[s]]=o[n[s]])}t.util.Long=r.n(d).a,t.configure();const c=t.Reader,v=t.Writer,g=(t.util,t.roots.default||(t.roots.default={}));g.proto_accesshub=(()=>{const y={};function o(x){this.headers=[],u(this,x)}function n(x){u(this,x)}function s(){this.headers=[]}function i(x){u(this,x)}function a(){}function m(){}function f(){this.groups=[],this.opt_ports=[],this.wss_groups=[]}function b(){}function C(){}function _(x){u(this,x)}function w(){this.quic_nodes=[],this.mtcp_nodes=[],this.wss_nodes=[]}function M(){}function S(){this.groups=[],this.opt_ports=[],this.wss_groups=[]}function I(){}return y.HTTPRequest=(o.encode=function(x,E){if(E=E||v.create(),Object.hasOwnProperty.call(x,"txid")&&E.uint32(8).uint64(x.txid),Object.hasOwnProperty.call(x,"appid")&&E.uint32(16).uint32(x.appid),Object.hasOwnProperty.call(x,"biz_type")&&E.uint32(24).uint32(x.biz_type),Object.hasOwnProperty.call(x,"mode")&&E.uint32(34).string(x.mode),Object.hasOwnProperty.call(x,"id_name")&&E.uint32(42).string(x.id_name),Object.hasOwnProperty.call(x,"reqid")&&E.uint32(50).string(x.reqid),Object.hasOwnProperty.call(x,"stick")&&E.uint32(58).string(x.stick),Object.hasOwnProperty.call(x,"service")&&E.uint32(66).string(x.service),Object.hasOwnProperty.call(x,"location")&&E.uint32(74).string(x.location),Object.hasOwnProperty.call(x,"method")&&E.uint32(82).string(x.method),x.headers&&x.headers.length)for(let D=0;D<x.headers.length;++D)g.proto_accesshub.HTTPRequest.HTTPHeader.encode(x.headers[D],E.uint32(90).fork()).ldelim();return Object.hasOwnProperty.call(x,"body")&&E.uint32(98).bytes(x.body),Object.hasOwnProperty.call(x,"ack")&&E.uint32(104).bool(x.ack),Object.hasOwnProperty.call(x,"mode_no")&&E.uint32(112).int32(x.mode_no),Object.hasOwnProperty.call(x,"service_no")&&E.uint32(120).int32(x.service_no),Object.hasOwnProperty.call(x,"method_no")&&E.uint32(128).int32(x.method_no),Object.hasOwnProperty.call(x,"sdk_type")&&E.uint32(136).int32(x.sdk_type),Object.hasOwnProperty.call(x,"zegoconn_run_env")&&E.uint32(144).int32(x.zegoconn_run_env),Object.hasOwnProperty.call(x,"zegoconn_version")&&E.uint32(152).uint32(x.zegoconn_version),E},o.HTTPHeader=(n.encode=function(x,E){return E=E||v.create(),Object.hasOwnProperty.call(x,"name")&&E.uint32(10).string(x.name),Object.hasOwnProperty.call(x,"val")&&E.uint32(18).string(x.val),E},n.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.HTTPRequest.HTTPHeader;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.name=x.string();break;case 2:R.val=x.string();break;default:x.skipType(7&q)}}return R},n),o),y.HTTPResponse=(s.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.HTTPResponse;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.txid=x.uint64();break;case 2:R.headers.push(g.proto_accesshub.HTTPRequest.HTTPHeader.decode(x,x.uint32()));break;case 3:R.status_code=x.int32();break;case 4:R.body=x.bytes();break;default:x.skipType(7&q)}}return R},s),y.PCUpwardMessage=(i.encode=function(x,E){return E=E||v.create(),Object.hasOwnProperty.call(x,"txid")&&E.uint32(8).uint64(x.txid),Object.hasOwnProperty.call(x,"appid")&&E.uint32(16).uint32(x.appid),Object.hasOwnProperty.call(x,"biz_type")&&E.uint32(24).uint32(x.biz_type),Object.hasOwnProperty.call(x,"mode_no")&&E.uint32(32).int32(x.mode_no),Object.hasOwnProperty.call(x,"id_name")&&E.uint32(42).string(x.id_name),Object.hasOwnProperty.call(x,"service_no")&&E.uint32(48).int32(x.service_no),Object.hasOwnProperty.call(x,"ack")&&E.uint32(56).bool(x.ack),Object.hasOwnProperty.call(x,"payload")&&E.uint32(66).bytes(x.payload),Object.hasOwnProperty.call(x,"sdk_type")&&E.uint32(72).int32(x.sdk_type),Object.hasOwnProperty.call(x,"wss_message_type")&&E.uint32(80).uint32(x.wss_message_type),Object.hasOwnProperty.call(x,"wss_path")&&E.uint32(90).string(x.wss_path),Object.hasOwnProperty.call(x,"wss_raw_query")&&E.uint32(98).string(x.wss_raw_query),Object.hasOwnProperty.call(x,"zegoconn_version")&&E.uint32(104).uint32(x.zegoconn_version),Object.hasOwnProperty.call(x,"zegoconn_run_env")&&E.uint32(112).int32(x.zegoconn_run_env),E},i),y.PCDownwardMessage=(a.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.PCDownwardMessage;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.payload=x.bytes();break;case 2:R.wss_message_type=x.uint32();break;default:x.skipType(7&q)}}return R},a),y.PCEstablished=(m.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.PCEstablished;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.elapse=x.uint32();break;case 2:R.from=x.uint32();break;default:x.skipType(7&q)}}return R},m),y.Redirect=(f.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.Redirect;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.rand=x.string();break;case 2:R.secret=x.string();break;case 3:R.groups.push(g.proto_accesshub.AccesshubDispatchGroup.decode(x,x.uint32()));break;case 4:if((7&q)==2)for(var A=x.uint32()+x.pos;x.pos<A;)R.opt_ports.push(x.uint32());else R.opt_ports.push(x.uint32());break;case 5:R.wss_groups.push(g.proto_accesshub.WssAccesshubDispatchGroup.decode(x,x.uint32()));break;default:x.skipType(7&q)}}return R},f),y.PushException=(b.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.PushException;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.reason=x.int32();break;case 2:R.msg=x.string();break;case 3:R.txid=x.uint64();break;default:x.skipType(7&q)}}return R},b),y.CloseConnection=(C.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.CloseConnection;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.reason=x.int32();break;case 2:R.msg=x.string();break;case 3:R.action=x.int32();break;default:x.skipType(7&q)}}return R},C),y.AccesshubDispatchRequest=(_.encode=function(x,E){return E=E||v.create(),Object.hasOwnProperty.call(x,"txid")&&E.uint32(8).uint64(x.txid),Object.hasOwnProperty.call(x,"appid")&&E.uint32(16).uint32(x.appid),Object.hasOwnProperty.call(x,"biz_type")&&E.uint32(24).uint32(x.biz_type),Object.hasOwnProperty.call(x,"mode_no")&&E.uint32(32).int32(x.mode_no),Object.hasOwnProperty.call(x,"id_name")&&E.uint32(42).string(x.id_name),Object.hasOwnProperty.call(x,"sdk_type")&&E.uint32(48).int32(x.sdk_type),Object.hasOwnProperty.call(x,"zegoconn_version")&&E.uint32(56).uint32(x.zegoconn_version),Object.hasOwnProperty.call(x,"zegoconn_run_env")&&E.uint32(64).int32(x.zegoconn_run_env),E},_),y.AccesshubDispatchGroup=(w.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.AccesshubDispatchGroup;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.group=x.string();break;case 2:R.quic_nodes.push(x.string());break;case 3:R.mtcp_nodes.push(x.string());break;case 4:R.wss_nodes.push(x.string());break;default:x.skipType(7&q)}}return R},w),y.WssAccesshubDispatchGroup=(M.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.WssAccesshubDispatchGroup;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.group=x.string();break;case 2:R.host=x.string();break;default:x.skipType(7&q)}}return R},M),y.AccesshubDispatchResponseData=(S.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.AccesshubDispatchResponseData;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.txid=x.uint64();break;case 2:R.rand=x.string();break;case 3:R.secret=x.string();break;case 4:R.groups.push(g.proto_accesshub.AccesshubDispatchGroup.decode(x,x.uint32()));break;case 5:if((7&q)==2)for(var A=x.uint32()+x.pos;x.pos<A;)R.opt_ports.push(x.uint32());else R.opt_ports.push(x.uint32());break;case 6:R.wss_groups.push(g.proto_accesshub.WssAccesshubDispatchGroup.decode(x,x.uint32()));break;default:x.skipType(7&q)}}return R},S),y.AccesshubDispatchResponse=(I.decode=function(x,E){x instanceof c||(x=c.create(x));let D=E===void 0?x.len:x.pos+E,R=new g.proto_accesshub.AccesshubDispatchResponse;for(;x.pos<D;){var q=x.uint32();switch(q>>>3){case 1:R.code=x.int32();break;case 2:R.message=x.string();break;case 3:R.data=g.proto_accesshub.AccesshubDispatchResponseData.decode(x,x.uint32());break;default:x.skipType(7&q)}}return R},I),y})(),g.proto_zim=(()=>{const y={};function o(){}function n(l){u(this,l)}function s(){}function i(l){u(this,l)}function a(l){u(this,l)}function m(l){this.forward_ip=[],u(this,l)}function f(l){u(this,l)}function b(){this.server_ips=[],this.redirect_server=[]}function C(l){u(this,l)}function _(){this.push_requests=[]}function w(l){u(this,l)}function M(l){this.push_responses=[],u(this,l)}function S(l){u(this,l)}function I(l){u(this,l)}function x(l){u(this,l)}function E(l){u(this,l)}function D(l){this.at=[],u(this,l)}function R(){}function q(){}function A(l){u(this,l)}function j(){}function H(){}function W(){}function X(){}function ee(l){this.user_ids=[],u(this,l)}function ae(){this.err_list=[]}function N(l){u(this,l)}function k(){this.user_list=[]}function L(l){u(this,l)}function $(l){u(this,l)}function B(l){u(this,l)}function G(){}function Z(l){u(this,l)}function re(){this.conv_list=[]}function z(l){u(this,l)}function ie(){this.msgs=[]}function se(l){u(this,l)}function Ce(){}function Se(){}function F(l){this.msg_ids=[],u(this,l)}function J(l){this.conv_msg_seq=[],u(this,l)}function he(){this.conv_msg_seq2_receipt_seq={}}function de(l){u(this,l)}function ge(){this.read_members=[],this.unread_members=[]}function _e(l){u(this,l)}function fe(){this.list=[]}function we(){}function ke(){}function Ie(){this.PushItems=[]}function De(){}function Ee(l){u(this,l)}function U(){this.statemsg_list=[]}function oe(){}function te(l){u(this,l)}function ue(){this.revoke_time="0"}function pe(){this.revoke_type=0,this.revoke_time="0"}function K(){this.conv_type=0}function ce(){this.headers={},this.forms={}}function me(l){u(this,l)}function be(){}function Me(){}function Oe(){}function Re(){}function Te(l){this.user_ids=[],this.attributes=[],u(this,l)}function qe(){this.members=[],this.error_users=[]}function $e(l){u(this,l)}function Pe(l){this.attributes=[],u(this,l)}function je(l){this.attributes=[],u(this,l)}function We(l){u(this,l)}function Xe(l){u(this,l)}function Ye(){this.fail_keys=[]}function Qe(l){u(this,l)}function He(){}function Je(l){this.user_ids=[],u(this,l)}function pt(){this.members=[],this.error_users=[]}function ht(){this.error_users=[]}function ut(l){u(this,l)}function bt(){}function ct(){this.change_list=[]}function Ve(){this.members=[]}function Ze(l){this.attributes=[],u(this,l)}function lt(){}function mt(l){u(this,l)}function gt(){}function yt(){}function St(){this.groups=[]}function wt(l){u(this,l)}function kt(){}function It(){this.members=[]}function xt(){}function Et(){this.members=[]}function dt(){this.modify_type=0}function Dt(){}function Rt(){}function At(l){u(this,l)}function Ot(){}function rt(l){u(this,l)}function vt(){}function Tt(l){u(this,l)}function P(){}function ne(l){u(this,l)}function le(){this.msgs=[]}function ve(l){u(this,l)}function V(l){u(this,l)}function xe(){}function ye(l){u(this,l)}function Ae(){this.msgs=[]}function Le(l){u(this,l)}function Be(){this.state_list=[]}function Ne(){}function Fe(){}function ze(){}function et(){}function nt(){}function Bt(){}function Pt(l){this.attributes=[],u(this,l)}function Nt(){}function Ct(l){this.attributes=[],u(this,l)}function ot(){}function it(l){u(this,l)}function Ke(l){u(this,l)}function st(){this.users=[]}function Ge(l){u(this,l)}function at(l){u(this,l)}function _t(){}function qt(l){u(this,l)}function Ut(l){u(this,l)}function Lt(l){this.attributes=[],u(this,l)}function Ft(l){this.attributes=[],u(this,l)}function $t(l){u(this,l)}function Vt(){this.err_list=[]}function Ht(l){u(this,l)}function Kt(l){u(this,l)}function Wt(){this.user_attributes=[],this.user_err_list=[]}function Zt(l){this.user_ids=[],this.modify_attribute=[],u(this,l)}function jt(l){this.attributes=[],this.err_list=[],u(this,l)}function Yt(l){this.req_attributes=[],u(this,l)}function Qt(l){u(this,l)}function Jt(){this.user_attributes=[]}function Xt(){}function er(){}function tr(){this.attributes=[]}function rr(){this.push_attributes=[]}function zt(l){this.quey_user_id=[],u(this,l)}function nr(){this.result=[],this.err_list=[]}function or(l){u(this,l)}return y.CommonCodeMessage=(o.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.CommonCodeMessage;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;default:l.skipType(7&Y)}}return T},o),y.Header=(n.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"cmd")&&O.uint32(10).string(l.cmd),Object.hasOwnProperty.call(l,"seq")&&O.uint32(16).uint32(l.seq),Object.hasOwnProperty.call(l,"timestamp")&&O.uint32(24).int64(l.timestamp),Object.hasOwnProperty.call(l,"app_id")&&O.uint32(32).uint32(l.app_id),Object.hasOwnProperty.call(l,"user_id")&&O.uint32(42).string(l.user_id),Object.hasOwnProperty.call(l,"session_id")&&O.uint32(48).int64(l.session_id),Object.hasOwnProperty.call(l,"user_nid")&&O.uint32(56).int64(l.user_nid),Object.hasOwnProperty.call(l,"controls")&&O.uint32(66).bytes(l.controls),Object.hasOwnProperty.call(l,"product")&&O.uint32(72).int32(l.product),Object.hasOwnProperty.call(l,"flags")&&O.uint32(82).bytes(l.flags),Object.hasOwnProperty.call(l,"caller_type")&&O.uint32(88).int32(l.caller_type),O},n.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.Header;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.cmd=l.string();break;case 2:T.seq=l.uint32();break;case 3:T.timestamp=l.int64();break;case 4:T.app_id=l.uint32();break;case 5:T.user_id=l.string();break;case 6:T.session_id=l.int64();break;case 7:T.user_nid=l.int64();break;case 8:T.controls=l.bytes();break;case 9:T.product=l.int32();break;case 10:T.flags=l.bytes();break;case 11:T.caller_type=l.int32();break;default:l.skipType(7&Y)}}return T},n),y.HbRsp=(s.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.HbRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.heartbeat_interval=l.uint32();break;case 4:T.hb_timeout=l.uint32();break;case 5:T.server_timestamp=l.int64();break;default:l.skipType(7&Y)}}return T},s),y.PushReq=(i.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushReq;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.head=g.proto_zim.PushReqHead.decode(l,l.uint32());break;case 2:T.msg_body=l.bytes();break;default:l.skipType(7&Y)}}return T},i),y.PushReqHead=(a.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushReqHead;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.sub_cmd=l.string();break;case 2:T.sender_user_id=l.string();break;case 3:T.qos_flag=l.uint32();break;case 4:T.msg_id=l.string();break;case 5:T.send_time=l.int64();break;case 6:T.room_id=l.bytes();break;case 7:T.sender_user_nid=l.uint64();break;default:l.skipType(7&Y)}}return T},a),y.HandshakeReq=(m.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"term_type")&&O.uint32(8).int32(l.term_type),Object.hasOwnProperty.call(l,"net_type")&&O.uint32(16).int32(l.net_type),Object.hasOwnProperty.call(l,"sdk_ver")&&O.uint32(24).uint32(l.sdk_ver),l.forward_ip&&l.forward_ip.length)for(let Q=0;Q<l.forward_ip.length;++Q)O.uint32(34).string(l.forward_ip[Q]);return Object.hasOwnProperty.call(l,"device_id")&&O.uint32(42).string(l.device_id),Object.hasOwnProperty.call(l,"server_addr")&&O.uint32(50).string(l.server_addr),Object.hasOwnProperty.call(l,"channel_index")&&O.uint32(56).uint32(l.channel_index),O},m),y.LoginReq=(f.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"sdk_ver")&&O.uint32(8).uint32(l.sdk_ver),Object.hasOwnProperty.call(l,"user_name")&&O.uint32(18).bytes(l.user_name),Object.hasOwnProperty.call(l,"term_type")&&O.uint32(24).int32(l.term_type),Object.hasOwnProperty.call(l,"net_type")&&O.uint32(32).int32(l.net_type),Object.hasOwnProperty.call(l,"device_id")&&O.uint32(42).string(l.device_id),Object.hasOwnProperty.call(l,"server_ip")&&O.uint32(50).string(l.server_ip),Object.hasOwnProperty.call(l,"channel_index")&&O.uint32(56).uint32(l.channel_index),Object.hasOwnProperty.call(l,"client_stamp")&&O.uint32(66).bytes(l.client_stamp),Object.hasOwnProperty.call(l,"k1_sign")&&O.uint32(74).bytes(l.k1_sign),Object.hasOwnProperty.call(l,"login_token")&&O.uint32(82).bytes(l.login_token),Object.hasOwnProperty.call(l,"relogin_token")&&O.uint32(90).bytes(l.relogin_token),Object.hasOwnProperty.call(l,"zpns_push_id")&&O.uint32(98).string(l.zpns_push_id),Object.hasOwnProperty.call(l,"login_sign")&&O.uint32(106).bytes(l.login_sign),O},f),y.LoginRsp=(b.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.LoginRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.k2_sign=l.bytes();break;case 4:T.hb_interval=l.uint32();break;case 5:T.hb_timeout=l.uint32();break;case 6:T.server_timestamp=l.int64();break;case 7:T.redirect_server_ip=l.string();break;case 8:T.server_ips.push(l.string());break;case 9:T.login_server_ip=l.string();break;case 10:T.relogin_token=l.bytes();break;case 11:T.redirect_server.push(l.string());break;case 12:T.usermail_hb_interval=l.uint32();break;case 13:T.fetch_c2c_msg_list=l.int32();break;case 14:T.fetch_conv_list=l.int32();break;case 15:T.fetch_conv_msg_list=l.int32();break;case 16:T.fetch_group_list=l.int32();break;case 17:T.im_conf_json=l.string();break;default:l.skipType(7&Y)}}return T},b),y.LogoutReq=(C.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"logout_reason")&&O.uint32(8).uint32(l.logout_reason),Object.hasOwnProperty.call(l,"logout_check")&&O.uint32(18).bytes(l.logout_check),O},C),y.PushListRequest=(_.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushListRequest;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.push_requests.push(g.proto_zim.PushRequest.decode(l,l.uint32()));break;case 2:T.qos_flag=l.uint32();break;case 3:T.send_time=l.int64();break;default:l.skipType(7&Y)}}return T},_),y.PushRequest=(w.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushRequest;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.sub_cmd=l.string();break;case 2:T.msg_body=l.bytes();break;case 3:T.sender_user_id=l.string();break;case 4:T.msg_id=l.string();break;case 5:T.sender_user_nid=l.uint64();break;default:l.skipType(7&Y)}}return T},w),y.PushListRsp=(M.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"code")&&O.uint32(8).uint32(l.code),Object.hasOwnProperty.call(l,"message")&&O.uint32(18).string(l.message),l.push_responses&&l.push_responses.length)for(let Q=0;Q<l.push_responses.length;++Q)g.proto_zim.StGroupAttribute.encode(l.push_responses[Q],O.uint32(26).fork()).ldelim();return Object.hasOwnProperty.call(l,"server_send_time")&&O.uint32(32).int64(l.server_send_time),O},M),y.StMsgClientInfo=(S.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"conv_sid")&&O.uint32(8).int64(l.conv_sid),Object.hasOwnProperty.call(l,"client_msg_seq")&&O.uint32(16).int64(l.client_msg_seq),O},S.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StMsgClientInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.conv_sid=l.int64();break;case 2:T.client_msg_seq=l.int64();break;default:l.skipType(7&Y)}}return T},S),y.StOfflinePushInfo=(I.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"enable_push")&&O.uint32(8).int32(l.enable_push),Object.hasOwnProperty.call(l,"title")&&O.uint32(18).string(l.title),Object.hasOwnProperty.call(l,"content")&&O.uint32(26).string(l.content),Object.hasOwnProperty.call(l,"payload")&&O.uint32(34).string(l.payload),Object.hasOwnProperty.call(l,"pushStrategyId")&&O.uint32(42).string(l.pushStrategyId),O},I.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StOfflinePushInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.enable_push=l.int32();break;case 2:T.title=l.string();break;case 3:T.content=l.string();break;case 4:T.payload=l.string();break;case 5:T.pushStrategyId=l.string();break;default:l.skipType(7&Y)}}return T},I),y.PictureMsgBody=(x.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"version")&&O.uint32(10).string(l.version),Object.hasOwnProperty.call(l,"file_type")&&O.uint32(16).int32(l.file_type),Object.hasOwnProperty.call(l,"file_uid")&&O.uint32(26).string(l.file_uid),Object.hasOwnProperty.call(l,"file_name")&&O.uint32(34).string(l.file_name),Object.hasOwnProperty.call(l,"file_size")&&O.uint32(42).string(l.file_size),Object.hasOwnProperty.call(l,"file_download_url")&&O.uint32(50).string(l.file_download_url),Object.hasOwnProperty.call(l,"large_image_download_url")&&O.uint32(58).string(l.large_image_download_url),Object.hasOwnProperty.call(l,"thumbnail_download_url")&&O.uint32(66).string(l.thumbnail_download_url),Object.hasOwnProperty.call(l,"large")&&O.uint32(74).string(l.large),Object.hasOwnProperty.call(l,"thumbnail")&&O.uint32(82).string(l.thumbnail),Object.hasOwnProperty.call(l,"origin_width")&&O.uint32(88).uint32(l.origin_width),Object.hasOwnProperty.call(l,"origin_height")&&O.uint32(96).uint32(l.origin_height),Object.hasOwnProperty.call(l,"big_width")&&O.uint32(104).uint32(l.big_width),Object.hasOwnProperty.call(l,"big_height")&&O.uint32(112).uint32(l.big_height),Object.hasOwnProperty.call(l,"small_width")&&O.uint32(120).uint32(l.small_width),Object.hasOwnProperty.call(l,"small_height")&&O.uint32(128).uint32(l.small_height),O},x.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PictureMsgBody;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.version=l.string();break;case 2:T.file_type=l.int32();break;case 3:T.file_uid=l.string();break;case 4:T.file_name=l.string();break;case 5:T.file_size=l.string();break;case 6:T.file_download_url=l.string();break;case 7:T.large_image_download_url=l.string();break;case 8:T.thumbnail_download_url=l.string();break;case 9:T.large=l.string();break;case 10:T.thumbnail=l.string();break;case 11:T.origin_width=l.uint32();break;case 12:T.origin_height=l.uint32();break;case 13:T.big_width=l.uint32();break;case 14:T.big_height=l.uint32();break;case 15:T.small_width=l.uint32();break;case 16:T.small_height=l.uint32();break;default:l.skipType(7&Y)}}return T},x),y.VideoMsgBody=(E.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"version")&&O.uint32(10).string(l.version),Object.hasOwnProperty.call(l,"file_type")&&O.uint32(16).int32(l.file_type),Object.hasOwnProperty.call(l,"file_uid")&&O.uint32(26).string(l.file_uid),Object.hasOwnProperty.call(l,"file_name")&&O.uint32(34).string(l.file_name),Object.hasOwnProperty.call(l,"file_size")&&O.uint32(42).string(l.file_size),Object.hasOwnProperty.call(l,"file_download_url")&&O.uint32(50).string(l.file_download_url),Object.hasOwnProperty.call(l,"media_duration")&&O.uint32(58).string(l.media_duration),Object.hasOwnProperty.call(l,"video_first_frame_download_url")&&O.uint32(66).string(l.video_first_frame_download_url),Object.hasOwnProperty.call(l,"thumbnail")&&O.uint32(74).string(l.thumbnail),Object.hasOwnProperty.call(l,"frame_width")&&O.uint32(80).uint32(l.frame_width),Object.hasOwnProperty.call(l,"frame_height")&&O.uint32(88).uint32(l.frame_height),O},E.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.VideoMsgBody;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.version=l.string();break;case 2:T.file_type=l.int32();break;case 3:T.file_uid=l.string();break;case 4:T.file_name=l.string();break;case 5:T.file_size=l.string();break;case 6:T.file_download_url=l.string();break;case 7:T.media_duration=l.string();break;case 8:T.video_first_frame_download_url=l.string();break;case 9:T.thumbnail=l.string();break;case 10:T.frame_width=l.uint32();break;case 11:T.frame_height=l.uint32();break;default:l.skipType(7&Y)}}return T},E),y.StConvMsgInfo=(D.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"msg_type")&&O.uint32(8).int32(l.msg_type),Object.hasOwnProperty.call(l,"msg")&&O.uint32(18).bytes(l.msg),Object.hasOwnProperty.call(l,"priority_type")&&O.uint32(24).int32(l.priority_type),Object.hasOwnProperty.call(l,"conv_id")&&O.uint32(34).string(l.conv_id),Object.hasOwnProperty.call(l,"msg_client_info")&&g.proto_zim.StMsgClientInfo.encode(l.msg_client_info,O.uint32(42).fork()).ldelim(),Object.hasOwnProperty.call(l,"payload")&&O.uint32(50).bytes(l.payload),Object.hasOwnProperty.call(l,"offline_push")&&g.proto_zim.StOfflinePushInfo.encode(l.offline_push,O.uint32(58).fork()).ldelim(),Object.hasOwnProperty.call(l,"pack_count")&&O.uint32(64).int32(l.pack_count),Object.hasOwnProperty.call(l,"pack_index")&&O.uint32(72).int32(l.pack_index),Object.hasOwnProperty.call(l,"has_receipt")&&O.uint32(80).int32(l.has_receipt),l.at&&l.at.length)for(let Q=0;Q<l.at.length;++Q)O.uint32(90).string(l.at[Q]);return Object.hasOwnProperty.call(l,"at_all")&&O.uint32(96).bool(l.at_all),O},D.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StConvMsgInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.msg_type=l.int32();break;case 2:T.msg=l.bytes();break;case 3:T.priority_type=l.int32();break;case 4:T.conv_id=l.string();break;case 5:T.msg_client_info=g.proto_zim.StMsgClientInfo.decode(l,l.uint32());break;case 6:T.payload=l.bytes();break;case 7:T.offline_push=g.proto_zim.StOfflinePushInfo.decode(l,l.uint32());break;case 8:T.pack_count=l.int32();break;case 9:T.pack_index=l.int32();break;case 10:T.has_receipt=l.int32();break;case 11:T.at.push(l.string());break;case 12:T.at_all=l.bool();break;default:l.skipType(7&Y)}}return T.msg_type==31&&(T.msg=g.proto_zim.StRevokeContent.decode(T.msg)),T},D),y.StMsgSvrInfo=(R.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StMsgSvrInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.msg_id=l.int64();break;case 2:T.conv_msg_seq=l.int64();break;case 3:T.c2c_msg_seq=l.int64();break;case 4:T.sender_user_id=l.string();break;case 5:T.sender_user_name=l.bytes();break;case 6:T.msg_time=l.int64();break;case 7:T.has_content=l.int32();break;case 9:T.msg_rsp=l.bytes();break;case 10:T.version=l.uint32();break;default:l.skipType(7&Y)}}return T},R),y.StRecvMsgInfo=(q.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StRecvMsgInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.msg_info=g.proto_zim.StConvMsgInfo.decode(l,l.uint32());break;case 2:T.msg_svr_info=g.proto_zim.StMsgSvrInfo.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},q),y.StCommandMsgInfo=(A.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"msg_type")&&O.uint32(8).int32(l.msg_type),Object.hasOwnProperty.call(l,"msg")&&O.uint32(18).bytes(l.msg),Object.hasOwnProperty.call(l,"priority_type")&&O.uint32(24).int32(l.priority_type),Object.hasOwnProperty.call(l,"payload")&&O.uint32(34).bytes(l.payload),Object.hasOwnProperty.call(l,"conv_id")&&O.uint32(42).string(l.conv_id),O},A.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StCommandMsgInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.msg_type=l.int32();break;case 2:T.msg=l.bytes();break;case 3:T.priority_type=l.int32();break;case 4:T.payload=l.bytes();break;case 5:T.conv_id=l.string();break;default:l.skipType(7&Y)}}return T},A),y.StCommandSvrInfo=(j.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StCommandSvrInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.msg_id=l.int64();break;case 2:T.sender_user_id=l.string();break;case 3:T.sender_user_name=l.bytes();break;case 4:T.msg_time=l.int64();break;default:l.skipType(7&Y)}}return T},j),y.StRecvCommandInfo=(H.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StRecvCommandInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.command_msg_info=g.proto_zim.StCommandMsgInfo.decode(l,l.uint32());break;case 2:T.command_svr_info=g.proto_zim.StCommandSvrInfo.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},H),y.FetchMsgInfo=(W.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.FetchMsgInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.msg_body=l.bytes();break;case 2:T.msg_dyn_info=g.proto_zim.MsgDynInfo.decode(l,l.uint32());break;case 3:T.msglist_seq=l.int64();break;default:l.skipType(7&Y)}}const Ue=g.proto_zim.StRecvMsgInfo.decode(T.msg_body);return Object.assign(Ue.msg_info,T.msg_dyn_info),Ue.msg_svr_info.conv_msg_seq&&Ue.msg_svr_info.conv_msg_seq.toInt()?Ue.msg_svr_info.c2c_msg_seq=T.msglist_seq:Ue.msg_svr_info.conv_msg_seq=T.msglist_seq,Ue},W),y.MsgDynInfo=(X.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.MsgDynInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.msg_status=l.int32();break;case 2:T.has_receipt=l.bool()?1:0;break;default:l.skipType(7&Y)}}return T},X),y.call_req=(ee.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"call_id")&&O.uint32(10).string(l.call_id),l.user_ids&&l.user_ids.length)for(let Q=0;Q<l.user_ids.length;++Q)O.uint32(18).string(l.user_ids[Q]);return Object.hasOwnProperty.call(l,"timeout")&&O.uint32(24).int32(l.timeout),Object.hasOwnProperty.call(l,"payload")&&O.uint32(34).bytes(l.payload),l.offline_info!=null&&Object.hasOwnProperty.call(l,"offline_info")&&g.proto_zim.StOfflinePushInfo.encode(l.offline_info,O.uint32(42).fork()).ldelim(),O},ee),y.call_rsp=(ae.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.call_rsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.timeout=l.int32();break;case 4:T.call_id=l.string();break;case 5:T.err_list.push(g.proto_zim.ErrorUser.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},ae),y.call_refuse_req=(N.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"call_id")&&O.uint32(10).string(l.call_id),Object.hasOwnProperty.call(l,"state")&&O.uint32(16).int32(l.state),Object.hasOwnProperty.call(l,"extended_data")&&O.uint32(26).bytes(l.extended_data),O},N),y.call_info_rsp=(k.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.call_info_rsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.user_list.push(g.proto_zim.ErrorUser.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},k),y.PushCallInvited=(L.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushCallInvited;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.call_id=l.string();break;case 2:T.timeout=l.int32();break;case 3:T.caller=l.string();break;case 4:T.payload=l.bytes();break;default:l.skipType(7&Y)}}return T},L),y.PushCallRefuse=($.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushCallRefuse;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.call_id=l.string();break;case 2:T.invitee=l.string();break;case 3:T.caller=l.string();break;case 4:T.call_state=l.int32();break;case 5:T.extended_data=l.bytes();break;default:l.skipType(7&Y)}}return T},$),y.PushCallAccept=(B.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushCallAccept;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.call_id=l.string();break;case 2:T.invitee=l.string();break;case 3:T.caller=l.string();break;case 4:T.extended_data=l.bytes();break;default:l.skipType(7&Y)}}return T},B),y.ConvInfo=(G.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.ConvInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.conv_id=l.string();break;case 2:T.conv_type=l.int32();break;case 3:T.conv_list_seq=l.int64();break;case 4:T.conv_msg_seq=l.int64();break;case 5:T.read_seq=l.int64();break;case 6:T.is_del=l.bool();break;case 7:T.last_msg=g.proto_zim.StRecvMsgInfo.decode(l,l.uint32());break;case 8:T.send_count_after_read=l.int64();break;case 9:T.last_msg_del=l.bool();break;case 10:T.last_del_msg_seq=l.int64();break;case 11:T.statemsg_seq=l.int64();break;case 12:T.receipt_max_conv_msg_seq=l.int64();break;case 13:T.at_max_conv_msg_seq=l.int64();break;case 14:T.at_all_max_conv_msg_seq=l.int64();break;case 15:T.update_time=l.int64();break;case 16:T.sub_read_count=l.int64();break;default:l.skipType(7&Y)}}return T},G),y.GetConvListReq=(Z.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"conv_list_seq")&&O.uint32(8).int64(l.conv_list_seq),Object.hasOwnProperty.call(l,"count")&&O.uint32(16).uint32(l.count),Object.hasOwnProperty.call(l,"full_pull")&&O.uint32(24).int32(l.full_pull),Object.hasOwnProperty.call(l,"degree")&&O.uint32(32).uint32(l.degree),O},Z),y.GetConvListRsp=(re.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GetConvListRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.conv_list.push(g.proto_zim.ConvInfo.decode(l,l.uint32()));break;case 4:T.conv_list_seq=l.int64();break;case 5:T.max_list_seq=l.int64();break;case 6:T.full_list=l.int32();break;case 7:T.fetch_end=l.int32();break;default:l.skipType(7&Y)}}return T},re),y.FetchConvMsgReq=(z.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"conv_id")&&O.uint32(10).string(l.conv_id),Object.hasOwnProperty.call(l,"conv_type")&&O.uint32(16).int32(l.conv_type),Object.hasOwnProperty.call(l,"conv_msg_seq")&&O.uint32(24).int64(l.conv_msg_seq),Object.hasOwnProperty.call(l,"count")&&O.uint32(32).int32(l.count),Object.hasOwnProperty.call(l,"mode")&&O.uint32(40).int32(l.mode),Object.hasOwnProperty.call(l,"login_fetch")&&O.uint32(48).int32(l.login_fetch),Object.hasOwnProperty.call(l,"how")&&O.uint32(56).int32(l.how),Object.hasOwnProperty.call(l,"degree")&&O.uint32(64).uint32(l.degree),O},z),y.FetchConvMsgRsp=(ie.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.FetchConvMsgRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.conv_msg_svr_seq=l.int64();break;case 4:T.conv_msg_seq=l.int64();break;case 5:T.msgs.push(g.proto_zim.FetchMsgInfo.decode(l,l.uint32()));break;case 6:T.fetch_end=l.int32();break;default:l.skipType(7&Y)}}return T},ie),y.UpdateReadSeqReq=(se.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"conv_id")&&O.uint32(10).string(l.conv_id),Object.hasOwnProperty.call(l,"conv_type")&&O.uint32(16).int32(l.conv_type),Object.hasOwnProperty.call(l,"read_seq")&&O.uint32(24).int64(l.read_seq),O},se),y.UserMailHbRsp=(Ce.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.UserMailHbRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.conv_list_seq=l.int64();break;case 4:T.group_list_seq=l.int64();break;case 5:T.c2c_msg_seq=l.int64();break;case 7:T.seq_fallback_timeout=l.uint32();break;case 8:T.msg_to=l.uint32();break;case 9:T.msg_itvl=l.uint32();break;case 10:T.list_to=l.uint32();break;case 11:T.list_itvl=l.uint32();break;case 12:T.conv_to=l.uint32();break;case 13:T.conv_itvl=l.uint32();break;case 14:T.group_to=l.uint32();break;case 15:T.group_itvl=l.uint32();break;case 16:T.c2c_statemsg_seq=l.int64();break;case 17:T.extra_msg_list_seq=l.int64();break;default:l.skipType(7&Y)}}return T},Ce),y.ConvDelRsp=(Se.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.ConvDelRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.conv_list_seq=l.int64();break;case 4:T.conv_msg_seq=l.int64();break;default:l.skipType(7&Y)}}return T},Se),y.ConvDelMsgByMsgIdReq=(F.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"conv_id")&&O.uint32(10).string(l.conv_id),Object.hasOwnProperty.call(l,"conv_type")&&O.uint32(16).int32(l.conv_type),l.msg_ids&&l.msg_ids.length){O.uint32(26).fork();for(let Q=0;Q<l.msg_ids.length;++Q)O.int64(l.msg_ids[Q]);O.ldelim()}return O},F),y.C2CReadReceiptReq=(J.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"conv_id")&&O.uint32(10).string(l.conv_id),l.conv_msg_seq&&l.conv_msg_seq.length){O.uint32(18).fork();for(let Q=0;Q<l.conv_msg_seq.length;++Q)O.int64(l.conv_msg_seq[Q]);O.ldelim()}return O},J),y.C2CReadReceiptRsp=(he.decode=function(l,O){l instanceof c||(l=c.create(l));let Q,T,Y=O===void 0?l.len:l.pos+O,Ue=new g.proto_zim.C2CReadReceiptRsp;for(;l.pos<Y;){var ft=l.uint32();switch(ft>>>3){case 1:Ue.code=l.uint32();break;case 2:Ue.message=l.string();break;case 3:var Gt=l.uint32()+l.pos;for(Q=0,T=0;l.pos<Gt;){var Mt=l.uint32();switch(Mt>>>3){case 1:Q=l.int64();break;case 2:T=l.int64().toString();break;default:l.skipType(7&Mt)}}Ue.conv_msg_seq2_receipt_seq[Q.toString()]=T;break;default:l.skipType(7&ft)}}return Ue},he),y.GetGroupReadReceiptDetailReq=(de.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"group_id")&&O.uint32(10).string(l.group_id),Object.hasOwnProperty.call(l,"conv_msg_seq")&&O.uint32(16).int64(l.conv_msg_seq),Object.hasOwnProperty.call(l,"list_seq")&&O.uint32(24).uint32(l.list_seq),Object.hasOwnProperty.call(l,"count")&&O.uint32(32).uint32(l.count),Object.hasOwnProperty.call(l,"degree")&&O.uint32(40).uint32(l.degree),O},de),y.GetGroupReadReceiptDetailRsp=(ge.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GetGroupReadReceiptDetailRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:if((7&Y)==2)for(var Ue=l.uint32()+l.pos;l.pos<Ue;)T.read_members.push(l.int64());else T.read_members.push(l.int64());break;case 4:if((7&Y)==2)for(var ft=l.uint32()+l.pos;l.pos<ft;)T.unread_members.push(l.int64());else T.unread_members.push(l.int64());break;case 5:T.next_list_seq=l.uint32();break;case 6:T.read_count=l.sint32();break;case 7:T.unread_count=l.sint32();break;case 8:T.fetch_end=l.uint32();break;default:l.skipType(7&Y)}}return T},ge),y.GetExtraMsgListReq=(_e.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"list_seq")&&O.uint32(8).int64(l.list_seq),Object.hasOwnProperty.call(l,"count")&&O.uint32(16).sint32(l.count),Object.hasOwnProperty.call(l,"degree")&&O.uint32(24).uint32(l.degree),O},_e),y.GetExtraMsgListRsp=(fe.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GetExtraMsgListRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.list.push(g.proto_zim.ExtraMsgContent.decode(l,l.uint32()));break;case 4:T.next_list_seq=l.int64();break;case 5:T.fetch_end=l.int32();break;default:l.skipType(7&Y)}}return T},fe),y.ExtraMsgContent=(we.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.ExtraMsgContent;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.conv_id=l.string();break;case 2:T.conv_type=l.int32();break;case 3:T.conv_msg_seq=l.int64();break;case 4:T.list_seq=l.int64();break;case 5:T.type=l.int32();break;case 6:T.receipt_content=g.proto_zim.StReceiptContent.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},we),y.StReceiptContent=(ke.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StReceiptContent;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.read_count=l.sint32();break;case 2:T.unread_count=l.sint32();break;case 3:T.is_conv_read=l.uint32();break;default:l.skipType(7&Y)}}return T},ke),y.PushReadReceipt=(Ie.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushReadReceipt;for(;l.pos<Q;){var Y=l.uint32();Y>>>3==1?T.PushItems.push(g.proto_zim.PushReadReceipt.PushItem.decode(l,l.uint32())):l.skipType(7&Y)}return T},Ie.PushItem=(De.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushReadReceipt.PushItem;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.conv_msg_seq=l.int64();break;case 2:T.conv_id=l.string();break;case 3:T.conv_type=l.int32();break;case 4:T.read_count=l.sint32();break;case 5:T.unread_count=l.sint32();break;case 6:T.receipt_seq=l.int64();break;case 7:T.is_conv_read=l.uint32();break;default:l.skipType(7&Y)}}return T},De),Ie),y.GetStatemsgListReq=(Ee.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"conv_id")&&O.uint32(10).string(l.conv_id),Object.hasOwnProperty.call(l,"statemsg_seq")&&O.uint32(16).int64(l.statemsg_seq),Object.hasOwnProperty.call(l,"count")&&O.uint32(24).sint32(l.count),Object.hasOwnProperty.call(l,"degree")&&O.uint32(32).uint32(l.degree),Object.hasOwnProperty.call(l,"max_msg_seq")&&O.uint32(40).int64(l.max_msg_seq),Object.hasOwnProperty.call(l,"min_msg_seq")&&O.uint32(48).int64(l.min_msg_seq),O},Ee),y.GetStatemsgListRsp=(U.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GetStatemsgListRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.statemsg_list.push(g.proto_zim.StStatemsgContent.decode(l,l.uint32()));break;case 4:T.next_statemsg_seq=l.int64();break;case 5:T.fetch_end=l.int32();break;default:l.skipType(7&Y)}}return T},U),y.StStatemsgContent=(oe.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StStatemsgContent;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.conv_msg_seq=l.int64();break;case 2:T.msg_status=l.int32();break;case 3:T.statemsg_seq=l.int64();break;case 4:T.conv_id=l.string();break;case 5:T.conv_type=l.int32();break;case 6:T.content=g.proto_zim.StRevokeContent.decode(l.bytes());break;default:l.skipType(7&Y)}}return T},oe),y.RevokeMsgReq=(te.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"conv_id")&&O.uint32(10).string(l.conv_id),Object.hasOwnProperty.call(l,"conv_msg_seq")&&O.uint32(16).int64(l.conv_msg_seq),Object.hasOwnProperty.call(l,"offline_push")&&g.proto_zim.StOfflinePushInfo.encode(l.offline_push,O.uint32(26).fork()).ldelim(),Object.hasOwnProperty.call(l,"payload")&&O.uint32(34).bytes(l.payload),O},te),y.RevokeMsgRsp=(ue.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.RevokeMsgRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.statemsg_seq=l.int64();break;case 4:T.msg_status=l.int32();break;case 5:T.revoke_time=l.int64();break;default:l.skipType(7&Y)}}return T},ue),y.StRevokeContent=(pe.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StRevokeContent;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.user_id=l.string();break;case 2:T.revoke_time=l.int64();break;case 3:T.msg_type=l.int32();break;case 4:T.revoke_type=l.uint32();break;case 5:T.payload=l.bytes();break;case 6:T.msg_status=l.int32();break;default:l.skipType(7&Y)}}return T},pe),y.PushMsgRevoke=(K.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushMsgRevoke;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.recv_msg_info=g.proto_zim.StRecvMsgInfo.decode(l,l.uint32());break;case 2:T.msg_status=l.int32();break;case 3:T.statemsg_seq=l.int64();break;case 4:T.conv_type=l.int32();break;default:l.skipType(7&Y)}}return T},K),y.HttpRequest=(ce.decode=function(l,O){l instanceof c||(l=c.create(l));let Q,T,Y=O===void 0?l.len:l.pos+O,Ue=new g.proto_zim.HttpRequest;for(;l.pos<Y;){var ft=l.uint32();switch(ft>>>3){case 1:Ue.url=l.string();break;case 2:Ue.method=l.string();break;case 3:Ue.headers||(Ue.headers={});var Gt=l.uint32()+l.pos;for(Q="",T="";l.pos<Gt;){var Mt=l.uint32();switch(Mt>>>3){case 1:Q=l.string();break;case 2:T=l.string();break;default:l.skipType(7&Mt)}}Ue.headers[Q]=T;break;case 4:Ue.forms||(Ue.forms={});var sr=l.uint32()+l.pos;for(Q="",T="";l.pos<sr;){var ir=l.uint32();switch(ir>>>3){case 1:Q=l.string();break;case 2:T=l.string();break;default:l.skipType(7&ir)}}Ue.forms[Q]=T;break;default:l.skipType(7&ft)}}return Ue},ce),y.FileUploadReq=(me.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"md5")&&O.uint32(10).string(l.md5),Object.hasOwnProperty.call(l,"file_type")&&O.uint32(16).int32(l.file_type),Object.hasOwnProperty.call(l,"name")&&O.uint32(26).string(l.name),Object.hasOwnProperty.call(l,"size")&&O.uint32(32).int64(l.size),Object.hasOwnProperty.call(l,"duration")&&O.uint32(40).int64(l.duration),O},me),y.FileUploadRsp=(be.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.FileUploadRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.state=l.uint32();break;case 4:T.upload_req=g.proto_zim.HttpRequest.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},be),y.FileProcessRsp=(Me.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.FileProcessRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.state=l.uint32();break;case 4:T.download_url=l.string();break;default:l.skipType(7&Y)}}return T},Me),y.StGroupMemberData=(Oe.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StGroupMemberData;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.member_data_seq=l.int64();break;case 2:T.user_name=l.string();break;case 3:T.group_nick_name=l.string();break;case 4:T.role=l.int32();break;case 5:T.mute=l.int32();break;case 6:T.not_notify=l.int32();break;case 7:T.not_recv_msg=l.int32();break;case 8:T.user_avatar=l.bytes();break;default:l.skipType(7&Y)}}return T},Oe),y.StGroupMember=(Re.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StGroupMember;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.user_id=l.string();break;case 2:T.user_nid=l.int64();break;case 3:T.member_seq=l.int64();break;case 4:T.member_data=g.proto_zim.StGroupMemberData.decode(l,l.uint32());break;case 5:T.attributes=g.proto_zim.StGroupAttributes.decode(l,l.uint32());break;case 6:T.group_list_seq=l.int64();break;default:l.skipType(7&Y)}}return T},Re),y.GroupCreateReq=(Te.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"group_id")&&O.uint32(10).string(l.group_id),Object.hasOwnProperty.call(l,"group_name")&&O.uint32(18).string(l.group_name),Object.hasOwnProperty.call(l,"group_notice")&&O.uint32(26).string(l.group_notice),l.user_ids&&l.user_ids.length)for(let Q=0;Q<l.user_ids.length;++Q)O.uint32(34).string(l.user_ids[Q]);if(l.attributes&&l.attributes.length)for(let Q=0;Q<l.attributes.length;++Q)g.proto_zim.StGroupAttribute.encode(l.attributes[Q],O.uint32(42).fork()).ldelim();return Object.hasOwnProperty.call(l,"group_avatar")&&O.uint32(50).bytes(l.group_avatar),O},Te),y.GroupCreateRsp=(qe.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupCreateRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.group_id=l.string();break;case 4:T.members.push(g.proto_zim.StGroupMember.decode(l,l.uint32()));break;case 5:T.member_all_seq=l.int64();break;case 6:T.error_users.push(g.proto_zim.ErrorUser.decode(l,l.uint32()));break;case 7:T.group_list_seq=l.int64();break;case 8:T.group_data_seq=l.int64();break;case 9:T.group_attribute_seq=l.int64();break;case 10:T.member_count=l.uint32();break;default:l.skipType(7&Y)}}return T},qe),y.StGroupAttribute=($e.prototype.value="",$e.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"key")&&O.uint32(10).string(l.key),Object.hasOwnProperty.call(l,"value")&&O.uint32(18).string(l.value),Object.hasOwnProperty.call(l,"seq")&&O.uint32(24).int64(l.seq),O},$e.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StGroupAttribute;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.key=l.string();break;case 2:T.value=l.string();break;case 3:T.seq=l.int64();break;default:l.skipType(7&Y)}}return T},$e),y.StModifyGroupAttribute=(Pe.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"action")&&O.uint32(8).int32(l.action),l.attributes&&l.attributes.length)for(let Q=0;Q<l.attributes.length;++Q)g.proto_zim.StGroupAttribute.encode(l.attributes[Q],O.uint32(18).fork()).ldelim();return O},Pe.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StModifyGroupAttribute;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.action=l.int32();break;case 2:T.attributes.push(g.proto_zim.StGroupAttribute.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},Pe),y.StGroupAttributes=(je.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"seq")&&O.uint32(8).int64(l.seq),l.attributes&&l.attributes.length)for(let Q=0;Q<l.attributes.length;++Q)g.proto_zim.StGroupAttribute.encode(l.attributes[Q],O.uint32(18).fork()).ldelim();return O},je.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StGroupAttributes;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.seq=l.int64();break;case 2:T.attributes.push(g.proto_zim.StGroupAttribute.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},je),y.GroupDataRsp=(We.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"code")&&O.uint32(8).uint32(l.code),Object.hasOwnProperty.call(l,"message")&&O.uint32(18).string(l.message),Object.hasOwnProperty.call(l,"group_name")&&O.uint32(26).string(l.group_name),Object.hasOwnProperty.call(l,"group_notice")&&O.uint32(34).string(l.group_notice),Object.hasOwnProperty.call(l,"group_data_seq")&&O.uint32(40).int64(l.group_data_seq),Object.hasOwnProperty.call(l,"group_avatar")&&O.uint32(50).bytes(l.group_avatar),O},We.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupDataRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.group_name=l.string();break;case 4:T.group_notice=l.string();break;case 5:T.group_data_seq=l.int64();break;case 6:T.group_avatar=l.bytes();break;default:l.skipType(7&Y)}}return T},We),y.GroupModifyAttributeReq=(Xe.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"group_id")&&O.uint32(10).string(l.group_id),Object.hasOwnProperty.call(l,"attributes")&&g.proto_zim.StModifyGroupAttribute.encode(l.attributes,O.uint32(18).fork()).ldelim(),O},Xe),y.GroupModifyAttributeRsp=(Ye.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupModifyAttributeRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.attributes=g.proto_zim.StGroupAttributes.decode(l,l.uint32());break;case 4:T.fail_keys.push(g.proto_zim.StGroupAttribute.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},Ye),y.GroupGetAttributesReq=(Qe.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"group_id")&&O.uint32(10).string(l.group_id),Object.hasOwnProperty.call(l,"attributes")&&g.proto_zim.StGroupAttributes.encode(l.attributes,O.uint32(18).fork()).ldelim(),O},Qe),y.GroupEnterRsp=(He.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupEnterRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.group_name=l.string();break;case 4:T.properties=g.proto_zim.StGroupAttributes.decode(l,l.uint32());break;case 5:T.member=g.proto_zim.StGroupMember.decode(l,l.uint32());break;case 6:T.member_all_seq=l.int64();break;case 7:T.group_list_seq=l.int64();break;case 8:T.group_data_seq=l.int64();break;case 9:T.group_attribute_seq=l.int64();break;case 10:T.conv_msg_seq=l.int64();break;case 11:T.member_count=l.uint32();break;case 12:T.group_avatar=l.bytes();break;default:l.skipType(7&Y)}}return T},He),y.GroupInviteReq=(Je.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"group_id")&&O.uint32(10).string(l.group_id),l.user_ids&&l.user_ids.length)for(let Q=0;Q<l.user_ids.length;++Q)O.uint32(18).string(l.user_ids[Q]);return O},Je),y.GroupInviteRsp=(pt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupInviteRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.member_all_seq=l.int64();break;case 4:T.members.push(g.proto_zim.StGroupMember.decode(l,l.uint32()));break;case 5:T.error_users.push(g.proto_zim.ErrorUser.decode(l,l.uint32()));break;case 6:T.group_data_seq=l.int64();break;case 7:T.group_attribute_seq=l.int64();break;case 8:T.member_count=l.uint32();break;default:l.skipType(7&Y)}}return T},pt),y.GroupKickOutRsp=(ht.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupKickOutRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.member_all_seq=l.int64();break;case 4:T.error_users.push(g.proto_zim.ErrorUser.decode(l,l.uint32()));break;case 5:T.member_count=l.uint32();break;default:l.skipType(7&Y)}}return T},ht),y.GroupGetMembersReq=(ut.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"group_id")&&O.uint32(10).string(l.group_id),Object.hasOwnProperty.call(l,"cur_member_seq")&&O.uint32(16).int64(l.cur_member_seq),Object.hasOwnProperty.call(l,"count")&&O.uint32(24).uint32(l.count),Object.hasOwnProperty.call(l,"full_pull")&&O.uint32(32).int32(l.full_pull),Object.hasOwnProperty.call(l,"degree")&&O.uint32(40).uint32(l.degree),O},ut),y.StGroupMemberChangeEvent=(bt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StGroupMemberChangeEvent;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.group_id=l.string();break;case 2:T.member=g.proto_zim.StGroupMember.decode(l,l.uint32());break;case 3:T.event_type=l.int32();break;default:l.skipType(7&Y)}}return T},bt),y.GroupGetMembersRsp=(ct.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupGetMembersRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.member_all_seq=l.int64();break;case 4:T.change_list.push(g.proto_zim.StGroupMemberChangeEvent.decode(l,l.uint32()));break;case 5:T.full_list=l.int32();break;case 6:T.cur_member_seq=l.int64();break;case 7:T.fetch_end=l.int32();break;case 8:T.member_count=l.uint32();break;default:l.skipType(7&Y)}}return T},ct),y.GetGroupMembersByMemberSeqRsp=(Ve.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GetGroupMembersByMemberSeqRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.members.push(g.proto_zim.StGroupMember.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},Ve),y.GroupMemberDataReq=(Ze.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"group_id")&&O.uint32(10).string(l.group_id),Object.hasOwnProperty.call(l,"user_id")&&O.uint32(18).string(l.user_id),l.attributes&&l.attributes.length)for(let Q=0;Q<l.attributes.length;++Q)g.proto_zim.StGroupAttribute.encode(l.attributes[Q],O.uint32(26).fork()).ldelim();return O},Ze),y.GroupMemberDataRsp=(lt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupMemberDataRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.member=g.proto_zim.StGroupMember.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},lt),y.GroupSetMemberRoleReq=(mt.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"group_id")&&O.uint32(10).string(l.group_id),Object.hasOwnProperty.call(l,"user_id")&&O.uint32(18).string(l.user_id),Object.hasOwnProperty.call(l,"role")&&O.uint32(24).int32(l.role),O},mt),y.GroupUpdate=(gt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupUpdate;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.type=l.int32();break;case 2:T.info=g.proto_zim.GroupInfo.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},gt),y.GroupInfo=(yt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.group_id=l.string();break;case 2:T.group_name=l.string();break;case 3:T.group_list_seq=l.int64();break;case 4:T.group_data_seq=l.int64();break;case 5:T.all_member_seq=l.int64();break;case 6:T.attribute_seq=l.int64();break;case 7:T.not_notify=l.bool();break;case 8:T.member_count=l.uint32();break;case 9:T.group_avatar=l.bytes();break;default:l.skipType(7&Y)}}return T},yt),y.GroupListRsp=(St.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupListRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.cur_list_seq=l.int64();break;case 4:T.max_list_seq=l.int64();break;case 5:T.groups.push(g.proto_zim.GroupUpdate.decode(l,l.uint32()));break;case 6:T.full_list=l.int32();break;case 7:T.fetch_end=l.int32();break;default:l.skipType(7&Y)}}return T},St),y.GroupMuteReq=(wt.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"group_id")&&O.uint32(10).string(l.group_id),Object.hasOwnProperty.call(l,"enable")&&O.uint32(16).bool(l.enable),O},wt),y.GroupOperator=(kt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupOperator;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.user_id=l.string();break;case 2:T.user_name=l.bytes();break;case 3:T.group_nick_name=l.string();break;case 4:T.role=l.int32();break;default:l.skipType(7&Y)}}return T},kt),y.PushCreateGroup=(It.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushCreateGroup;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.group_id=l.string();break;case 2:T.group_name=l.string();break;case 3:T.members.push(g.proto_zim.StGroupMember.decode(l,l.uint32()));break;case 4:T.member_all_seq=l.int64();break;case 5:T.attributes=g.proto_zim.StGroupAttributes.decode(l,l.uint32());break;case 6:T.op_user=g.proto_zim.GroupOperator.decode(l,l.uint32());break;case 7:T.member_count=l.uint32();break;case 8:T.group_avatar=l.bytes();break;default:l.skipType(7&Y)}}return T},It),y.PushModifyGroupAttribute=(xt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushModifyGroupAttribute;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.group_id=l.string();break;case 2:T.attributes=g.proto_zim.StGroupAttributes.decode(l,l.uint32());break;case 3:T.op_user=g.proto_zim.GroupOperator.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},xt),y.PushGroupMemberChange=(Et.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushGroupMemberChange;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.group_id=l.string();break;case 2:T.member_all_seq=l.int64();break;case 3:T.members.push(g.proto_zim.StGroupMember.decode(l,l.uint32()));break;case 4:T.change_type=l.int32();break;case 5:T.op_user=g.proto_zim.GroupOperator.decode(l,l.uint32());break;case 6:T.new_owner_id=l.string();break;case 7:T.member_count=l.uint32();break;default:l.skipType(7&Y)}}return T},Et),y.PushModifyGroupData=(dt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushModifyGroupData;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.group_id=l.string();break;case 2:T.op_user=g.proto_zim.GroupOperator.decode(l,l.uint32());break;case 3:T.group_data_seq=l.int64();break;case 4:T.group_notice=l.string();break;case 5:T.group_name=l.string();break;case 7:T.group_avatar=l.bytes();break;case 6:T.modify_type=l.int32();break;default:l.skipType(7&Y)}}return T},dt),y.PushGroupOwnerTransfer=(Dt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushGroupOwnerTransfer;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.group_id=l.string();break;case 2:T.user_id=l.string();break;case 3:T.op_user=g.proto_zim.GroupOperator.decode(l,l.uint32());break;case 4:T.member_all_seq=l.int64();break;default:l.skipType(7&Y)}}return T},Dt),y.PushGroupInvite=(Rt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushGroupInvite;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.group_id=l.string();break;case 2:T.group_name=l.string();break;case 3:T.group_notice=l.string();break;case 4:T.op_user=g.proto_zim.GroupOperator.decode(l,l.uint32());break;case 5:T.conv_msg_seq=l.int64();break;case 6:T.member_count=l.uint32();break;case 7:T.group_avatar=l.bytes();break;default:l.skipType(7&Y)}}return T},Rt),y.C2CMsgReq=(At.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"peer_user_id")&&O.uint32(10).string(l.peer_user_id),Object.hasOwnProperty.call(l,"msg_info")&&g.proto_zim.StConvMsgInfo.encode(l.msg_info,O.uint32(18).fork()).ldelim(),Object.hasOwnProperty.call(l,"fetch_peer_user_info")&&O.uint32(24).int32(l.fetch_peer_user_info),O},At),y.C2CMsgRsp=(Ot.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.C2CMsgRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.msg_svr_info=g.proto_zim.StMsgSvrInfo.decode(l,l.uint32());break;case 4:T.peer_user_name=l.bytes();break;case 5:T.send_count_after_read=l.int64();break;case 6:T.conv_disable=l.bool();break;case 7:T.peer_user_avatar=l.bytes();break;case 8:T.msg_status=l.int32();break;default:l.skipType(7&Y)}}return T},Ot),y.C2CCommandReq=(rt.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"peer_user_id")&&O.uint32(10).string(l.peer_user_id),Object.hasOwnProperty.call(l,"command_msg_info")&&g.proto_zim.StCommandMsgInfo.encode(l.command_msg_info,O.uint32(18).fork()).ldelim(),O},rt),y.C2CCommandReqRsp=(vt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.C2CCommandReqRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.command_svr_info=g.proto_zim.StCommandSvrInfo.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},vt),y.RoomMsgReq=(Tt.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_session_id")&&O.uint32(16).int64(l.room_session_id),Object.hasOwnProperty.call(l,"room_user_session_id")&&O.uint32(24).int64(l.room_user_session_id),Object.hasOwnProperty.call(l,"msg_info")&&g.proto_zim.StConvMsgInfo.encode(l.msg_info,O.uint32(34).fork()).ldelim(),Object.hasOwnProperty.call(l,"sub_room_id")&&O.uint32(402).string(l.sub_room_id),O},Tt),y.RoomMsgRsp=(P.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.RoomMsgRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.msg_id=l.int64();break;case 4:T.msg_svr_info=g.proto_zim.StMsgSvrInfo.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},P),y.RoomMsglistReq=(ne.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_session_id")&&O.uint32(16).int64(l.room_session_id),Object.hasOwnProperty.call(l,"room_user_session_id")&&O.uint32(24).int64(l.room_user_session_id),Object.hasOwnProperty.call(l,"conv_msg_seq")&&O.uint32(32).int64(l.conv_msg_seq),Object.hasOwnProperty.call(l,"count")&&O.uint32(40).int32(l.count),Object.hasOwnProperty.call(l,"sort_type")&&O.uint32(48).int32(l.sort_type),Object.hasOwnProperty.call(l,"how")&&O.uint32(64).int32(l.how),Object.hasOwnProperty.call(l,"degree")&&O.uint32(72).uint32(l.degree),Object.hasOwnProperty.call(l,"sub_room_id")&&O.uint32(402).string(l.sub_room_id),O},ne),y.RoomMsglistRsp=(le.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.RoomMsglistRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.next_conv_msg_seq=l.int64();break;case 4:T.max_conv_msg_seq=l.int64();break;case 6:T.msgs.push(g.proto_zim.FetchMsgInfo.decode(l,l.uint32()));break;case 7:T.fetch_end=l.int32();break;default:l.skipType(7&Y)}}return T},le),y.StMsgInfo=(ve.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"msg_type")&&O.uint32(8).int32(l.msg_type),Object.hasOwnProperty.call(l,"msg")&&O.uint32(18).bytes(l.msg),Object.hasOwnProperty.call(l,"priority_type")&&O.uint32(24).int32(l.priority_type),Object.hasOwnProperty.call(l,"msg_id")&&O.uint32(32).int64(l.msg_id),Object.hasOwnProperty.call(l,"sender_user_id")&&O.uint32(42).string(l.sender_user_id),Object.hasOwnProperty.call(l,"msg_time")&&O.uint32(48).int64(l.msg_time),Object.hasOwnProperty.call(l,"payload")&&O.uint32(58).bytes(l.payload),O},ve.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StMsgInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.msg_type=l.int32();break;case 2:T.msg=l.bytes();break;case 3:T.priority_type=l.int32();break;case 4:T.msg_id=l.int64();break;case 5:T.sender_user_id=l.string();break;case 6:T.msg_time=l.int64();break;case 7:T.payload=l.bytes();break;default:l.skipType(7&Y)}}return T},ve),y.RoomCommandMsgReq=(V.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_session_id")&&O.uint32(16).int64(l.room_session_id),Object.hasOwnProperty.call(l,"room_user_session_id")&&O.uint32(24).int64(l.room_user_session_id),Object.hasOwnProperty.call(l,"msg_info")&&g.proto_zim.StMsgInfo.encode(l.msg_info,O.uint32(34).fork()).ldelim(),Object.hasOwnProperty.call(l,"sub_room_id")&&O.uint32(402).string(l.sub_room_id),O},V),y.GroupMsgRsp=(xe.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GroupMsgRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.msg_svr_info=g.proto_zim.StMsgSvrInfo.decode(l,l.uint32());break;case 4:T.send_count_after_read=l.int64();break;case 5:T.msg_status=l.int32();break;case 6:T.receipt_seq=l.int64();break;case 7:T.unread_count=l.sint32();break;default:l.skipType(7&Y)}}return T},xe),y.FetchGroupMsgList=(ye.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"group_id")&&O.uint32(10).string(l.group_id),Object.hasOwnProperty.call(l,"conv_msg_seq")&&O.uint32(16).int64(l.conv_msg_seq),Object.hasOwnProperty.call(l,"count")&&O.uint32(24).int32(l.count),Object.hasOwnProperty.call(l,"sort_type")&&O.uint32(32).int32(l.sort_type),Object.hasOwnProperty.call(l,"max_conv_msg_seq")&&O.uint32(40).int64(l.max_conv_msg_seq),Object.hasOwnProperty.call(l,"how")&&O.uint32(48).int32(l.how),Object.hasOwnProperty.call(l,"degree")&&O.uint32(56).uint32(l.degree),O},ye),y.FetchGroupMsgListRsp=(Ae.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.FetchGroupMsgListRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.max_conv_msg_seq=l.int64();break;case 4:T.next_conv_msg_seq=l.int64();break;case 5:T.msgs.push(g.proto_zim.FetchMsgInfo.decode(l,l.uint32()));break;case 6:T.fetch_end=l.int64();break;default:l.skipType(7&Y)}}return T},Ae),y.GetMsgStateListReq=(Le.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"conv_id")&&O.uint32(10).string(l.conv_id),Object.hasOwnProperty.call(l,"state_seq")&&O.uint32(16).int64(l.state_seq),Object.hasOwnProperty.call(l,"count")&&O.uint32(24).sint32(l.count),Object.hasOwnProperty.call(l,"degree")&&O.uint32(32).uint32(l.degree),Object.hasOwnProperty.call(l,"max_msg_seq")&&O.uint32(40).int64(l.max_msg_seq),Object.hasOwnProperty.call(l,"min_msg_seq")&&O.uint32(48).int64(l.min_msg_seq),O},Le),y.GetMsgStateListRsp=(Be.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GetMsgStateListRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.state_list.push(g.proto_zim.StMsgStateContent.decode(l,l.uint32()));break;case 4:T.next_state_seq=l.int64();break;case 5:T.fetch_end=l.int32();break;default:l.skipType(7&Y)}}return T},Be),y.StMsgStateContent=(Ne.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StMsgStateContent;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.conv_msg_seq=l.int64();break;case 3:T.state=l.int32();break;case 4:T.state_seq=l.int64();break;case 5:T.conv_id=l.string();break;case 6:T.conv_type=l.int32();break;default:l.skipType(7&Y)}}return T},Ne),y.PushC2CCommand=(Fe.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushC2CCommand;for(;l.pos<Q;){var Y=l.uint32();Y>>>3==1?T.recv_command_info=g.proto_zim.StRecvCommandInfo.decode(l,l.uint32()):l.skipType(7&Y)}return T},Fe),y.PushRoomMsg=(ze.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushRoomMsg;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.room_id=l.string();break;case 2:T.room_session_id=l.int64();break;case 3:T.recv_msg_info=g.proto_zim.StRecvMsgInfo.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},ze),y.PushRoomCommand=(et.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushRoomCommand;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.room_id=l.string();break;case 2:T.room_session_id=l.int64();break;case 3:T.msg_info=g.proto_zim.StMsgInfo.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},et),y.PushGroupCommand=(nt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushGroupCommand;for(;l.pos<Q;){var Y=l.uint32();Y>>>3==2?T.recv_command_info=g.proto_zim.StRecvCommandInfo.decode(l,l.uint32()):l.skipType(7&Y)}return T},nt),y.PushGroupMsg=(Bt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushGroupMsg;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.recv_msg_info=g.proto_zim.StRecvMsgInfo.decode(l,l.uint32());break;case 2:T.msg_status=l.int32();break;default:l.skipType(7&Y)}}return T},Bt),y.RoomCreateReq=(Pt.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_name")&&O.uint32(18).bytes(l.room_name),l.attributes&&l.attributes.length)for(let Q=0;Q<l.attributes.length;++Q)g.proto_zim.StRoomAttribute.encode(l.attributes[Q],O.uint32(26).fork()).ldelim();return Object.hasOwnProperty.call(l,"destroy_delay")&&O.uint32(32).uint32(l.destroy_delay),O},Pt),y.RoomCreateRsp=(Nt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.RoomCreateRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.room_session_id=l.int64();break;case 4:T.room_user_session_id=l.int64();break;case 5:T.room_info_interval=l.uint32();break;case 6:T.userlist_enable=l.uint32();break;case 7:T.userlist_merge_timeout=l.uint32();break;case 8:T.userlist_interval=l.uint32();break;case 9:T.attributes=g.proto_zim.StRoomAttributes.decode(l,l.uint32());break;case 10:T.attributes_pull_interval=l.uint32();break;case 11:T.attributes_merge_timeout=l.uint32();break;case 13:T.conv_msg_seq=l.int64();break;case 14:T.enabled_offline_msg=l.uint32();break;case 15:T.msg_merge_timeout=l.uint32();break;case 16:T.msg_pull_interval=l.uint32();break;case 17:T.destroy_delay=l.uint32();break;case 18:T.sub_room_id=l.string();break;default:l.skipType(7&Y)}}return T},Nt),y.RoomEnterReq=(Ct.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_user_session_id")&&O.uint32(16).int64(l.room_user_session_id),Object.hasOwnProperty.call(l,"room_name")&&O.uint32(26).bytes(l.room_name),l.attributes&&l.attributes.length)for(let Q=0;Q<l.attributes.length;++Q)g.proto_zim.StRoomAttribute.encode(l.attributes[Q],O.uint32(34).fork()).ldelim();return Object.hasOwnProperty.call(l,"destroy_delay")&&O.uint32(40).uint32(l.destroy_delay),Object.hasOwnProperty.call(l,"create_if_not_exist")&&O.uint32(48).bool(l.create_if_not_exist),O},Ct),y.RoomEnterRsp=(ot.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.RoomEnterRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.room_name=l.bytes();break;case 4:T.room_session_id=l.int64();break;case 5:T.room_user_session_id=l.int64();break;case 6:T.userlist_seq=l.uint32();break;case 7:T.user_count=l.uint32();break;case 8:T.room_info_interval=l.uint32();break;case 9:T.userlist_enable=l.uint32();break;case 10:T.userlist_merge_timeout=l.uint32();break;case 11:T.userlist_interval=l.uint32();break;case 12:T.attribute_seq=l.uint32();break;case 13:T.attributes_pull_interval=l.uint32();break;case 14:T.attributes_merge_timeout=l.uint32();break;case 15:T.sub_room_id=l.string();break;case 17:T.conv_msg_seq=l.int64();break;case 18:T.enabled_offline_msg=l.uint32();break;case 19:T.msg_merge_timeout=l.uint32();break;case 20:T.msg_pull_interval=l.uint32();break;case 21:T.destroy_delay=l.uint32();break;case 22:T.attributes=g.proto_zim.StRoomAttributes.decode(l,l.uint32());break;default:l.skipType(7&Y)}}return T},ot),y.RoomQuitReq=(it.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_session_id")&&O.uint32(16).int64(l.room_session_id),Object.hasOwnProperty.call(l,"room_user_session_id")&&O.uint32(24).int64(l.room_user_session_id),Object.hasOwnProperty.call(l,"sub_room_id")&&O.uint32(402).string(l.sub_room_id),O},it),y.RoomUserlistReq=(Ke.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_session_id")&&O.uint32(16).int64(l.room_session_id),Object.hasOwnProperty.call(l,"pos_flag")&&O.uint32(26).string(l.pos_flag),Object.hasOwnProperty.call(l,"count")&&O.uint32(32).int32(l.count),Object.hasOwnProperty.call(l,"mode")&&O.uint32(40).int32(l.mode),Object.hasOwnProperty.call(l,"expect_seq")&&O.uint32(48).uint32(l.expect_seq),Object.hasOwnProperty.call(l,"sub_room_id")&&O.uint32(402).string(l.sub_room_id),O},Ke),y.RoomUserlistRsp=(st.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.RoomUserlistRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.pos_flag=l.string();break;case 4:T.userlist_seq=l.uint32();break;case 5:T.user_count=l.uint32();break;case 6:T.users.push(g.proto_zim.StUserInfo.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},st),y.StUserInfo=(Ge.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"user_id")&&O.uint32(10).string(l.user_id),Object.hasOwnProperty.call(l,"user_name")&&O.uint32(18).bytes(l.user_name),Object.hasOwnProperty.call(l,"online_state")&&O.uint32(24).int32(l.online_state),Object.hasOwnProperty.call(l,"extra")&&O.uint32(34).bytes(l.extra),Object.hasOwnProperty.call(l,"avatar")&&O.uint32(42).bytes(l.avatar),O},Ge.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StUserInfo;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.user_id=l.string();break;case 2:T.user_name=l.bytes();break;case 3:T.online_state=l.int32();break;case 4:T.extra=l.bytes();break;case 5:T.avatar=l.bytes();break;default:l.skipType(7&Y)}}return T},Ge),y.ErrorUser=(at.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"user_id")&&O.uint32(10).string(l.user_id),Object.hasOwnProperty.call(l,"sub_code")&&O.uint32(16).uint32(l.sub_code),Object.hasOwnProperty.call(l,"extended_data")&&O.uint32(26).bytes(l.extended_data),O},at.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.ErrorUser;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.user_id=l.string();break;case 2:T.sub_code=l.uint32();break;case 3:T.extended_data=l.bytes();break;default:l.skipType(7&Y)}}return T},at),y.RoomInfoRsp=(_t.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.RoomInfoRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.userlist_seq=l.uint32();break;case 4:T.user_count=l.uint32();break;case 5:T.room_info_interval=l.uint32();break;case 6:T.attribute_seq=l.uint32();break;case 7:T.max_conv_msg_seq=l.int64();break;case 9:T.ulist_to=l.uint32();break;case 10:T.ulist_itvl=l.uint32();break;default:l.skipType(7&Y)}}return T},_t),y.StRoomAttribute=(qt.prototype.value="",qt.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"key")&&O.uint32(10).string(l.key),Object.hasOwnProperty.call(l,"value")&&O.uint32(18).string(l.value),Object.hasOwnProperty.call(l,"seq")&&O.uint32(24).uint32(l.seq),Object.hasOwnProperty.call(l,"auto_delete")&&O.uint32(32).int32(l.auto_delete),O},qt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StRoomAttribute;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.key=l.string();break;case 2:T.value=l.string();break;case 3:T.seq=l.uint32();break;case 4:T.auto_delete=l.int32();break;default:l.skipType(7&Y)}}return T},qt),y.StModifyRoomAttribute=(Ut.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"action")&&O.uint32(8).int32(l.action),Object.hasOwnProperty.call(l,"attribute")&&g.proto_zim.StRoomAttribute.encode(l.attribute,O.uint32(18).fork()).ldelim(),O},Ut),y.StRoomAttributes=(Lt.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"attribute_seq")&&O.uint32(8).uint32(l.attribute_seq),l.attributes&&l.attributes.length)for(let Q=0;Q<l.attributes.length;++Q)g.proto_zim.StRoomAttribute.encode(l.attributes[Q],O.uint32(18).fork()).ldelim();return O},Lt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StRoomAttributes;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.attribute_seq=l.uint32();break;case 2:T.attributes.push(g.proto_zim.StRoomAttribute.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},Lt),y.ModifyRoomAttributesReq=(Ft.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_session_id")&&O.uint32(16).int64(l.room_session_id),Object.hasOwnProperty.call(l,"force_modify")&&O.uint32(24).int32(l.force_modify),Object.hasOwnProperty.call(l,"set_member")&&O.uint32(32).int32(l.set_member),Object.hasOwnProperty.call(l,"attribute_seq")&&O.uint32(40).uint32(l.attribute_seq),Object.hasOwnProperty.call(l,"op_fail_fast")&&O.uint32(48).uint32(l.op_fail_fast),l.attributes&&l.attributes.length)for(let Q=0;Q<l.attributes.length;++Q)g.proto_zim.StModifyRoomAttribute.encode(l.attributes[Q],O.uint32(58).fork()).ldelim();return Object.hasOwnProperty.call(l,"sub_room_id")&&O.uint32(402).string(l.sub_room_id),O},Ft),y.ErrList=($t.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"code")&&O.uint32(8).uint32(l.code),Object.hasOwnProperty.call(l,"key")&&O.uint32(18).string(l.key),Object.hasOwnProperty.call(l,"seq")&&O.uint32(24).uint32(l.seq),O},$t.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.ErrList;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.key=l.string();break;case 3:T.seq=l.uint32();break;default:l.skipType(7&Y)}}return T},$t),y.ModifyRoomAttributesRsp=(Vt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.ModifyRoomAttributesRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.attributes=g.proto_zim.StRoomAttributes.decode(l,l.uint32());break;case 4:T.err_list.push(g.proto_zim.ErrList.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},Vt),y.GetRoomAttributesReq=(Ht.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_session_id")&&O.uint32(16).int64(l.room_session_id),Object.hasOwnProperty.call(l,"attributes")&&g.proto_zim.StRoomAttributes.encode(l.attributes,O.uint32(26).fork()).ldelim(),Object.hasOwnProperty.call(l,"sub_room_id")&&O.uint32(402).string(l.sub_room_id),O},Ht),y.ModifyRoomUserAttributesReq=(Kt.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_session_id")&&O.uint32(16).int64(l.room_session_id),Object.hasOwnProperty.call(l,"room_user_session_id")&&O.uint32(24).int64(l.room_user_session_id),Object.hasOwnProperty.call(l,"force_modify")&&O.uint32(32).int32(l.force_modify),Object.hasOwnProperty.call(l,"op_fail_fast")&&O.uint32(40).uint32(l.op_fail_fast),Object.hasOwnProperty.call(l,"attributes")&&g.proto_zim.StModifyRoomUserAttributes.encode(l.attributes,O.uint32(50).fork()).ldelim(),Object.hasOwnProperty.call(l,"auto_save")&&O.uint32(56).int32(l.auto_save),Object.hasOwnProperty.call(l,"sub_room_id")&&O.uint32(402).string(l.sub_room_id),O},Kt),y.ModifyRoomUserAttributesRsp=(Wt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.ModifyRoomUserAttributesRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.user_attributes.push(g.proto_zim.StModifyRoomUserAttributeRsp.decode(l,l.uint32()));break;case 4:T.user_err_list.push(g.proto_zim.ErrorUser.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},Wt),y.StModifyRoomUserAttributes=(Zt.encode=function(l,O){if(O=O||v.create(),l.user_ids&&l.user_ids.length)for(let Q=0;Q<l.user_ids.length;++Q)O.uint32(10).string(l.user_ids[Q]);if(l.modify_attribute&&l.modify_attribute.length)for(let Q=0;Q<l.modify_attribute.length;++Q)g.proto_zim.StModifyRoomAttribute.encode(l.modify_attribute[Q],O.uint32(18).fork()).ldelim();return O},Zt),y.StModifyRoomUserAttributeRsp=(jt.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"user_id")&&O.uint32(10).string(l.user_id),Object.hasOwnProperty.call(l,"user_attributes_seq")&&O.uint32(16).uint32(l.user_attributes_seq),l.attributes&&l.attributes.length)for(let Q=0;Q<l.attributes.length;++Q)g.proto_zim.StRoomAttribute.encode(l.attributes[Q],O.uint32(26).fork()).ldelim();if(l.err_list&&l.err_list.length)for(let Q=0;Q<l.err_list.length;++Q)g.proto_zim.ErrList.encode(l.err_list[Q],O.uint32(34).fork()).ldelim();return O},jt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.StModifyRoomUserAttributeRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.user_id=l.string();break;case 2:T.user_attributes_seq=l.uint32();break;case 3:T.attributes.push(g.proto_zim.StRoomAttribute.decode(l,l.uint32()));break;case 4:T.err_list.push(g.proto_zim.ErrList.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},jt),y.GetRoomUserAttributesReq=(Yt.encode=function(l,O){if(O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_session_id")&&O.uint32(16).int64(l.room_session_id),Object.hasOwnProperty.call(l,"room_user_session_id")&&O.uint32(24).int64(l.room_user_session_id),l.req_attributes.length)for(let Q=0;Q<l.req_attributes.length;++Q)g.proto_zim.StModifyRoomUserAttributeRsp.encode(l.req_attributes[Q],O.uint32(34).fork()).ldelim();return Object.hasOwnProperty.call(l,"sub_room_id")&&O.uint32(402).string(l.sub_room_id),O},Yt),y.GetRoomUserAttributeListReq=(Qt.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"room_id")&&O.uint32(10).string(l.room_id),Object.hasOwnProperty.call(l,"room_session_id")&&O.uint32(16).int64(l.room_session_id),Object.hasOwnProperty.call(l,"room_user_session_id")&&O.uint32(24).int64(l.room_user_session_id),Object.hasOwnProperty.call(l,"pos_flag")&&O.uint32(34).string(l.pos_flag),Object.hasOwnProperty.call(l,"count")&&O.uint32(40).int32(l.count),Object.hasOwnProperty.call(l,"sub_room_id")&&O.uint32(402).string(l.sub_room_id),O},Qt),y.GetRoomUserAttributeListRsp=(Jt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.GetRoomUserAttributeListRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.pos_flag=l.string();break;case 4:T.user_attributes_list_seq=l.uint32();break;case 5:T.user_count=l.uint32();break;case 6:T.user_attributes.push(g.proto_zim.StModifyRoomUserAttributeRsp.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},Jt),y.PushRoomEnter=(Xt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushRoomEnter;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.room_id=l.string();break;case 2:T.room_session_id=l.int64();break;case 3:T.user_id=l.string();break;case 4:T.user_name=l.bytes();break;case 5:T.enter_time=l.int64();break;case 6:T.userlist_seq=l.uint32();break;case 7:T.user_count=l.uint32();break;case 8:T.sub_room_id=l.string();break;default:l.skipType(7&Y)}}return T},Xt),y.PushRoomKickout=(er.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushRoomKickout;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.room_id=l.string();break;case 2:T.reason=l.uint32();break;case 3:T.message=l.string();break;case 4:T.sub_room_id=l.string();break;default:l.skipType(7&Y)}}return T},er),y.PushRoomAttributesModify=(tr.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushRoomAttributesModify;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.attributes.push(g.proto_zim.StRoomAttribute.decode(l,l.uint32()));break;case 2:T.room_id=l.string();break;case 3:T.room_session_id=l.int64();break;case 4:T.user_id=l.string();break;case 5:T.attributes_seq=l.uint32();break;case 6:T.sub_room_id=l.string();break;case 7:T.old_attributes_seq=l.uint32();break;default:l.skipType(7&Y)}}return T},tr),y.PushRoomUserAttributesModify=(rr.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.PushRoomUserAttributesModify;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.push_attributes.push(g.proto_zim.StModifyRoomUserAttributeRsp.decode(l,l.uint32()));break;case 2:T.room_id=l.string();break;case 3:T.room_session_id=l.int64();break;case 4:T.user_id=l.string();break;case 6:T.sub_room_id=l.string();break;default:l.skipType(7&Y)}}return T},rr),y.UserInfo=(zt.encode=function(l,O){if(O=O||v.create(),l.quey_user_id&&l.quey_user_id.length)for(let Q=0;Q<l.quey_user_id.length;++Q)O.uint32(10).string(l.quey_user_id[Q]);return O},zt.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.UserInfo;for(;l.pos<Q;){var Y=l.uint32();Y>>>3==1?T.quey_user_id.push(l.string()):l.skipType(7&Y)}return T},zt),y.UserInfoRsp=(nr.decode=function(l,O){l instanceof c||(l=c.create(l));let Q=O===void 0?l.len:l.pos+O,T=new g.proto_zim.UserInfoRsp;for(;l.pos<Q;){var Y=l.uint32();switch(Y>>>3){case 1:T.code=l.uint32();break;case 2:T.message=l.string();break;case 3:T.result.push(g.proto_zim.StUserInfo.decode(l,l.uint32()));break;case 4:T.err_list.push(g.proto_zim.ErrorUser.decode(l,l.uint32()));break;default:l.skipType(7&Y)}}return T},nr),y.ModifyUserInfoReq=(or.encode=function(l,O){return O=O||v.create(),Object.hasOwnProperty.call(l,"user_name")&&O.uint32(10).bytes(l.user_name),Object.hasOwnProperty.call(l,"extra")&&O.uint32(18).bytes(l.extra),Object.hasOwnProperty.call(l,"set_flag")&&O.uint32(24).uint32(l.set_flag),Object.hasOwnProperty.call(l,"user_avatar")&&O.uint32(34).bytes(l.user_avatar),O},or),y})()},function(e,t,r){r.d(t,"a",function(){return m});var d=r(9),u=r(3),c=r(63),v=r(64),g=r(65),y=r(67),o=r(71),n=r(74),s=r(75),i=r(1),a=r(0),m=(t=function(b,C,_,w){var M,S=arguments.length,I=S<3?C:w===null?w=Object.getOwnPropertyDescriptor(C,_):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(b,C,_,w);else for(var x=b.length-1;0<=x;x--)(M=b[x])&&(I=(S<3?M(I):3<S?M(C,_,I):M(C,_))||I);return 3<S&&I&&Object.defineProperty(C,_,I),I},f.prototype.handlePushEvent=function(b,C,_){switch(b){case a.a.im_push_c2c_msg:case a.a.im_push_group_msg:case a.a.im_push_room_msg:this.convMgr.onPushMessage(C,b,_);break;case a.a.im_push_c2c_command:case a.a.im_push_group_command:case a.a.im_push_room_command:this.convMgr.onPushCommand(C,b,_);break;case a.a.im_push_read_receipt:this.convMgr.onPushReadReceipt(C,_);case a.a.im_push_room_enter:this.groupMgr.onPushRoomEnter(C);break;case a.a.im_push_room_quit:this.groupMgr.onPushRoomQuit(C);break;case a.a.im_push_room_kickout:this.groupMgr.onPushRoomKickout(C);break;case a.a.im_push_room_attrs:this.groupMgr.onPushRoomAttributesModify(C);break;case a.a.im_push_room_user_attrs:this.groupMgr.onPushRoomUserAttributesModify(C);break;case a.a.im_push_group_create:this.groupMgr.onPushGroupCreate(C);break;case a.a.im_push_group_invite:this.groupMgr.onPushGroupMemberInvited(C);break;case a.a.im_push_group_member_kickout:case a.a.im_push_group_destroy:this.groupMgr.onPushGroupDestroy(C,b);break;case a.a.im_push_group_modify_data:this.groupMgr.onPushGroupDataModify(C);break;case a.a.im_push_group_modify_attributes:this.groupMgr.onPushGroupAttributesModify(C);break;case a.a.im_push_group_owner_transfer:this.groupMgr.onPushGroupOwnerTransfer(C);break;case a.a.im_push_group_member_change:this.groupMgr.onPushGroupMemberChange(C);break;case a.a.im_push_call_invite:this.callMgr.onPushCallInvited(C);break;case a.a.im_push_call_cancel:this.callMgr.onPushCallCancel(C);break;case a.a.im_push_call_accept:this.callMgr.onPushCallAccept(C);break;case a.a.im_push_call_refuse:this.callMgr.onPushCallReject(C);break;case a.a.sw_push_kickout:this.userMgr.onPushKickout(C);break;case a.a.sw_push_redirect:this.userMgr.onPushRedirect(C.quey_user_id);break;case a.a.im_push_msg_revoke:this.convMgr.onPushMsgRevoke(C,_)}},f.prototype.createNotLoggedError=function(b,C){var _;if(!this.engineConfig.userID||!this.engineConfig.token)return _=Object(i.o)(a.m.NetworkModuleUserIsNotLogged),this.logger.warn([b],C,_),_},f.prototype.setContext=function(b){this.eventBus.setContext(b)},f.prototype.setZPNsContext=function(b){var C=b.pushSDKVersion.length,_=b.pushID.length,w=new Uint8Array(9+C+_);w[0]=175,w[1]=0,w[2]=1,w[3]=1,w[4]=7,w[5]=0,w[6]=C,w[7]=_>>8,w[8]=_-(w[7]<<8),w.set(Object(i.e)(b.pushSDKVersion),9),w.set(Object(i.e)(b.pushID),9+C),_=d.a.fromUint8Array(w),b.base64=_,this.engineConfig&&(this.engineConfig.ZPNsPushID=_),this.userMgr&&this.userMgr.reportZPNs(),this.logger.info([a.B.Manager],"reportZPNs",b)},f.prototype.destroy=function(){this.eventBus&&this.eventBus.off(),this.eventBus=null,this.connMgr.destroy(),this.connMgr=null,this.groupMgr.destroy(),this.groupMgr=null,this.convMgr.destroy(),this.convMgr=null,this.userMgr.destroy(),this.userMgr=null,this.callMgr.destroy(),this.callMgr=null,this.logger=null,this.engineConfig=null},f.prototype.uploadLog=function(){return this.logger.info([a.B.Manager],a.A.UploadLog),this.logger.upload("apicall",!0)},f.prototype.on=function(b,C){this.logger.info([a.B.Manager],"API.on",b+(typeof C=="function"?":1":":0")),this.eventBus.on(b,C)},f.prototype.off=function(b){this.logger.info([a.B.Manager],"API.off",b),this.eventBus.off(b)},f.prototype.login=function(b,C){var _=this.paramValid.login(b);return _?Promise.reject(_):this.userMgr.login(b,C)},f.prototype.logout=function(){this.groupMgr.clearRoomMessage(),this.userMgr.logout(),u.a.getInstance().settings.unInit(this.handle)},f.prototype.renewToken=function(b){return this.userMgr.renewToken(b)},f.prototype.queryUsersInfo=function(b,C){var _=this.paramValid.queryUsersInfo(b);return _?Promise.reject(_):this.convMgr.queryUsersInfo(b,C)},f.prototype.updateUserName=function(b){var C=this.paramValid.validName("userName",b,a.B.User,a.A.UpdateUserName);return C?Promise.reject(C):this.userMgr.updateUserName(b)},f.prototype.updateUserAvatarUrl=function(b){var C=this.paramValid.validName("userAvatarUrl",b,a.B.User,a.A.UpdateUserAvatarUrl);return C?Promise.reject(C):this.userMgr.updateUserAvatarUrl(b)},f.prototype.updateUserExtendedData=function(b){var C=this.paramValid.validName("extendedData",b,a.B.User,a.A.UpdateUserExtendedData);return C?Promise.reject(C):this.userMgr.updateUserExtendedData(b)},f.prototype.queryConversationList=function(b){var C=this.paramValid.queryConversationList(b);return C?Promise.reject(C):this.convMgr.queryList(b)},f.prototype.deleteConversation=function(b,C,_){var w=this.paramValid.validConvIDAndType(b,C,a.A.DeleteConversation);return w?Promise.reject(w):this.convMgr.delete(b,C,_)},f.prototype.setConversationNotificationStatus=function(b,C,_){var w=this.paramValid.setConversationNotificationStatus(b,C,_);return w?Promise.reject(w):this.convMgr.setNotificationStatus(b,C,_)},f.prototype.clearConversationUnreadMessageCount=function(b,C){var _=this.paramValid.validConvIDAndType(b,C,a.A.ClearConversationUnreadMessageCount);return _?Promise.reject(_):this.convMgr.clearUnreadMessageCount(b,C)},f.prototype.sendMessage=function(b,C,_,w,M){var S=this.paramValid.sendMessage(b,C,_,w);return S?Promise.reject(S):this.convMgr.sendMessage(b,C,_,w,M)},f.prototype.sendMediaMessage=function(b,C,_,w,M){var S=this.paramValid.sendMediaMessage(b,C,_,w);return S?Promise.reject(S):this.convMgr.sendMediaMessage(b,C,_,w,M)},f.prototype.deleteMessages=function(b,C,_,w){w=Object.assign({isAlsoDeleteServerMessage:!0},w);var M=this.paramValid.deleteMessages(b,C,_,w);return M?Promise.reject(M):b.length||w.isAlsoDeleteServerMessage?this.convMgr.deleteMessages(b,C,_,w):Promise.resolve({conversationID:C,conversationType:_})},f.prototype.deleteAllMessage=function(b,C,_){var w=this.paramValid.validConvIDAndType(b,C,a.A.DeleteAllMessage);return w?Promise.reject(w):this.convMgr.deleteAllMessage(b,C,_)},f.prototype.queryHistoryMessage=function(b,C,_){var w=this.paramValid.queryHistoryMessage(b,C,_);return w?Promise.reject(w):_.count<1?Promise.resolve({conversationID:b,conversationType:C,messageList:[]}):this.convMgr.queryHistoryMessage(b,C,_)},f.prototype.insertMessageToLocalDB=function(b,C,_,w){var M=this.paramValid.insertMessageToLocalDB(b,C,_,w);return M?Promise.reject(M):this.convMgr.insertMessageToLocalDB(b,C,_,w)},f.prototype.sendConversationMessageReceiptRead=function(b,C){var _=this.paramValid.sendConversationMessageReceiptRead(b,C);return _?Promise.reject(_):this.convMgr.sendConversationMessageReceiptRead(b,C)},f.prototype.sendMessageReceiptsRead=function(b,C,_){var w=this.paramValid.sendMessageReceiptsRead(b,C,_);return w?Promise.reject(w):this.convMgr.sendMessageReceiptsRead(b,C,_)},f.prototype.queryMessageReceiptsInfo=function(b,C,_){var w=this.paramValid.queryMessageReceiptsInfo(b,C,_);return w?Promise.reject(w):this.convMgr.queryMessageReceiptsInfo(b,C,_)},f.prototype.queryGroupMessageReceiptMemberList=function(b,C,_,w){var M=this.paramValid.queryGroupMessageReceiptMemberList(b,C,_,w,this.engineConfig.userID);return M?Promise.reject(M):_.count<1||b.direction==a.C.Receive?Promise.resolve({groupID:C,nextFlag:0,userList:[]}):this.groupMgr.queryGroupMessageReceiptMemberList(b,C,_,w)},f.prototype.revokeMessage=function(b,C){var _=this.paramValid.revokeMessage(b,this.engineConfig.userID);return _?Promise.reject(_):this.convMgr.revokeMessage(b,C)},f.prototype.createRoom=function(b,C){var _=this.paramValid.createRoom(b,C);return _?Promise.reject(_):this.groupMgr.createRoom(b,C)},f.prototype.enterRoom=function(b,C){var _=this.paramValid.createRoom(b,C,!0);return _?Promise.reject(_):this.groupMgr.createRoom(b,C,!0)},f.prototype.joinRoom=function(b){var C=this.paramValid.validID("roomID",b,a.B.Room,a.A.JoinRoom);return C?Promise.reject(C):this.groupMgr.joinRoom(b)},f.prototype.leaveRoom=function(b){var C=this.paramValid.validID("roomID",b,a.B.Room,a.A.LeaveRoom);return C?Promise.reject(C):this.groupMgr.leaveRoom(b)},f.prototype.queryRoomMemberList=function(b,C){var _=this.paramValid.queryRoomMemberList(b,C);return _?Promise.reject(_):C.count<1?Promise.resolve({roomID:b,memberList:[],nextFlag:C.nextFlag||""}):this.groupMgr.queryRoomMemberList(b,C)},f.prototype.queryRoomOnlineMemberCount=function(b){var C=this.paramValid.validID("roomID",b,a.B.Room,a.A.QueryRoomOnlineMemberCount);return C?Promise.reject(C):this.groupMgr.queryRoomOnlineMemberCount(b)},f.prototype.queryRoomAllAttributes=function(b){var C=this.paramValid.validID("roomID",b,a.B.Room,a.A.QueryRoomAllAttributes);return C?Promise.reject(C):this.groupMgr.queryRoomAllAttributes(b)},f.prototype.setRoomAttributes=function(b,C,_){var w=this.paramValid.setRoomAttributes(b,C);return w?Promise.reject(w):this.groupMgr.setRoomAttributes(b,C,_)},f.prototype.deleteRoomAttributes=function(b,C,_){var w=this.paramValid.deleteRoomAttributes(b,C);return w?Promise.reject(w):this.groupMgr.deleteRoomAttributes(b,C,_)},f.prototype.beginRoomAttributesBatchOperation=function(b,C){this.groupMgr.beginRoomAttributesBatchOperation(b,C)},f.prototype.endRoomAttributesBatchOperation=function(b){var C=this.paramValid.validID("roomID",b,a.B.Room,a.A.EndRoomAttributesBatchOperation);return C?Promise.reject(C):this.groupMgr.endRoomAttributesBatchOperation(b)},f.prototype.setRoomMembersAttributes=function(b,C,_,w){var M=this.paramValid.setRoomMembersAttributes(b,C,_);return M?Promise.reject(M):this.groupMgr.setRoomMembersAttributes(b,C,_,w)},f.prototype.queryRoomMembersAttributes=function(b,C){var _=this.paramValid.queryRoomMembersAttributes(b,C);return _?Promise.reject(_):this.groupMgr.queryRoomMembersAttributes(b,C)},f.prototype.queryRoomMemberAttributesList=function(b,C){var _=this.paramValid.validID("roomID",b,a.B.Room,a.A.QueryRoomMemberAttributesList);return _?Promise.reject(_):this.groupMgr.queryRoomMemberAttributesList(b,C)},f.prototype.createGroup=function(b,C,_){b=Object.assign({},b),_=Object.assign({groupAttributes:{},groupNotice:""},_);var w=this.paramValid.createGroup(b,C,_);return w?Promise.reject(w):this.groupMgr.createGroup(b,C,_)},f.prototype.joinGroup=function(b){var C=this.paramValid.validID("groupID",b,a.B.Group,a.A.JoinGroup);return C?Promise.reject(C):this.groupMgr.joinGroup(b)},f.prototype.leaveGroup=function(b){var C=this.paramValid.validID("groupID",b,a.B.Group,a.A.LeaveGroup);return C?Promise.reject(C):this.groupMgr.leaveGroup(b)},f.prototype.dismissGroup=function(b){var C=this.paramValid.validID("groupID",b,a.B.Group,a.A.DismissGroup);return C?Promise.reject(C):this.groupMgr.dismissGroup(b)},f.prototype.queryGroupList=function(){return this.groupMgr.queryGroupList()},f.prototype.updateGroupName=function(b,C){var _=this.paramValid.validIDAndName("groupID",C,"groupName",b,a.B.Group,a.A.UpdateGroupName);return _?Promise.reject(_):this.groupMgr.updateGroupName(b,C)},f.prototype.updateGroupNotice=function(b,C){var _=this.paramValid.validIDAndName("groupID",C,"groupNotice",b,a.B.Group,a.A.UpdateGroupNotice);return _?Promise.reject(_):this.groupMgr.updateGroupNotice(b,C)},f.prototype.updateGroupAvatarUrl=function(b,C){var _=this.paramValid.validIDAndName("groupID",C,"groupAvatarUrl",b,a.B.Group,a.A.UpdateGroupAvatarUrl);return _?Promise.reject(_):this.groupMgr.updateGroupAvatarUrl(b,C)},f.prototype.queryGroupInfo=function(b){var C=this.paramValid.validID("groupID",b,a.B.Group,a.A.QueryGroupInfo);return C?Promise.reject(C):this.groupMgr.queryGroupInfo(b)},f.prototype.setGroupAttributes=function(b,C){var _=this.paramValid.setGroupAttributes(b,C);return _?Promise.reject(_):this.groupMgr.setGroupAttributes(b,C)},f.prototype.deleteGroupAttributes=function(b,C){var _=this.paramValid.deleteGroupAttributes(b,C);return _?Promise.reject(_):this.groupMgr.deleteGroupAttributes(b,C)},f.prototype.queryGroupAttributes=function(b,C){var _=this.paramValid.queryGroupAttributes(b,C);return _?Promise.reject(_):this.groupMgr.queryGroupAttributes(b,C)},f.prototype.setGroupMemberNickname=function(b,C,_){var w=this.paramValid.setGroupMemberNickname(b,C,_);return w?Promise.reject(w):this.groupMgr.setGroupMemberNickname(b,C,_)},f.prototype.setGroupMemberRole=function(b,C,_){var w=this.paramValid.setGroupMemberRole(b,C,_);return w?Promise.reject(w):this.groupMgr.setGroupMemberRole(b,C,_)},f.prototype.transferGroupOwner=function(b,C){var _=this.paramValid.validTwoID("toUserID",b,"groupID",C,a.B.Group,a.A.TransferGroupOwner);return _?Promise.reject(_):this.groupMgr.transferGroupOwner(b,C)},f.prototype.queryGroupMemberInfo=function(b,C){var _=this.paramValid.validTwoID("userID",b,"groupID",C,a.B.Group,a.A.QueryGroupMemberInfo);return _?Promise.reject(_):this.groupMgr.queryGroupMemberInfo(b,C)},f.prototype.inviteUsersIntoGroup=function(b,C){var _=this.paramValid.validGroupUserIDs(b,C,a.A.InviteUsersIntoGroup);return _?Promise.reject(_):this.groupMgr.inviteUsersIntoGroup(b,C)},f.prototype.kickGroupMembers=function(b,C){var _=this.paramValid.validGroupUserIDs(b,C,a.A.KickGroupMembers);return _?Promise.reject(_):this.groupMgr.kickGroupMembers(b,C)},f.prototype.queryGroupMemberList=function(b,C){C=Object.assign({count:100,nextFlag:0},C);var _=this.paramValid.validID("groupID",b,a.B.Group,a.A.QueryGroupMemberList);return _?Promise.reject(_):C.count<1?Promise.resolve({groupID:b,userList:[],nextFlag:C.nextFlag}):this.groupMgr.queryGroupMemberList(b,C)},f.prototype.queryGroupMemberCount=function(b){var C=this.paramValid.validID("groupID",b,a.B.Group,a.A.QueryGroupMemberCount);return C?Promise.reject(C):this.groupMgr.queryGroupMemberCount(b)},f.prototype.callInvite=function(b,C){var _=this.paramValid.callInvite(b,C);return _?Promise.reject(_):this.callMgr.callInvite(b,C)},f.prototype.callCancel=function(b,C,_){var w=this.paramValid.callCancel(b,C);return w?Promise.reject(w):this.callMgr.callCancel(b,C,_)},f.prototype.callAccept=function(b,C){var _=this.paramValid.validID("callID",b,a.B.Call,a.A.CallAccept);return _?Promise.reject(_):this.callMgr.callAccept(b,C)},f.prototype.callReject=function(b,C){var _=this.paramValid.validID("callID",b,a.B.Call,a.A.CallReject);return _?Promise.reject(_):this.callMgr.callReject(b,C)},t([Object(i.l)(a.B.User,a.A.RenewToken)],f.prototype,"renewToken",null),t([Object(i.l)(a.B.User,a.A.QueryUsersInfo)],f.prototype,"queryUsersInfo",null),t([Object(i.l)(a.B.User,a.A.UpdateUserName)],f.prototype,"updateUserName",null),t([Object(i.l)(a.B.User,a.A.UpdateUserAvatarUrl)],f.prototype,"updateUserAvatarUrl",null),t([Object(i.l)(a.B.User,a.A.UpdateUserExtendedData)],f.prototype,"updateUserExtendedData",null),t([Object(i.l)(a.B.Conversation,a.A.QueryConversationList)],f.prototype,"queryConversationList",null),t([Object(i.l)(a.B.Conversation,a.A.DeleteConversation)],f.prototype,"deleteConversation",null),t([Object(i.l)(a.B.Conversation,a.A.SetConversationNotificationStatus)],f.prototype,"setConversationNotificationStatus",null),t([Object(i.l)(a.B.Conversation,a.A.ClearConversationUnreadMessageCount)],f.prototype,"clearConversationUnreadMessageCount",null),t([Object(i.l)(a.B.Conversation,a.A.SendMessage)],f.prototype,"sendMessage",null),t([Object(i.l)(a.B.Conversation,a.A.SendMediaMessage)],f.prototype,"sendMediaMessage",null),t([Object(i.l)(a.B.Conversation,a.A.DeleteMessages)],f.prototype,"deleteMessages",null),t([Object(i.l)(a.B.Conversation,a.A.DeleteAllMessage)],f.prototype,"deleteAllMessage",null),t([Object(i.l)(a.B.Conversation,a.A.QueryHistoryMessage)],f.prototype,"queryHistoryMessage",null),t([Object(i.l)(a.B.Conversation,a.A.InsertMessageToLocalDB)],f.prototype,"insertMessageToLocalDB",null),t([Object(i.l)(a.B.Conversation,a.A.SendConversationMessageReceiptRead)],f.prototype,"sendConversationMessageReceiptRead",null),t([Object(i.l)(a.B.Conversation,a.A.SendMessageReceiptsRead)],f.prototype,"sendMessageReceiptsRead",null),t([Object(i.l)(a.B.Conversation,a.A.QueryMessageReceiptsInfo)],f.prototype,"queryMessageReceiptsInfo",null),t([Object(i.l)(a.B.Group,"API.queryGroupMessageReceiptMemberList")],f.prototype,"queryGroupMessageReceiptMemberList",null),t([Object(i.l)(a.B.Conversation,a.A.RevokeMessage)],f.prototype,"revokeMessage",null),t([Object(i.l)(a.B.Room,a.A.CreateRoom)],f.prototype,"createRoom",null),t([Object(i.l)(a.B.Room,a.A.EnterRoom)],f.prototype,"enterRoom",null),t([Object(i.l)(a.B.Room,a.A.JoinRoom)],f.prototype,"joinRoom",null),t([Object(i.l)(a.B.Room,a.A.LeaveRoom)],f.prototype,"leaveRoom",null),t([Object(i.l)(a.B.Room,a.A.QueryRoomMemberList)],f.prototype,"queryRoomMemberList",null),t([Object(i.l)(a.B.Room,a.A.QueryRoomOnlineMemberCount)],f.prototype,"queryRoomOnlineMemberCount",null),t([Object(i.l)(a.B.Room,a.A.QueryRoomAllAttributes)],f.prototype,"queryRoomAllAttributes",null),t([Object(i.l)(a.B.Room,a.A.SetRoomAttributes)],f.prototype,"setRoomAttributes",null),t([Object(i.l)(a.B.Room,a.A.DeleteRoomAttributes)],f.prototype,"deleteRoomAttributes",null),t([Object(i.l)(a.B.Room,a.A.EndRoomAttributesBatchOperation)],f.prototype,"endRoomAttributesBatchOperation",null),t([Object(i.l)(a.B.Room,a.A.SetRoomMembersAttributes)],f.prototype,"setRoomMembersAttributes",null),t([Object(i.l)(a.B.Room,a.A.QueryRoomMembersAttributes)],f.prototype,"queryRoomMembersAttributes",null),t([Object(i.l)(a.B.Room,a.A.QueryRoomMemberAttributesList)],f.prototype,"queryRoomMemberAttributesList",null),t([Object(i.l)(a.B.Group,a.A.CreateGroup)],f.prototype,"createGroup",null),t([Object(i.l)(a.B.Group,a.A.JoinGroup)],f.prototype,"joinGroup",null),t([Object(i.l)(a.B.Group,a.A.LeaveGroup)],f.prototype,"leaveGroup",null),t([Object(i.l)(a.B.Group,a.A.DismissGroup)],f.prototype,"dismissGroup",null),t([Object(i.l)(a.B.Group,a.A.QueryGroupList)],f.prototype,"queryGroupList",null),t([Object(i.l)(a.B.Group,a.A.UpdateGroupName)],f.prototype,"updateGroupName",null),t([Object(i.l)(a.B.Group,a.A.UpdateGroupNotice)],f.prototype,"updateGroupNotice",null),t([Object(i.l)(a.B.Group,a.A.UpdateGroupAvatarUrl)],f.prototype,"updateGroupAvatarUrl",null),t([Object(i.l)(a.B.Group,a.A.QueryGroupInfo)],f.prototype,"queryGroupInfo",null),t([Object(i.l)(a.B.Group,a.A.SetGroupAttributes)],f.prototype,"setGroupAttributes",null),t([Object(i.l)(a.B.Group,a.A.DeleteGroupAttributes)],f.prototype,"deleteGroupAttributes",null),t([Object(i.l)(a.B.Group,a.A.QueryGroupAttributes)],f.prototype,"queryGroupAttributes",null),t([Object(i.l)(a.B.Group,a.A.SetGroupMemberNickname)],f.prototype,"setGroupMemberNickname",null),t([Object(i.l)(a.B.Group,a.A.SetGroupMemberRole)],f.prototype,"setGroupMemberRole",null),t([Object(i.l)(a.B.Group,a.A.TransferGroupOwner)],f.prototype,"transferGroupOwner",null),t([Object(i.l)(a.B.Group,a.A.QueryGroupMemberInfo)],f.prototype,"queryGroupMemberInfo",null),t([Object(i.l)(a.B.Group,a.A.InviteUsersIntoGroup)],f.prototype,"inviteUsersIntoGroup",null),t([Object(i.l)(a.B.Group,a.A.KickGroupMembers)],f.prototype,"kickGroupMembers",null),t([Object(i.l)(a.B.Group,a.A.QueryGroupMemberList)],f.prototype,"queryGroupMemberList",null),t([Object(i.l)(a.B.Group,a.A.QueryGroupMemberCount)],f.prototype,"queryGroupMemberCount",null),t([Object(i.l)(a.B.Call,a.A.CallInvite)],f.prototype,"callInvite",null),t([Object(i.l)(a.B.Call,a.A.CallCancel)],f.prototype,"callCancel",null),t([Object(i.l)(a.B.Call,a.A.CallAccept)],f.prototype,"callAccept",null),t([Object(i.l)(a.B.Call,a.A.CallReject)],f.prototype,"callReject",null),f);function f(b,C){var _=this,w=((w=(this.onConnectedEvent=function(M){_.userMgr.onConnected(M)},this.onDisConnectedEvent=function(M){_.userMgr.onDisConnected(M),_.eventBus.emit(a.n.Error,Object(i.o)(a.m.NetworkModuleNetworkError))},this.onPushEvent=function(M,S){var I,x,E=S.send_time_consumed;M===a.a.sw_push?(I=S.head.sub_cmd,S.head.qos_flag==1&&(x={code:0,message:"",group_name:I,group_notice:S.head.msg_id,group_data_seq:S.head.send_time},_.connMgr.sendRequestWithNoRsp(a.a.sw_push_rsp,x)),_.handlePushEvent(I,S.msg_body,E)):M===a.a.sw_push_list?(S.qos_flag==1&&(x={code:0,message:"",server_send_time:S.send_time,push_responses:S.push_requests.map(function(D){return{key:D.sub_cmd,value:D.msg_id}})},_.connMgr.sendRequestWithNoRsp(a.a.sw_push_list_rsp,x)),S.push_requests.forEach(function(D){_.handlePushEvent(D.sub_cmd,D.msg_body,E)})):M===a.a.Accesshub?_.userMgr.onPushAccesshub(S):(_.dataReport.reportNetworkRequest(M,S,E),_.handlePushEvent(M,S,E))},u.a.getInstance().settings)).init(b,C),this.handle=b,this.eventBus=new v.a,this.engineConfig=w.getEngineConfig(b),this.logger=u.a.getInstance().logger,this.logger.setEventBus(this.eventBus),this.dataReport=u.a.getInstance().dataReport,this.paramValid=new c.a(this.logger),r(113)("./"+(i.h?"ZIMFileStoreImpl":"ZIMIDBImpl")).ZIMStoreImpl);this.dbMgr=new w(C),this.connMgr=new g.a(b),this.connMgr.initEvent(this.onConnectedEvent,this.onDisConnectedEvent,this.onPushEvent),this.groupMgr=new o.a(b,this.eventBus,this.dbMgr,this.connMgr),this.convMgr=new y.a(b,this.eventBus,this.dbMgr,this.connMgr,this.groupMgr),this.userMgr=new n.a(b,this.eventBus,this.dbMgr,this.connMgr),this.callMgr=new s.a(b,this.eventBus,this.connMgr)}},function(e,t,r){r.d(t,"a",function(){return c});var d=r(1),u=r(0),c=(v.prototype.validID=function(g,y,o,n){var s;Object(d.i)(g)||(s=Object(d.o)(u.m.CommonModuleParamInvalid,g+" is invalid."),this.logger.warn([o],n,((o={error:s})[g]=y,o)))},v.prototype.validName=function(g,y,o,n){var s;if(!this._isValidName(y))return s=Object(d.o)(u.m.CommonModuleParamInvalid,g+" is invalid."),this.logger.warn([o],n,((o={error:s})[g]=y,o)),s},v.prototype.validTwoID=function(g,y,o,n,s,i){var a="";if(!Object(d.i)(y)&&(a=g+" is invalid.")||!Object(d.i)(n)&&(a=o+" is invalid."))return a=Object(d.o)(u.m.CommonModuleParamInvalid,a),this.logger.warn([s],i,((s={error:a})[g]=y,s[o]=n,s)),a},v.prototype.validTwoName=function(g,y,o,n,s,i){var a="";if(!this._isValidName(y)&&(a=g+" is invalid.")||!this._isValidName(n)&&(a=o+" is invalid."))return a=Object(d.o)(u.m.CommonModuleParamInvalid,a),this.logger.warn([s],i,((s={error:a})[g]=y,s[o]=n,s)),a},v.prototype.validIDAndName=function(g,y,o,n,s,i){var a="";if(!Object(d.i)(y)&&(a=g+" is invalid.")||!this._isValidName(n)&&(a=o+" is invalid."))return a=Object(d.o)(u.m.CommonModuleParamInvalid,a),this.logger.warn([s],i,((s={error:a})[g]=y,s[o]=n,s)),a},v.prototype.login=function(g){var y="";if((g?!Object(d.i)(g.userID)&&(y="The userInfo instance of userID is invalid."):y="userInfo is invalid.")||!this._isValidName(g.userName)&&(y="The userInfo instance of userName is invalid."))return y=Object(d.o)(u.m.CommonModuleParamInvalid,y),this.logger.warn([u.B.User],u.A.Login,{error:y,userInfo:g}),y},v.prototype.queryUsersInfo=function(g){var y;if(!Array.isArray(g)||!g.length)return y=Object(d.o)(u.m.CommonModuleParamInvalid,"userIDs is invalid."),this.logger.warn([u.B.User],u.A.QueryUsersInfo,{error:y,userIDs:g}),y},v.prototype.validConvIDAndType=function(g,y,o){var n="";if(Object(d.i)(g)?y!==u.k.Peer&&y!==u.k.Group&&(n="conversationType is invalid."):n="conversationID is invalid.")return n=Object(d.o)(u.m.CommonModuleParamInvalid,n),this.logger.warn([u.B.Conversation],o,{error:n,conversationID:g,conversationType:y}),n},v.prototype.queryConversationList=function(g){var y="";if(g?(typeof g.count!="number"||g.count<0)&&(y="The config instance of count is invalid."):y="config is invalid.")return y=Object(d.o)(u.m.CommonModuleParamInvalid,y),this.logger.warn([u.B.Conversation],u.A.QueryConversationList,{error:y,config:g}),y},v.prototype.setConversationNotificationStatus=function(g,y,o){var n="";if((Object(d.i)(y)?o!==u.k.Group&&(n="conversationType is not support."):n="conversationID is invalid.")||g!==u.i.Notify&&g!==u.i.DoNotDisturb&&(n="status is invalid."))return n=Object(d.o)(u.m.CommonModuleParamInvalid,n),this.logger.warn([u.B.Conversation],u.A.SetConversationNotificationStatus,{error:n,conversationID:y,conversationType:o,status:g}),n},v.prototype.sendMessage=function(g,y,o,n){var s="";if((Object(d.i)(y)?!this._checkConvType(o)&&(s="conversationType is invalid."):s="toConversationID is invalid.")||!g&&(s="message is invalid.")||!n&&(s="config is invalid.")||!this._checkMesageType(g.type,o)&&(s="message type is invalid.")||!this._checkMesagePriority(n.priority)&&(s="config priority is invalid.")||!this._checkMesageContent(o,g.type,g.message)&&(s="The message instance of message is invalid.")||!this._checkMessageReceipt(o,g.type,n.hasReceipt)&&(s="The message type is not support setting receipt."))return s=Object(d.o)(u.m.CommonModuleParamInvalid,s),this.logger.warn([u.B.Conversation],u.A.SendMessage,{error:s,toConversationID:y,conversationType:o,message:g,config:n}),s},v.prototype.sendMediaMessage=function(g,y,o,n){var s="";if((Object(d.i)(y)?!this._checkConvType(o)&&(s="conversationType is invalid."):s="toConversationID is invalid.")||!g&&(s="message is invalid.")||!n&&(s="config is invalid.")||!this._checkMediaMesageType(g.type)&&(s="message type is invalid.")||!this._checkMesagePriority(n.priority)&&(s="config priority is invalid.")||!this._checkMessageReceipt(o,g.type,n.hasReceipt)&&(s="The message type is not support setting receipt.")||!g.fileLocalPath&&!g.fileDownloadUrl&&(s="The message instance of fileLocalPath and fileDownloadUrl is empty."))return s=Object(d.o)(u.m.CommonModuleParamInvalid,s),this.logger.warn([u.B.Conversation],u.A.SendMediaMessage,{error:s,toConversationID:y,conversationType:o,message:g,config:n}),s},v.prototype.deleteMessages=function(g,y,o,n){return(y=this.validConvIDAndType(y,o,u.A.DeleteMessages))||(!Array.isArray(g)||!g.length&&n.isAlsoDeleteServerMessage?(this.logger.warn([u.B.Conversation],u.A.DeleteMessages,{error:y,messageList:g,config:n}),Object(d.o)(u.m.CommonModuleParamInvalid,"messageList is invalid.")):void 0)},v.prototype.queryHistoryMessage=function(g,y,o){var n="";if((Object(d.i)(g)?!this._checkConvType(y)&&(n="conversationType is invalid."):n="conversationID is invalid.")||!o&&(n="config is invalid.")||(typeof o.count!="number"||o.count<0)&&(n="The config instance of count is invalid."))return o=Object(d.o)(u.m.CommonModuleParamInvalid,n),this.logger.warn([u.B.Conversation],u.A.QueryHistoryMessage,{error:o,conversationID:g,conversationType:y}),o},v.prototype.insertMessageToLocalDB=function(g,y,o,n){if(s=this.validConvIDAndType(y,o,u.A.InsertMessageToLocalDB))return s;var s="";return(Object(d.i)(n)?!g&&(s="message is invalid."):s="senderUserID is invalid.")||!this._checkInsertMesageType(g.type)&&(s="message type is invalid.")||!this._checkInsertMesageContent(g)&&(s="The message instance of message is invalid.")?(s=Object(d.o)(u.m.CommonModuleParamInvalid,s),this.logger.warn([u.B.Conversation],u.A.InsertMessageToLocalDB,{error:s,conversationID:y,conversationType:o,senderUserID:n,message:g}),s):void 0},v.prototype.sendConversationMessageReceiptRead=function(g,y){var o="";if(Object(d.i)(g)?y!==u.k.Peer&&(o="conversationType is invalid."):o="conversationID is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Conversation],u.A.SendConversationMessageReceiptRead,{error:o,conversationID:g,conversationType:y}),o},v.prototype.sendMessageReceiptsRead=function(g,y,o){if(n=this.validConvIDAndType(y,o,u.A.SendMessageReceiptsRead))return n;var n="";return Array.isArray(g)&&g.length!=0?g.some(function(s){return s.conversationID==y&&s.conversationType==o&&s.direction==u.C.Receive&&s.receiptStatus==u.E.Processing})||(n="Every one of message list is not a received receipt message in the conversationID."):n="messageList is invalid.",n?(n=Object(d.o)(u.m.CommonModuleParamInvalid,n),this.logger.warn([u.B.Conversation],u.A.SendMessageReceiptsRead,{error:n,conversationID:y,conversationType:o,messageList:g},!0),n):void 0},v.prototype.queryMessageReceiptsInfo=function(g,y,o){if(n=this.validConvIDAndType(y,o,u.A.QueryMessageReceiptsInfo))return n;var n="";return Array.isArray(g)&&g.length!=0?g.every(function(s){return!s.receiptStatus||s.conversationID!==y||s.conversationType!==o})&&(n="Every one of message list is not a receipt message in the conversationID."):n="messageList is invalid.",n?(n=Object(d.o)(u.m.CommonModuleParamInvalid,n),this.logger.warn([u.B.Conversation],u.A.QueryMessageReceiptsInfo,{error:n,conversationID:y,conversationType:o,messageList:g},!0),n):void 0},v.prototype.queryGroupMessageReceiptMemberList=function(g,y,o,n,s){var i="";if((Object(d.i)(y)?(!o||typeof o.count!="number"||o.count<0)&&(i="config or the config instance of count is invalid."):i="groupID is invalid.")||!g&&(i="message is invalid.")||(g.senderUserID!=s||g.sentStatus!=u.H.Success||!g.receiptStatus)&&(i="The message instance is not a successful receipt message sent by self.")||(g.type==u.J.Command||g.type==u.J.Revoke)&&(i="The message type is not support.")||(g.conversationID!==y||g.conversationType!==u.k.Group)&&(i="The message instance is not belong the groupID."))return s=Object(d.o)(u.m.CommonModuleParamInvalid,i),i=n?u.A.QueryGroupMessageReceiptReadMemberList:u.A.QueryGroupMessageReceiptUnreadMemberList,this.logger.warn([u.B.Group],i,{error:s,groupID:y,message:g,config:o}),s},v.prototype.revokeMessage=function(g,y){var o="";if((g?(g.isUserInserted||g.senderUserID!=y||g.sentStatus!=u.H.Success)&&(o="The message instance is not a successful message sent by self."):o="message is invalid.")||(g.type==u.J.Command||g.type==u.J.Revoke)&&(o="The message type is not support.")||g.conversationType!==u.k.Peer&&g.conversationType!==u.k.Group&&(o="Only peer and group message can be revoked."))return y=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Conversation],u.A.RevokeMessage,{error:y,message:g}),y},v.prototype.createRoom=function(g,y,o){var n="";if((g?!Object(d.i)(g.roomID)&&(n="The roomInfo instance of roomID is invalid."):n="roomInfo is invalid.")||!this._isValidName(g.roomName)&&(n="The roomInfo instance of roomName is invalid.")||y&&y.roomAttributes&&!this._isValidAttribute(y.roomAttributes,!0)&&(n="The Key and Value of the roomAttributes property of the config instance only support string types."))return n=Object(d.o)(u.m.CommonModuleParamInvalid,n),o=o?u.A.EnterRoom:u.A.CreateRoom,this.logger.warn([u.B.Room],o,{error:n,roomInfo:g,config:y}),n},v.prototype.queryRoomMemberList=function(g,y){var o="";if(Object(d.i)(g)?(!y||typeof y.count!="number"||y.count<0)&&(o="config or the config instance of count is invalid."):o="roomID is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Room],u.A.QueryRoomMemberList,{error:o,roomID:g,config:y}),o},v.prototype.setRoomAttributes=function(g,y){var o="";if(Object(d.i)(y)?!this._isValidAttribute(g)&&(o="The Key and Value of the roomAttributes only support string types."):o="roomID is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Room],u.A.SetRoomAttributes,{error:o,roomID:y,roomAttributes:g}),o},v.prototype.deleteRoomAttributes=function(g,y){var o="";if(Object(d.i)(y)?(!Array.isArray(g)||!g.length||g.some(function(n){return!n||typeof n!="string"}))&&(o="Every one of keys must be a valid string type."):o="roomID is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Room],u.A.DeleteRoomAttributes,{error:o,roomID:y,keys:g}),o},v.prototype.setRoomMembersAttributes=function(g,y,o){var n="";if((Object(d.i)(o)?!this._isValidAttribute(g)&&(n="The Key and Value of the attributes only support string types."):n="roomID is invalid.")||(!Array.isArray(y)||!y.length||y.some(function(s){return!s||typeof s!="string"}))&&(n="Every one of userIDs must be a valid string type."))return y=Object(d.o)(u.m.CommonModuleParamInvalid,n),this.logger.warn([u.B.Room],u.A.SetRoomMembersAttributes,{error:y,roomID:o,attributes:g}),y},v.prototype.queryRoomMembersAttributes=function(g,y){var o="";if(Object(d.i)(y)?(!Array.isArray(g)||!g.length||g.some(function(n){return!n||typeof n!="string"}))&&(o="Every one of userIDs must be a valid string type."):o="roomID is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Room],u.A.QueryRoomMembersAttributes,{error:o,roomID:y,userIDs:g}),o},v.prototype.queryRoomMemberAttributesList=function(g,y){var o="";if(Object(d.i)(g)?(!y||typeof y.count!="number"||y.count<0)&&(o="config or the config instance of count is invalid."):o="roomID is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Room],u.A.QueryRoomMemberAttributesList,{error:o,roomID:g,config:y}),o},v.prototype.validGroupUserIDs=function(g,y,o){var n="";if(Array.isArray(g)&&g.length&&!g.some(function(s){return!s||typeof s!="string"})?!Object(d.i)(y)&&(n="groupID is invalid."):n="Every one of userIDs must be a valid string type.")return n=Object(d.o)(u.m.CommonModuleParamInvalid,n),this.logger.warn([u.B.Group],o,{error:n,groupID:y,userIDs:g}),n},v.prototype.createGroup=function(g,y,o){var n=String(g.groupID||"").trim(),s="";if((n&&!Object(d.i)(n,!0)?s="The groupInfo instance of groupID is invalid.":!this._isValidName(g.groupName)&&(s="The groupInfo instance of groupName is invalid."))||!this._isValidName(g.groupAvatarUrl)&&(s="The groupInfo instance of groupAvatarUrl is invalid.")||!this._isValidName(o.groupNotice)&&(s="The config instance of groupNotice is invalid.")||y&&!Array.isArray(y)&&(s="Every one of userIDs must be a valid string type.")||!this._isValidAttribute(o.groupAttributes,!0)&&(s="The Key and Value of the groupAttributes property of the config instance only support string types."))return n=Object(d.o)(u.m.CommonModuleParamInvalid,s),this.logger.warn([u.B.Group],u.A.CreateGroup,{error:n,groupInfo:g,config:o,userIDs:y}),n},v.prototype.setGroupAttributes=function(g,y){var o="";if(Object(d.i)(y)?!this._isValidAttribute(g)&&(o="The Key and Value of the groupAttributes only support string types."):o="groupID is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Group],u.A.SetGroupAttributes,{error:o,groupID:y,groupAttributes:g}),o},v.prototype.deleteGroupAttributes=function(g,y){var o="";if(Object(d.i)(y)?(!Array.isArray(g)||!g.length||g.some(function(n){return!n||typeof n!="string"}))&&(o="Every one of kyes must be a valid string type."):o="groupID is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Group],u.A.DeleteGroupAttributes,{error:o,groupID:y,keys:g}),o},v.prototype.queryGroupAttributes=function(g,y){var o="";if(Object(d.i)(g)?Array.isArray(y)&&(!y.length||y.some(function(n){return!n||typeof n!="string"}))&&(o="Every one of kyes must be a valid string type."):o="groupID is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Group],u.A.QueryGroupAttributes,{error:o,groupID:g,keys:y}),o},v.prototype.setGroupMemberNickname=function(g,y,o){var n="";if((this._isValidName(g)?!Object(d.i)(y)&&(n="forUserID is invalid."):n="nickname is invalid.")||!Object(d.i)(o)&&(n="groupID is invalid."))return n=Object(d.o)(u.m.CommonModuleParamInvalid,n),this.logger.warn([u.B.Group],u.A.SetGroupMemberNickname,{error:n,groupID:o,forUserID:y,nickname:g}),n},v.prototype.setGroupMemberRole=function(g,y,o){var n="";if((typeof g!="number"?n="role is invalid.":!Object(d.i)(y)&&(n="forUserID is invalid."))||!Object(d.i)(o)&&(n="groupID is invalid."))return n=Object(d.o)(u.m.CommonModuleParamInvalid,n),this.logger.warn([u.B.Group],u.A.SetGroupMemberRole,{error:n,groupID:o,forUserID:y,role:g}),n},v.prototype.callInvite=function(g,y){var o="";if(Array.isArray(g)&&g.length?y&&typeof y.timeout=="number"&&(y.timeout%1!=0||y.timeout<1||600<y.timeout)&&(o="The config instance of timeout is invalid."):o="invitees is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Call],u.A.CallInvite,{error:o,invitees:g,config:y}),o},v.prototype.callCancel=function(g,y){var o="";if(Object(d.i)(y)?(!Array.isArray(g)||!g.length)&&(o="invitees is invalid."):o="callID is invalid.")return o=Object(d.o)(u.m.CommonModuleParamInvalid,o),this.logger.warn([u.B.Call],u.A.CallCancel,{error:o,callID:y,invitees:g}),o},v.prototype._checkMesageContent=function(g,y,o){return!((y===u.J.Text||y===u.J.Barrage&&g===u.k.Room)&&(typeof o!="string"||!o||!o.trim()||Object(d.e)(o).length>u.g.MAX_MESSAGE_SIZE)||!(y!==u.J.Command||o instanceof Uint8Array&&o.length&&!(o.length>u.g.MAX_MESSAGE_SIZE)&&Object(d.a)(o).trim()))},v.prototype._checkMesagePriority=function(g){return g===u.D.Low||g===u.D.Medium||g===u.D.High},v.prototype._checkMesageType=function(g,y){return g===u.J.Text||g===u.J.Command||y===u.k.Room&&g===u.J.Barrage},v.prototype._checkMediaMesageType=function(g){return g===u.J.Image||g===u.J.File||g===u.J.Audio||g===u.J.Video},v.prototype._checkInsertMesageType=function(g){return g===u.J.Text||g===u.J.System||g===u.J.Image||g===u.J.File||g===u.J.Audio||g===u.J.Video},v.prototype._checkInsertMesageContent=function(g){var y=g.message;return!(!(g.type!==u.J.Text&&g.type!==u.J.System||typeof y=="string"&&y&&y.trim()&&!(Object(d.e)(y).length>u.g.MAX_MESSAGE_SIZE))||g.type>=u.J.Image&&g.type<=u.J.Video&&!g.fileLocalPath&&!g.fileDownloadUrl)},v.prototype._checkConvType=function(g){return g===u.k.Peer||g===u.k.Room||g===u.k.Group},v.prototype._checkMessageReceipt=function(g,y,o){return!o||g!=u.k.Room&&y!=u.J.Command&&y!=u.J.Barrage},v);function v(g){this.logger=g,this._isValidName=function(y){return typeof y=="string"&&y.length<=u.g.MAX_NAME_SIZE},this._isValidAttribute=function(y,o){if(!y||Object.prototype.toString.call(y)!=="[object Object]")return!1;var n=Object.keys(y);return!(!o&&!n.length)&&Object.keys(y).every(function(s){return typeof s=="string"&&typeof y[s]=="string"})}}},function(e,t,r){r.d(t,"a",function(){return g});var d=r(3),u=r(0),c=function(o,n){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var i,a,m=s.call(o),f=[];try{for(;(n===void 0||0<n--)&&!(i=m.next()).done;)f.push(i.value)}catch(b){a={error:b}}finally{try{i&&!i.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}return f},v=function(o,n,s){if(s||arguments.length===2)for(var i,a=0,m=n.length;a<m;a++)!i&&a in n||((i=i||Array.prototype.slice.call(n,0,a))[a]=n[a]);return o.concat(i||Array.prototype.slice.call(n))},g=(y.prototype.setContext=function(o){this.context=o},y.prototype.on=function(o,n){this.listenerMap.set(o,n)},y.prototype.off=function(o){o?this.listenerMap.delete(o):(this.listenerMap.clear(),this.innerEvents[u.n.InnerLogined].length=0,this.innerEvents[u.n.InnerLogout].length=0,this.innerEvents[u.n.InnerUpdateSelf].length=0,this.innerEvents[u.n.InnerJoinedGroup].length=0,this.innerEvents[u.n.InnerLeftGroup].length=0,this.innerEvents[u.n.InnerSyncGroups].length=0,this.innerEvents[u.n.InnerSyncGroupInfo].length=0,this.innerEvents[u.n.InnerUnreadMessageCount].length=0,this.innerEvents[u.n.InnerConnectedRoom].length=0,this.innerEvents[u.n.InnerConnected].length=0,this.innerEvents[u.n.InnerDisConnected].length=0,this.context=null)},y.prototype.emit=function(o,n,s){var i,a=this,m=this.listenerMap.get(o);o!=u.n.Logger&&(i=typeof m=="function"?":1":":0",s=s?[s,n]:n,d.a.getInstance().logger.info([u.B.Manager],"API.emit_".concat(o).concat(i),s,!0)),typeof m=="function"&&setTimeout(function(){try{m(a.context,n)}catch(f){throw f}},0)},y.prototype.add=function(o,n){this.innerEvents[o].push(n)},y.prototype.remove=function(o,n){var s;n?(s=this.innerEvents[o].findIndex(function(i){return i===n}))!==-1&&this.innerEvents[o].splice(s,1):this.innerEvents[o].length=0},y.prototype.exec=function(o){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var i=o==u.n.InnerLogined?void 0:n&&n.length==1?n[0]:n;d.a.getInstance().logger.info([u.B.Manager],"InnerEvent_"+o,i),this.innerEvents[o].forEach(function(a){return a.apply(void 0,v([],c(n),!1))})},y);function y(){var o;this.listenerMap=new Map,this.innerEvents=((o={})[u.n.InnerLogined]=[],o[u.n.InnerLogout]=[],o[u.n.InnerUpdateSelf]=[],o[u.n.InnerJoinedGroup]=[],o[u.n.InnerLeftGroup]=[],o[u.n.InnerSyncGroups]=[],o[u.n.InnerSyncGroupInfo]=[],o[u.n.InnerUnreadMessageCount]=[],o[u.n.InnerConnectedRoom]=[],o[u.n.InnerConnected]=[],o[u.n.InnerDisConnected]=[],o)}},function(e,t,r){r.d(t,"a",function(){return o});var d=r(3),u=r(66),c=r(1),v=r(0),g=function(){return(g=Object.assign||function(s){for(var i,a=1,m=arguments.length;a<m;a++)for(var f in i=arguments[a])Object.prototype.hasOwnProperty.call(i,f)&&(s[f]=i[f]);return s}).apply(this,arguments)},y=function(s,i){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var m,f,b=a.call(s),C=[];try{for(;(i===void 0||0<i--)&&!(m=b.next()).done;)C.push(m.value)}catch(_){f={error:_}}finally{try{m&&!m.done&&(a=b.return)&&a.call(b)}finally{if(f)throw f.error}}return C},o=(n.prototype.initEvent=function(s,i,a){this.onConnectedEvent=s,this.onDisConnectedEvent=i,this.onPushEvent=a},n.prototype.create=function(s){var i=this;return this.streamID++,this.close(),s=s.map(function(a,m){var f=new u.a;return f.onconnected=i.onConnectedEvent,f.ondisconnected=i.onDisConnectedEvent,f.onmessage=i.onmessage,(i.connections[m]=f).create(a)}),Promise.all(s)},n.prototype.close=function(){this.connections.length&&this.logger.warn([v.B.Connection],v.A.CloseConnection),this.connections.forEach(function(s){return s.destroy()}),this.connections.length=0},n.prototype.destroy=function(){this.requestMap.clear(),this.requestTimeoutMap.clear(),this.pushCmdMap.clear(),this.close(),this.logger=null,this.settings=null,this.dataReport=null,this.protobuf=null,this.engineConfig=null},n.prototype.getUrls=function(){var s="wss://accesshub-wss.zego.im/accesshub";try{var i=c.h?c.k.getStorageSync(this.urlKey):localStorage.getItem(this.urlKey);return i?d.a.getInstance().crypto.decryptString(i).split(","):[s]}catch{return[s]}},n.prototype.sendDispatchRequest=function(){var s=++this.seq,i=this.protobuf.encodeAccesshubDispatchRequest(this.streamID,s,this.engineConfig),a=(this.connections.forEach(function(m){return m.send(i)}),{time:Date.now(),seq:s,size:i.length,cmd:"AccesshubDispatchRequest"});return this.createRequest(s,this.settings.requestTimeout,a)},n.prototype.sendHttpRequest=function(s,i){var a=++this.seq,m=this.protobuf.encodeAccesshubHTTPRequest(this.streamID,a,this.engineConfig,s,i);return this.connections.forEach(function(f){return f.send(m)}),s={time:Date.now(),seq:a,size:m.length,cmd:"AccesshubHTTPRequest",http:s,body:i},this.createRequest(a,this.settings.requestTimeout,s)},n.prototype.sendRequest=function(s,i,a,m,f){return a===void 0&&(a=v.d.API),m===void 0&&(m=this.settings.requestTimeout),this.sendRequestInner(s,i,a,f=f!==void 0&&f,!0,m)},n.prototype.sendRequestWithHook=function(s,i,a,m){return a===void 0&&(a=v.d.API),this.sendRequestInner(s,i,a,!1,!0,this.settings.requestTimeout,m)},n.prototype.sendRequestWithHeartbeat=function(s,i,a,m){return this.sendRequestInner(s,i,v.d.SDK,!1,a,m)},n.prototype.sendRequestWithNoRsp=function(s,i){s=this.generateHeader(s,v.d.SDK);var a=y(this.protobuf.encodeRequest(s,i,this.streamID),1)[0];this.connections.forEach(function(m){return m.send(a)})},n.prototype.responseRequest=function(s,i,a){var m;return this.requestMap.has(s)?((m=this.requestTimeoutMap.get(s))&&clearTimeout(m),this.requestTimeoutMap.delete(s),i&&(m=this.requestMap.get(s).resolve,this.requestMap.delete(s),m({code:a})),s):0},n.prototype.sendRequestInner=function(s,i,a,m,f,b,C){m===void 0&&(m=!1),f===void 0&&(f=!0),b===void 0&&(b=this.settings.requestTimeout);var _=this.generateHeader(s,a),w=_.seq,M=(C=(this.pageMergeReportCmdList.indexOf(s)==-1&&(a=this.dataReport.beginNetworkRequest(s,w,i,a),C&&C(_,a)),y(this.protobuf.encodeRequest(_,i,this.streamID),3)))[0];return a=C[1],C=C[2],this.connections.forEach(function(S){return S.send(M)}),f=f?{time:Date.now(),seq:w,caller:_.caller_type||void 0,cmd:s,size:M.length,osize:a,esize:C,rsp_size:-1,rsp_osize:-1,rsp_dsize:-1,body:i}:null,this.createRequest(w,b,f,s,m)},n.prototype.createRequest=function(s,i,a,m,f){var b=this;return new Promise(function(C){b.requestMap.set(s,{resolve:C,log:a,isShortLog:f});var _=setTimeout(function(){b.requestMap.delete(s);var w={seq:s,code:v.m.NetworkModuleNetworkError,message:"Network error."};a&&(a.time=i,a.timeout=i,b.logger.warn([v.B.Connection],v.A.SendCMD,a,f)),m&&b.pageMergeReportCmdList.indexOf(m)==-1&&b.dataReport.endNetworkRequest(m,s,w),C(w)},i);b.requestTimeoutMap.set(s,_)})},n.prototype.handleAccesshubPCDownwardMessage=function(s){var i,a,m,f,b,C,_=(w=y(this.protobuf.decodeResponseHeader(s),2))[0],w=w[1],M=_.cmd,S=_.seq,I=this.swPushCmdList.indexOf(M)!=-1;!I&&this.requestMap.has(S)&&(b=(f=y(this.protobuf.decodeResponseBody(s,M,w),3))[0],a=f[1],f=f[2],i=(m=this.requestMap.get(S)).resolve,C=m.log,m=m.isShortLog,(C||b.code)&&(a={rsp_size:s.byteLength,rsp_osize:a,rsp_dsize:f,rsp_body:b},C&&(C.time=Date.now()-C.time,Object.assign(C,a)),this.logger.info([v.B.Connection],v.A.SendCMD,C||a,m)),this.requestMap.delete(S),(f=this.requestTimeoutMap.get(S))&&clearTimeout(f),this.requestTimeoutMap.delete(S),this.pageMergeReportCmdList.indexOf(M)==-1&&this.dataReport.endNetworkRequest(M,S,b),M===v.a.sw_login+"_rsp"&&(b.rspHeader=_),i(b)),I&&(m=(a=y(this.protobuf.decodeResponseBody(s,M,w),3))[0],f=a[1],_=a[2],I=(b=m.send_time||((i=m.head)==null?void 0:i.send_time))?Date.now()+this.settings.serverOffsetTime-b.toString():void 0,C={time:m.send_time_consumed=I,seq:S,cmd:m.subCmds||M,size:s.byteLength,osize:f,dsize:_,body:m},this.logger.info([v.B.Connection],v.A.PushCMD,C),S>this.seq&&(this.seq=S),m.subCmds||this.onPushEvent(M,m))},n.prototype.handleAccesshubHTTPResponse=function(s){var i=+((i=s.txid)==null?void 0:i.toString());if(this.requestMap.has(i)){var a=(f=this.requestMap.get(i)).resolve,m=f.log,f=f.isShortLog,b={};if(s.body)try{b=JSON.parse(Object(c.a)(s.body))}catch{}this.requestMap.delete(i);var C=this.requestTimeoutMap.get(i);C&&clearTimeout(C),this.requestTimeoutMap.delete(i),m.time=Date.now()-m.time,m.code=s.status_code,m.result=b,this.logger.info([v.B.Connection],v.A.SendCMD,m,f),a(b)}},n.prototype.handleAccesshubDispatchResponse=function(s){var i,a,m,f=+((f=(f=s.data)==null?void 0:f.txid)==null?void 0:f.toString());this.requestMap.has(f)&&(i=(a=this.requestMap.get(f)).log,a=a.isShortLog,this.requestMap.delete(f),(m=this.requestTimeoutMap.get(f))&&clearTimeout(m),this.requestTimeoutMap.delete(f),i.time=Date.now()-i.time,i.result=s,this.logger.info([v.B.Connection],v.A.SendCMD,i,a),f=(m=s.data.wss_groups)==null?void 0:m.map(function(b){return"wss://".concat(b.host,"/accesshub")}),this.setUrls(f))},n.prototype.handleAccesshubRedirect=function(s,i){this.handleAccesshubLog(s,i,"Redirect"),(s=(i=(s=i.data)==null?void 0:s.wss_groups)==null?void 0:i.map(function(a){return"wss://".concat(a.host,"/accesshub")}))&&s.length&&this.onPushEvent(v.a.sw_push_redirect,{quey_user_id:s})},n.prototype.handleAccesshubCloseConnection=function(s,i){this.handleAccesshubLog(s,i),this.onDisConnectedEvent(!0)},n.prototype.handleAccesshubLog=function(s,i,a){this.logger.info([v.B.Connection],v.A.PushCMD,{type:s,cmd:"Accesshub"+(a=a===void 0?"":a),res:i}),s!=19&&s!=30||this.onPushEvent(v.a.Accesshub,g({_type:s},i))},n.prototype.generateHeader=function(s,i){return{cmd:s,seq:++this.seq,timestamp:Date.now(),product:2,app_id:this.engineConfig.appID,user_id:this.engineConfig.userID,flags:[1],caller_type:i,session_id:this.engineConfig.sessionID,user_nid:this.engineConfig.serverUserID,controls:this.engineConfig.controls}},n.prototype.setUrls=function(s){if(s&&s.length)if(s=d.a.getInstance().crypto.encryptString(s.join(",")),c.h)c.k.setStorageSync(this.urlKey,s);else try{localStorage.setItem(this.urlKey,s)}catch{}},n);function n(s){var i=this;this.seq=0,this.streamID=0,this.urlKey="",this.requestMap=new Map,this.requestTimeoutMap=new Map,this.pushCmdMap=new Map,this.swPushCmdList=Object.freeze([v.a.sw_push,v.a.sw_push_list,v.a.sw_push_kickout,v.a.sw_push_redirect]),this.pageMergeReportCmdList=Object.freeze([v.a.im_c2c_msglist,v.a.im_group_msglist,v.a.im_room_msglist,v.a.im_usermail_convlist,v.a.im_group_list,v.a.im_group_member_list,v.a.im_room_userlist,v.a.im_msg_read_receipt_detail,v.a.im_extra_msglist,v.a.im_c2c_msg_state_list,v.a.im_group_msg_state_list]),this.logger=d.a.getInstance().logger,this.dataReport=d.a.getInstance().dataReport,this.protobuf=d.a.getInstance().protobuf,this.settings=d.a.getInstance().settings,this.connections=[],this.onmessage=function(a){var m=((a=new Uint8Array(a.data))[2]<<8)+a[3],f=i.protobuf.decodeAccesshubResponse(m,a);switch(m){case 21:i.handleAccesshubPCDownwardMessage(f);break;case 5:i.handleAccesshubHTTPResponse(f);break;case 27:i.handleAccesshubDispatchResponse(f);break;case 3:i.handleAccesshubCloseConnection(m,f);break;case 22:i.handleAccesshubRedirect(m,f);break;default:i.handleAccesshubLog(m,f)}},this.engineConfig=this.settings.getEngineConfig(s),this.urlKey="z_AccesshubURL_".concat(this.engineConfig.appID),d.a.getInstance().crypto.generateAppIDKey(this.engineConfig.appID)}},function(e,t,r){r.d(t,"a",function(){return v});var d=r(3),u=r(1),c=r(0),v=(g.prototype.create=function(y){var o=this;return this.close(),this.urls=y,this.urlIndex=0,this.retryCount=0,this.retryTotalTime=0,this.initDelayTask(),new Promise(function(n,s){o.createSocket(),o.bindSocketEvent(n,s)})},g.prototype.close=function(){this.socket&&(u.h?(this.socket.onMessage(function(){}),this.socket.onOpen(function(){}),this.socket.onClose(function(){}),this.socket.onError(function(){}),this.socket.close({code:1e3})):(this.socket.onmessage=null,this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.close(1e3)),this.socket=null)},g.prototype.destroy=function(){this.close(),this.logger=null,this.settings=null},g.prototype.send=function(y){this.socket&&(u.h?this.socket.send({data:y.buffer}):this.socket.send(y))},g.prototype.createSocket=function(){if(u.h)try{this.socket=u.k.connectSocket({url:this.urls[this.urlIndex]+"?zim"})}catch{}else try{this.socket=new WebSocket(this.urls[this.urlIndex]+"?zim"),this.socket.binaryType="arraybuffer"}catch{}},g.prototype.bindSocketEvent=function(y,o){function n(){var a={event:"onconnected",url:i.urls[i.urlIndex]};i.logger.warn([c.B.Connection],c.A.Reconnection,a),i.isConnecting=!1,i.retryCount=0,i.retryTotalTime=0,i.urlIndex=0,i.initDelayTask(),i.onconnected(!y),y&&y(),y=void 0}function s(a){!i.isConnecting&&i.socket&&(i.isConnecting=!0,i.reconnect(a,y,o))}var i=this;u.h?(this.socket.onMessage(this.onmessage),this.socket.onOpen(n),this.socket.onClose(s),this.socket.onError(s)):(this.socket.onmessage=this.onmessage,this.socket.onopen=n,this.socket.onclose=s,this.socket.onerror=s)},g.prototype.reconnect=function(y,o,n){var s,i=this,a=(this.close(),this.delayTaskList.shift());if(!a)return s={event:"ondisconnected",url:this.urls[this.urlIndex]},this.logger.warn([c.B.Connection],c.A.Reconnection,s),this.isConnecting=!1,this.retryCount=0,this.retryTotalTime=0,this.urlIndex=0,this.ondisconnected(!0),n&&n(),void(n=void 0);this.ondisconnected(!1),setTimeout(function(){i.isConnecting=!1,i.retryCount++,i.retryTotalTime+=a,i.urlIndex=(i.urlIndex+1)%i.urls.length;var m=i.urls[i.urlIndex],f={delay:a,count:i.retryCount,time:i.retryTotalTime,event:y,url:m};i.logger.warn([c.B.Connection],c.A.Reconnection,f),d.a.getInstance().dataReport.report("reconnect",{domain:m}),i.createSocket(),i.bindSocketEvent(o,n)},a)},g.prototype.initDelayTask=function(){for(var y=(s=this.settings.cloudSetting.login_config).login_retry_interval,o=s.login_retry_max_interval,n=s.login_retry_count,s=1e3+Math.floor(Math.random()*(y-1e3)),i=(this.delayTaskList=[s,y],s+y),a=n-1;1<a;a--)this.delayTaskList.push(y),i+=y;for(a=0;a<n&&!(i>=this.settings.connectionTimeout);a++){var m=Math.min(2*y,o);this.delayTaskList.push(m),i+=m}for(a=0;a<n&&!(i>=this.settings.connectionTimeout);a++)m=Math.min(4*y,o),this.delayTaskList.push(m),i+=m;for(a=0;a<n&&!(i>=this.settings.connectionTimeout);a++)m=Math.min(8*y,o),this.delayTaskList.push(m),i+=m;for(var f=this.delayTaskList[this.delayTaskList.length-1];i<this.settings.connectionTimeout;)i+=f,this.delayTaskList.push(f)},g);function g(){this.logger=d.a.getInstance().logger,this.settings=d.a.getInstance().settings,this.urls=[],this.urlIndex=0,this.isConnecting=!1,this.retryCount=0,this.retryTotalTime=0,this.delayTaskList=[]}},function(e,t,r){r.d(t,"a",function(){return s}),t=r(4);var d=r.n(t),u=r(68),c=r(69),v=r(70),g=r(3),y=r(1),o=r(0),n=function(){return(n=Object.assign||function(a){for(var m,f=1,b=arguments.length;f<b;f++)for(var C in m=arguments[f])Object.prototype.hasOwnProperty.call(m,C)&&(a[C]=m[C]);return a}).apply(this,arguments)},s=(i.prototype.destroy=function(){this.onLogout(),this.connMgr=null,this.groupMgr=null,this.eventBus=null,this.logger=null,this.engineConfig=null},i.prototype.queryUsersInfo=function(a,m){var f=this,b=a.filter(function(w){return!f.dbUserMap.has(w)}),C=a.length-b.length,_={time:Date.now(),config:m,queryCount:a.length,dbCount:C};return b.length!=0||m&&m.isQueryFromServer?(C=this.settings.queryTimeout,m={quey_user_id:m&&m.isQueryFromServer?a:b},this.connMgr.sendRequest(o.a.im_fetch_user_info,m,o.d.API,C,!0).then(function(w){var M,S=w.code||0,I=(S&&(I=Object(y.o)(o.m.CommonModuleIMServerError,w.message,w.code),_.error=I,S=I.code),w.result),x=(w=w.err_list,new Map),E=(w&&w.length&&w.forEach(function(R){x.set(R.user_id,{userID:R.user_id,reason:Object(y.p)(R.sub_code)})}),new Map),D=(I&&I.length&&(M=[],I.forEach(function(R){var q=R.user_id,A=Object(y.a)(R.user_name),j=Object(y.a)(R.avatar);R=Object(y.a)(R.extra),E.set(q,{baseInfo:{userID:q,userName:A},userAvatarUrl:j,extendedData:R}),A={userID:q,userName:A,userAvatarUrl:j,extendedData:R},(j=f.dbUserMap.get(q))&&Object.assign(j,A),M.push(j||A),f.dbUserMap.set(q,j||A),f.svrConvInfoMap.set(q,j||A)}),f.dbMgr.addUserList(M)),a.forEach(function(R){var q=f.dbUserMap.get(R);E.has(R)||(q?(E.set(R,{baseInfo:{userID:q.userID,userName:q.userName},userAvatarUrl:q.userAvatarUrl,extendedData:q.extendedData}),f.svrConvInfoMap.set(R,q)):x.has(R)||x.set(R,{userID:R,reason:S}))}),[]);return f.convMap.forEach(function(R){var q=f.svrConvInfoMap.get(R.convID);q&&R.convType==o.k.Peer&&D.push({user:q,dbConv:R.dbConv})}),f.emitConvInfo(D),_.time=Date.now()-_.time,_.count=E.size,f.logger.info([o.B.User],o.A.QueryUsersInfo,_),E.size==0?Promise.reject(_.error):{userList:Array.from(E.values()),errorUserList:Array.from(x.values())}})):(C=a.map(function(w){return{baseInfo:{userID:(w=f.dbUserMap.get(w)).userID,userName:w.userName},userAvatarUrl:w.userAvatarUrl,extendedData:w.extendedData}}),_.time=Date.now()-_.time,this.logger.info([o.B.User],o.A.QueryUsersInfo,_),Promise.resolve({userList:C,errorUserList:[]}))},i.prototype.queryList=function(a){var m=this;return a.count<1?Promise.resolve({conversationList:[]}):new Promise(function(f){var b={time:Date.now(),logined:m.isLogined};m.isLogined?m.mergeServerConvList(o.o.Biz,"apicall",function(C){C.sort(function(_,w){return w.orderKey-_.orderKey}),m.handleQueryConvsCallback(C,{log:b,config:a,resolve:f})}):m.queryConvsCallbackList.push({log:b,config:a,resolve:f})})},i.prototype.delete=function(a,m,f){var b=this,C=(f=Object.assign({isAlsoDeleteServerConversation:!0},f),this.getConversationKey(a,m)),_=(M=this.convMap.get(C))==null?void 0:M.dbConv;if(this.isDBConvInvalid(_))return M=Object(y.o)(o.m.ConversationModuleConversationDoesNotExist),this.logger.warn([o.B.Conversation],o.A.DeleteConversation,{error:M,convID:a,type:m,config:f}),Promise.reject(M);function w(I,x){var E=_.msgSeq||0;return _.state=o.j.Delete,_.sendMsgCount=0,_.deletedMsgCount=0,_.unreadMessageCount=0,_.readMsgSeq=E,_.msgSeq=0,b.dbConvMap.set(C,_),b.convMap.delete(C),x&&b.updateConvSeq(x),x="deleteLocalConv",b.dbMgr.addConversationList([_],x),b.onUnreadMessageCount(x),S.time=Date.now()-S.time,b.logger.info([o.B.Conversation],o.A.DeleteConversation,S),I||b.connMgr.sendRequest(o.a.im_usermail_update_read_seq,{conv_id:a,conv_type:m,read_seq:d.a.fromString(String(E))},o.d.SDK),Promise.resolve({conversationID:a,conversationType:m})}var M,S={time:Date.now(),convID:a,type:m,config:f};return f&&f.isAlsoDeleteServerConversation?(M={conv_id:a,conv_type:m,read_seq:d.a.fromString(String(_.msgSeq||0))},this.connMgr.sendRequest(o.a.im_usermail_del_conv,M).then(function(I){var x;return I.code?(x=Object(y.o)(o.m.ConversationModuleServerError,I.message,I.code),S.time=Date.now()-S.time,S.error=x,b.logger.warn([o.B.Conversation],o.A.DeleteConversation,S),Promise.reject(x)):w(!0,I.conv_list_seq)})):w()},i.prototype.setNotificationStatus=function(a,m,f){var b;return this.isDBConvInvalid((b=this.convMap.get(this.getConversationKey(m,f)))==null?void 0:b.dbConv)?(b=Object(y.o)(o.m.ConversationModuleConversationDoesNotExist),this.logger.warn([o.B.Conversation],o.A.SetConversationNotificationStatus,{error:b,convID:m,type:f,status:a}),Promise.reject(b)):this.createConversationInstance(m,f).setNotificationStatus(a)},i.prototype.clearUnreadMessageCount=function(a,m){var f;return this.isDBConvInvalid((f=this.convMap.get(this.getConversationKey(a,m)))==null?void 0:f.dbConv)?(f=Object(y.o)(o.m.ConversationModuleConversationDoesNotExist),this.logger.warn([o.B.Conversation],o.A.ClearConversationUnreadMessageCount,{error:f,convID:a,type:m}),Promise.reject(f)):this.createConversationInstance(a,m).clearUnreadMessageCount()},i.prototype.sendMessage=function(a,m,f,b,C){var _=this;if(f===o.k.Room&&!this.groupMgr.findRoom(m))return w=Object(y.o)(o.m.MessageModuleSendMessageFailed,"Room is not exist or the user is not in the room."),this.logger.warn([o.B.Conversation],o.A.SendMessage,{error:w,convID:m,type:f}),Promise.reject(w);var w=this.createConversationInstance(m,f);return w.isOnlineMsg(a.type)?w.sendCommand(a,b,C):w.sendMessage(a,b,C).then(function(M){return _.insertDBMessageExtra(M),M})},i.prototype.sendMediaMessage=function(a,m,f,b,C){var _=this;return f!==o.k.Room||this.groupMgr.findRoom(m)?this.createConversationInstance(m,f).sendMediaMessage(a,b,C).then(function(w){return _.insertDBMessageExtra(w),w}):(a=Object(y.o)(o.m.MessageModuleSendMessageFailed,"Room is not exist or the user is not in the room."),this.logger.warn([o.B.Conversation],o.A.SendMediaMessage,{error:a,convID:m,type:f}),Promise.reject(a))},i.prototype.deleteMessages=function(a,m,f,b){return this.createConversationInstance(m,f).deleteMessages(a,b)},i.prototype.deleteAllMessage=function(a,m,f){return this.createConversationInstance(a,m).deleteAllMessage(f)},i.prototype.queryHistoryMessage=function(a,m,f){var b=this,C=this.createConversationInstance(a,m);return m==o.k.Room?C.queryHistoryMessage(f).then(function(_){return(_=_.list).forEach(function(w){return Object.freeze(w)}),{conversationID:a,conversationType:m,messageList:_}}):C.queryHistoryMessage(f).then(function(_){var w=_.list;return _=_.log,b.mergeMessageReceiptStatus(C.dbConv,w,_.statusMap),C.dbConv.type==o.k.Group&&b.mergeGroupMessageStatus(C.dbConv,w),b.logger.info([o.B.Conversation],o.A.QueryHistoryMessage,_),{conversationID:a,conversationType:m,messageList:w}})},i.prototype.insertMessageToLocalDB=function(a,m,f,b){return a.senderUserID=b,this.createConversationInstance(m,f).insertMessageToLocalDB(a)},i.prototype.sendConversationMessageReceiptRead=function(a,m){var f;return this.isDBConvInvalid((f=this.convMap.get(this.getConversationKey(a,m)))==null?void 0:f.dbConv)?(f=Object(y.o)(o.m.ConversationModuleConversationDoesNotExist),this.logger.warn([o.B.Conversation],o.A.SendConversationMessageReceiptRead,{error:f,convID:a,type:m}),Promise.reject(f)):this.createConversationInstance(a,m).sendConversationMessageReceiptRead()},i.prototype.sendMessageReceiptsRead=function(a,m,f){return this.createConversationInstance(m,f).sendMessageReceiptsRead(a)},i.prototype.queryMessageReceiptsInfo=function(a,m,f){var b=this;return new Promise(function(C){b.mergeServerMsgExtraList(o.o.Biz,function(){var _=[],w=[],M=[],S=(a.forEach(function(I){var x,E,D,R,q,A;I.type!=o.J.Revoke&&I.receiptStatus&&I.conversationID===m&&I.conversationType===f?(x=I.conversationSeq,!(E=b.msgExtraMap.get(b.getMsgExtraKey(m,f,x)))||!E.revokeInfo&&E.receiptStatus?(D={conversationID:m,conversationType:f,messageID:I.messageID,status:I.receiptStatus,readMemberCount:0,unreadMemberCount:0},w.push(D),E&&!E.messageID&&(E.messageID=I.messageID,M.push(E)),I.sentStatus==o.H.Success&&(R=!1,f==o.k.Peer&&(q=((A=b.dbConvMap.get(b.getConversationKey(m,f)))==null?void 0:A.maxSendReceiptMsgSeq)||0,A=(A==null?void 0:A.maxRecvReceiptMsgSeq)||0,(I.direction==o.C.Send&&x<=q||I.direction==o.C.Receive&&x<=A)&&(R=!0,D.status=o.E.Done,D.readMemberCount=I.direction==o.C.Send?1:0)),R||(E&&!E.convReceipt?(D.status=E.receiptStatus,D.readMemberCount=Math.max(E.readMemberCount,0),D.unreadMemberCount=E.unreadMemberCount):(I.receiptStatus==o.E.Processing&&E&&(D.status=E.receiptStatus),f==o.k.Peer&&I.direction==o.C.Send&&(D.status==o.E.Done?D.readMemberCount=1:D.unreadMemberCount=1))))):_.push(I.messageID)):_.push(I.messageID)}),b.dbMgr.addMessageExtraList(M,"updateQueriedMessageID"),{convID:m,type:f,count:w.length,messageCount:a.length});b.logger.info([o.B.Conversation],o.A.QueryMessageReceiptsInfo,S),C({infos:w,errorMessageIDs:_})})})},i.prototype.revokeMessage=function(a,m){var f=this,b=o.a.im_c2c_msg_revoke;switch(a.conversationType){case o.k.Peer:b=o.a.im_c2c_msg_revoke;break;case o.k.Group:b=o.a.im_group_msg_revoke}var C={conv_id:a.conversationID,conv_msg_seq:a.conversationSeq,payload:Object(y.e)((m==null?void 0:m.revokeExtendedData)||"")},_=m==null?void 0:m.pushConfig;return _&&_.title&&_.content&&(C.offline_push={enable_push:1,title:String(_.title),content:String(_.content),payload:String(_.payload||"")}),this.connMgr.sendRequest(b,C).then(function(w){if(w.code)return M=Object(y.o)(o.m.CommonModuleIMServerError,w.message,w.code),f.logger.warn([o.B.Conversation],o.A.RevokeMessage,{error:M,message:a,config:m}),Promise.reject(M);var M=f.createRevokeMessage(a,{revokeType:o.L.TwoWay,revokeStatus:o.F.SelfRevoke,revokeTimestamp:+w.revoke_time.toString(),operatedUserID:f.engineConfig.userID,revokeExtendedData:(m==null?void 0:m.revokeExtendedData)||"",originalMessageType:a.type,originalTextMessageContent:a.message||""}),S=f.createConversationInstance(a.conversationID,a.conversationType),I=S.dbConv.lastMessage;return(I==null?void 0:I.messageID)==a.messageID&&(S.dbConv.lastMessage=n({},M),S.emitConversationChangedByMessage(M,o.h.Updated,"revokeMessage"),f.dbMgr.addConversationList([S.dbConv],"revokeMessage")),f.saveMessageRevokeExtra(M,w.statemsg_seq),f.logger.info([o.B.Conversation],o.A.RevokeMessage,M),{message:M}})},i.prototype.onPushMessage=function(a,m,f){var b,C,_=a.msg_status||0,w=(a.recv_msg_info.msg_info.msg_status=_,a.recv_msg_info.msg_info.conv_id),M=o.k.Peer,S=void 0;m==o.a.im_push_group_msg?M=o.k.Group:m==o.a.im_push_room_msg?(w=w||a.room_id,M=o.k.Room):m==o.a.im_push_c2c_msg&&(w=a.recv_msg_info.msg_svr_info.sender_user_id||w,S=Object(y.a)(a.recv_msg_info.msg_svr_info.sender_user_name)),w&&(0<f&&(this.msgPushEventMap.msg[M].count++,this.msgPushEventMap.msg[M].times.push(f)),b=this.createConversationInstance(w,M),M==o.k.Peer&&this.updateConvNameAndAvatar("onPushMessage",b.dbConv,S),C=a.recv_msg_info.msg_svr_info.conv_msg_seq,(C=this.msgExtraMap.get(this.getMsgExtraKey(w,M,+C.toString())))||M!=o.k.Peer||(C=this.msgExtraMap.get(this.getMsgExtraKey(w,M,0))),_&&C&&(C.receiptStatus=Object(y.n)(_).receipt,C.messageID||(C.messageID=a.recv_msg_info.msg_svr_info.msg_id.toString()),this.dbMgr.addMessageExtraList([C],"onPushMessage")),this.syncConvInfoWhenPushMessage(b,a.recv_msg_info,S)),this.logger.info([o.B.Conversation],o.A.PushCMD,{time:f,cmd:m,convID:w,type:M,name:S})},i.prototype.onPushCommand=function(a,m,f){var b="",C=o.k.Peer;m==o.a.im_push_group_command?(C=o.k.Group,b=a.recv_command_info.command_msg_info.conv_id):m==o.a.im_push_room_command?(C=o.k.Room,b=a.room_id):m==o.a.im_push_c2c_command&&(b=a.recv_command_info.command_svr_info.sender_user_id),b&&(0<f&&(this.msgPushEventMap.cmd[C].count++,this.msgPushEventMap.cmd[C].times.push(f)),this.emitReceiveMessage(b,C,a)),this.logger.info([o.B.Conversation],o.A.PushCMD,{time:f,cmd:m,convID:b,type:C})},i.prototype.onPushReadReceipt=function(a,m){var f=this,b=d.a.fromString("0"),C=a.PushItems.map(function(M){var S=f.createMessageReceiptExrta(f.mergeMsgReceiptDBConvMap,M,!0);return f.mergeMsgReceiptMap.set(S.id,S),S=M.receipt_seq,f.mergeMsgReceiptSeqs.add(S.toString()),S.greaterThan(b)&&(b=S),S}),_=(a=(C.sort(function(M,S){return M.lessThanOrEqual(S)?-1:1}),C[C.length-1].sub(C[0]).toNumber()==C.length-1),this.emitMessageReceipt(this.mergeMsgReceiptMap,!0),C[0]),w=d.a.fromString(this.settings.getDBUser().msgExtraSeq||"0");w.toString()=="0"||_.lessThanOrEqual(w)||_.sub(w).toNumber()==1&&a&&!this.mergeMsgReceiptTimer?(_="pushReadReceipt",this.updateMsgExtraSeq(b),this.dbMgr.addMessageExtraList(Array.from(this.mergeMsgReceiptMap.values()),_),this.dbMgr.addConversationList(Array.from(this.mergeMsgReceiptDBConvMap.values()),_),this.mergeMsgReceiptSeqs.clear(),this.mergeMsgReceiptMap.clear(),this.mergeMsgReceiptDBConvMap.clear(),a={dbSeq:w.toString(),seqs:C,action:"continuousMerge"},this.logger.info([o.B.Conversation],"mergeMsgReceipt",a)):this.mergeMsgReceiptTimer||(this.mergeMsgReceiptTimer=setTimeout(function(){var M=Array.from(f.mergeMsgReceiptSeqs.values()).map(function(x){return d.a.fromString(x)}),S=(M.sort(function(x,E){return x.lessThanOrEqual(E)?-1:1}),M[M.length-1].sub(M[0]).toNumber()==M.length-1),I={dbSeq:w.toString(),seqs:C,action:"waitingPush",time:f.settings.mailHBFetchConfig.msg_to,continuous:S,mergeSeqs:M};f.logger.info([o.B.Conversation],"mergeMsgReceipt",I),S?(f.mergeMsgReceiptTimer=0,I="pushReadReceipt",f.updateMsgExtraSeq(d.a.fromString(""+M[M.length-1])),f.dbMgr.addMessageExtraList(Array.from(f.mergeMsgReceiptMap.values()),I),f.dbMgr.addConversationList(Array.from(f.mergeMsgReceiptDBConvMap.values()),I)):f.mergeServerMsgExtraList(o.o.SDKPush),f.mergeMsgReceiptSeqs.clear(),f.mergeMsgReceiptMap.clear(),f.mergeMsgReceiptDBConvMap.clear()},this.settings.mailHBFetchConfig.list_to))},i.prototype.onPushMsgRevoke=function(a,m){var f=(b=a.recv_msg_info).msg_info,b=b.msg_svr_info,C=f.msg,_=b.sender_user_id,w=(M=Object(y.n)(a.msg_status)).receipt,M=M.revoke;_={type:o.J.Revoke,message:"",localMessageID:Object(y.f)(),messageID:b.msg_id.toString(),timestamp:+b.msg_time.toString(),conversationID:f.conv_id,conversationType:a.conv_type||0,senderUserID:_,sentStatus:o.H.Success,direction:_===this.engineConfig.userID?o.C.Send:o.C.Receive,conversationSeq:+b.conv_msg_seq.toString(),orderKey:0,isUserInserted:!1,receiptStatus:w,revokeType:C.revoke_type,revokeStatus:M,revokeTimestamp:+C.revoke_time.toString(),operatedUserID:C.user_id,revokeExtendedData:Object(y.a)(C.payload),originalMessageType:C.msg_type,originalTextMessageContent:""},w=(b=(_.clientSeq=+((w=(b=f.msg_client_info)==null?void 0:b.client_msg_seq)==null?void 0:w.toString())||0,_.clientSid=((C=(M=f.msg_client_info)==null?void 0:M.conv_sid)==null?void 0:C.toString())||"",this.createConversationInstance(_.conversationID,_.conversationType))).dbConv.lastMessage,_.orderKey=b.calculateMessageOrderKey(_),this.saveMessageRevokeExtra(_,a.statemsg_seq),this.eventBus.emit(o.n.MessageRevokeReceived,{messageList:[_]}),f="pushRevoke",1<=b.dbConv.unreadMessageCount&&_.conversationSeq>b.dbConv.readMsgSeq&&(++b.dbConv.deletedMsgCount,--b.dbConv.unreadMessageCount,this.onUnreadMessageCount(f)),(w==null?void 0:w.messageID)==_.messageID&&(b.dbConv.lastMessage=n({},_),b.emitConversationChangedByMessage(_,o.h.Updated,f),this.dbMgr.addConversationList([b.dbConv],f))},i.prototype.registerInnerEvent=function(){this.eventBus.add(o.n.InnerLogined,this.onLogined.bind(this)),this.eventBus.add(o.n.InnerLogout,this.onLogout.bind(this)),this.eventBus.add(o.n.InnerSyncGroups,this.onSyncGroups.bind(this)),this.eventBus.add(o.n.InnerJoinedGroup,this.onJoinedGroup.bind(this)),this.eventBus.add(o.n.InnerLeftGroup,this.onLeftGroup.bind(this)),this.eventBus.add(o.n.InnerSyncGroupInfo,this.onSyncGroupInfo.bind(this)),this.eventBus.add(o.n.InnerUnreadMessageCount,this.onUnreadMessageCount.bind(this)),this.eventBus.add(o.n.InnerConnectedRoom,this.onConnectedRoom.bind(this)),this.eventBus.add(o.n.InnerConnected,this.onConnected.bind(this)),this.eventBus.add(o.n.InnerDisConnected,this.onDisConnected.bind(this))},i.prototype.onSyncGroups=function(a,m){var f=this,b=(this.isLogined=!1,this.startHB(),this.msgPushTimer||(this.msgPushTimer=setInterval(this.reportMessagePushDelay.bind(this),6e4)),m?o.o.SDKHb:o.o.SDKLogin),C=m?"onConnected":"onLogined";this.mergeServerConvList(b,C,function(_,w){var M={_action_:!(f.isLogined=!0)},S=_.filter(function(x){var E,D,R,q=a.get(x.conversationID);return x.type==o.k.Group&&(q?(E=q.notificationStatus,D=q.groupName,R=q.groupAvatarUrl,q=q.tatalMemberCount,x.state=o.j.Normal,x.notificationStatus=E,typeof D=="string"&&(x.conversationName=D),typeof R=="string"&&(x.conversationAvatarUrl=R),x.conversationName&&x.conversationAvatarUrl||(M._action_=!0,M[x.conversationID]="status=".concat(E,",count=").concat(q))):(M._action_=!0,M[x.conversationID]="state:Disable",x.state=o.j.Disable,w.set(x.id,{event:o.h.Disabled,conversation:x})),!0)}),I="onSyncGroups";f.dbMgr.addConversationList(S,I),w.size&&(S=Array.from(w.values()).map(function(x){var E=x.conversation.conversationID;return E=f.createConversationInstance(E,x.conversation.type),{event:x.event,conversation:Object(y.m)(f.convKeys,E.dbConv)}}),f.eventBus.emit(o.n.ConversationChanged,{infoList:S},I)),f.onUnreadMessageCount(I,_),M._action_&&(f.logger.info([o.B.Conversation],I,M),M._action_=I,f.dataReport.report("/sdk/log",M)),_.sort(function(x,E){return E.orderKey-x.orderKey}),f.queryConvsCallbackList.forEach(function(x){return f.handleQueryConvsCallback(_,x)}),f.queryConvsCallbackList.length=0,_.slice(0,30).forEach(function(x){var E=f.createConversationInstance(x.conversationID,x.type);m&&x.type==o.k.Room||E.mergeServerMessageList(b,C)})})},i.prototype.onLogined=function(a,m,f){var b=this;a.forEach(function(C){return b.dbUserMap.set(C.userID,C)}),m.forEach(function(C){return b.dbConvMap.set(C.id,C)}),f.forEach(function(C){return b.msgExtraMap.set(C.id,C)}),setTimeout(function(){b.mergeServerMsgExtraList(o.o.SDKLogin);var C=d.a.fromString(b.settings.getDBUser().c2cMsgStateSeq||"0");b.mergeServerMsgStateList(o.o.SDKLogin,C)},1e3)},i.prototype.onLogout=function(){this.convMap.forEach(function(a){return a.destroy()}),this.convMap.clear(),this.dbConvMap.clear(),this.dbUserMap.clear(),this.svrConvInfoMap.clear(),this.msgExtraMap.clear(),this.msgReceiptChangedMap.clear(),this.stopHB(),this.msgPushTimer&&clearInterval(this.msgPushTimer),this.msgPushTimer=0,this.isLogined=!1},i.prototype.onJoinedGroup=function(a,m,f,b){var C="onJoinedGroup";(a=this.createConversationInstance(a,o.k.Group)).dbConv.state==o.j.Disable&&(a.dbConv.state=o.j.Normal),this.updateConvNameAndAvatar(C,a.dbConv,m,f),b!=o.s.Created&&a.mergeServerMessageList(o.o.SDKHb,C,!0)},i.prototype.onLeftGroup=function(a){var m,f=this.createConversationInstance(a,o.k.Group);f.dbConv.maxOrderKey&&(m=f.dbConv.msgSeq||f.dbConv.readMsgSeq,f.dbConv.state!=o.j.Delete&&(f.dbConv.state=o.j.Disable,this.connMgr.sendRequest(o.a.im_usermail_update_read_seq,{conv_id:a,conv_type:o.k.Group,read_seq:d.a.fromString(""+m)},o.d.SDK)),f.dbConv.sendMsgCount=0,f.dbConv.deletedMsgCount=0,f.dbConv.unreadMessageCount=0,f.dbConv.readMsgSeq=m,this.dbConvMap.set(f.dbConv.id,f.dbConv),this.dbMgr.addConversationList([f.dbConv],a="onLeftGroup"),m={infoList:[{event:o.h.Disabled,conversation:Object(y.m)(this.convKeys,f.dbConv)}]},this.eventBus.emit(o.n.ConversationChanged,m,a),this.onUnreadMessageCount(a))},i.prototype.onSyncGroupInfo=function(a,m,f){var b=this.createConversationInstance(a,o.k.Group);this.updateConvNameAndAvatar("onSyncGroupInfo",b.dbConv,m,f),a={userID:a,userName:m,userAvatarUrl:f},this.emitConvInfo([{user:a,dbConv:b.dbConv}])},i.prototype.syncConvInfoWhenPushMessage=function(a,m,f){var b,C=this,_=a.dbConv,w=_.conversationID;_.type==o.k.Peer?this.svrConvInfoMap.get(w)||this.dbUserMap.has(w)||_.maxOrderKey&&_.state!=o.j.Delete?(b=this.dbUserMap.get(w),typeof f=="string"&&b&&b.userName!=f&&(b.userName=f,this.dbMgr.setUser(b)),a.onPushMessage(m)):(f=this.settings.queryTimeout,this.connMgr.sendRequest(o.a.im_fetch_user_info,{_ev_:"onPushMessage",quey_user_id:[w]},o.d.SDK,f,!0).then(function(M){var S,I;(M=M.result&&M.result[0])&&(S=Object(y.a)(M.user_name),M=Object(y.a)(M.avatar),_.conversationName=S,_.conversationAvatarUrl=M,C.dbMgr.addConversationList([_],"onSyncConvInfo"),(I=C.dbUserMap.get(w)||{userID:w,userName:S,userAvatarUrl:M}).userName=S,I.userAvatarUrl=M,C.dbUserMap.set(w,I),C.dbMgr.setUser(I),C.emitConvInfo([{user:I,dbConv:_}])),a.onPushMessage(m)})):a.onPushMessage(m)},i.prototype.onUnreadMessageCount=function(a,m){var f=this,b=o.i.DoNotDisturb,C=0;m?m.forEach(function(_){_.notificationStatus!=b&&(C+=_.unreadMessageCount)}):this.convMap.forEach(function(_){_.dbConv.notificationStatus!=b&&f.filterValidConv(_.dbConv)&&(C+=_.dbConv.unreadMessageCount)}),m={totalUnreadMessageCount:C},this.eventBus.emit(o.n.ConversationTotalUnreadMessageCountUpdated,m,a)},i.prototype.onConnectedRoom=function(a){(a=this.convMap.get(this.getConversationKey(a,o.k.Room)))&&(this.setAssociatedGroup(a,a.convID,a.convType),a.mergeServerMessageList(o.o.SDKHb,"onConnected"))},i.prototype.onConnected=function(){this.startHB()},i.prototype.onDisConnected=function(){this.stopHB()},i.prototype.getConversationKey=function(a,m){return"".concat(this.engineConfig.userID).concat(m).concat(a)},i.prototype.getMsgExtraKey=function(a,m,f){return"".concat(this.engineConfig.userID).concat(m).concat(a).concat(f||"")},i.prototype.getDBConversation=function(a,m,f){return m=this.dbConvMap.get(a)||{id:a,ownerID:this.engineConfig.userID,conversationID:m,type:f,conversationName:"",conversationAvatarUrl:"",state:o.j.Normal,minSeq:0,maxSeq:0,minOrderKey:0,maxOrderKey:0,unreadMessageCount:0,msgSeq:0,readMsgSeq:0,sendMsgCount:0,deletedMsgCount:0,notificationStatus:o.i.Notify,orderKey:0,deletedMsgMaxSeq:0,deletedMsgSeqs:[],maxSendReceiptMsgSeq:0,maxRecvReceiptMsgSeq:0,minStatemsgSeq:"0",maxStatemsgSeq:"0"},this.dbConvMap.set(a,m),m},i.prototype.initDBConversationFields=function(a,m){Object.assign(a,{conversationName:"",conversationAvatarUrl:"",minSeq:0,maxSeq:0,minOrderKey:0,maxOrderKey:m*o.g.MESSAGE_SEQ_MULTIPLIER,notificationStatus:o.i.Notify,deletedMsgMaxSeq:0,deletedMsgSeqs:[]})},i.prototype.createConversationInstance=function(a,m){var f=this.getConversationKey(a,m),b=this.convMap.get(f);return b||(b=new(m===o.k.Peer?u:m===o.k.Group?c:v).a(a,this.engineConfig,this.eventBus,this.dbMgr,this.connMgr),this.convMap.set(f,b),f=this.getDBConversation(f,a,m),m===o.k.Peer&&this.engineConfig.userID===a&&(f.state=o.j.Disable,f.conversationName=this.engineConfig.userName,f.conversationAvatarUrl=this.engineConfig.userAvatarUrl),b.setDBConv(f)),b.setDBUser(this.dbUserMap.get(a)),this.setAssociatedGroup(b,a,m),this.updateConvNameAndAvatar("createConversationInstance",b.dbConv),b},i.prototype.startHB=function(){var a=this,m=this.settings.mailHBFetchConfig.usermail_hb_interval;!m||m<0||(this.stopHB(),this.hbLog=!0,this.hbTimer=setInterval(function(){var f={conv_sid:a.localConvSeq};a.connMgr.sendRequestWithHeartbeat(o.a.im_usermail_hb,f,a.hbLog,m).then(function(b){if(a.hbLog=!1,!a.settings||b.code==1)return a.stopHB();if(b.code)return b.code==o.m.NetworkModuleNetworkError&&a.hbTimeoutCount++,b.timeoutCount=a.hbTimeoutCount,(a.hbTimeoutCount>=a.settings.hbTimeoutMaxCount||a.settings.needReloginCodeList.indexOf(b.code)!=-1)&&a.stopHB(),void a.logger.warn([o.B.Conversation],"usermailHB",b);a.updateSettings(b),a.mergeServerMsgExtraList(o.o.SDKHb,void 0,b.extra_msg_list_seq);var C=d.a.fromString(a.settings.getDBUser().c2cMsgStateSeq||"0");b.c2c_statemsg_seq&&C.toString()!="0"&&C.lessThan(b.c2c_statemsg_seq)&&a.mergeServerMsgStateList(o.o.SDKHb,C)})},m),this.logger.info([o.B.Conversation],"usermailHB","start "+m))},i.prototype.stopHB=function(){this.hbTimer&&clearInterval(this.hbTimer),this.hbTimeoutCount=0,this.hbTimer=0},i.prototype.reportMessagePushDelay=function(){var a=!1,m={};this.msgPushEventMap.msg.forEach(function(f){var b,C,_,w=f.name,M=f.count;f=f.times,0<M&&(a=!0,C=f[b=0],_=0,f.forEach(function(S){b+=S,S<C&&(C=S),_<S&&(_=S)}),m[w+"_msg_count"]=M,m[w+"_msg_ave_time_consumed"]=Math.floor(b/M),m[w+"_msg_max_time_consumed"]=_,m[w+"_msg_min_time_consumed"]=C)}),this.msgPushEventMap.cmd.forEach(function(f){var b,C,_,w=f.name,M=f.count;f=f.times,0<M&&(a=!0,C=f[b=0],_=0,f.forEach(function(S){b+=S,S<C&&(C=S),_<S&&(_=S)}),m[w+"_cmd_count"]=M,m[w+"_cmd_ave_time_consumed"]=Math.floor(b/M),m[w+"_cmd_max_time_consumed"]=_,m[w+"_cmd_min_time_consumed"]=C)}),a&&this.dataReport.report("/sdk/msg/push_delay",m),this.msgPushEventMap.msg.forEach(function(f){f.count=0,f.times.length=0}),this.msgPushEventMap.cmd.forEach(function(f){f.count=0,f.times.length=0})},i.prototype.updateSettings=function(a){var m=a.c2c_msg_seq,f=a.conv_list_seq,b=a.group_list_seq;a=function(C,_){var w={};for(S in C)Object.prototype.hasOwnProperty.call(C,S)&&_.indexOf(S)<0&&(w[S]=C[S]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,S=Object.getOwnPropertySymbols(C);M<S.length;M++)_.indexOf(S[M])<0&&Object.prototype.propertyIsEnumerable.call(C,S[M])&&(w[S[M]]=C[S[M]]);return w}(a,["c2c_msg_seq","conv_list_seq","group_list_seq"]),Object.assign(this.settings.mailHBFetchConfig,a),m&&(this.settings.mailHBFetchConfig.c2c_msg_seq=m),f&&(this.settings.mailHBFetchConfig.conv_list_seq=f),b&&(this.settings.mailHBFetchConfig.group_list_seq=b)},i.prototype.emitConvInfo=function(a){var m=this,f=[],b=[];a.forEach(function(C){var _,w,M=C.user;(C=C.dbConv)&&C.state==o.j.Normal&&(_=!1,w=M.userName,M=M.userAvatarUrl,typeof w=="string"&&C.conversationName!=w&&(_=!0,C.conversationName=w,f.push(C)),typeof M=="string"&&C.conversationAvatarUrl!=M&&(_=!0,C.conversationAvatarUrl=M),_&&(f.push(C),C.maxOrderKey&&b.push({event:o.h.Updated,conversation:Object(y.m)(m.convKeys,C)})))}),a="onSyncConvInfo",this.dbMgr.addConversationList(f,a),b.length&&this.eventBus.emit(o.n.ConversationChanged,{infoList:b},a)},i.prototype.emitReceiveMessage=function(a,m,f){f=m===o.k.Room?this.transform2RoomCommand(a,m,f.msg_info):this.transform2Command(a,m,f.recv_command_info),m=m===o.k.Peer?o.n.ReceivePeerMessage:m===o.k.Group?o.n.ReceiveGroupMessage:o.n.ReceiveRoomMessage,this.eventBus.emit(m,{messageList:[f],fromConversationID:a})},i.prototype.emitMessageReceipt=function(a,m){var f,b,C=this,_=new Map,w=[],M=[];a.forEach(function(S){var I,x;S.receiptStatus&&S.readMemberCount!=-1&&!S.revokeInfo&&((S.convReceipt?w:M).push(S),S.messageID||(I=S.conversationType+S.conversationID,(x=_.get(I)||{convID:S.conversationID,convType:S.conversationType,seqs:new Set}).seqs.add(S.conversationSeq),_.set(I,x)))}),_.size?(f=[],this.fetchSelfReceiptMsg(Array.from(_.values())).then(function(S){var I;w.length&&(w=w.filter(function(x){var E=C.getMsgExtraKey(x.conversationID,x.conversationType,x.conversationSeq);return(E=S.get(E))&&(x.messageID=E.messageID,f.push(x)),x.messageID}),(I=C.mapMessageExtra2ReceiptInfo(w,m)).length&&C.eventBus.emit(o.n.ConversationMessageReceiptChanged,{infos:I})),M.length&&(M=M.filter(function(x){var E=C.getMsgExtraKey(x.conversationID,x.conversationType,x.conversationSeq);return(E=S.get(E))&&(x.messageID=E.messageID,f.push(x)),x.messageID}),(I=C.mapMessageExtra2ReceiptInfo(M,m)).length&&C.eventBus.emit(o.n.MessageReceiptChanged,{infos:I})),C.dbMgr.addMessageExtraList(f,"fetchSelfReceiptMsg")})):(w.length&&(b=this.mapMessageExtra2ReceiptInfo(w,m)).length&&this.eventBus.emit(o.n.ConversationMessageReceiptChanged,{infos:b}),M.length&&(b=this.mapMessageExtra2ReceiptInfo(M,m)).length&&this.eventBus.emit(o.n.MessageReceiptChanged,{infos:b}))},i.prototype.emitMessageRevoke=function(a){var m,f=this,b=new Map;a.forEach(function(C){var _,w=C.revokeInfo?JSON.parse(C.revokeInfo):null;w&&w.operatedUserID!=f.engineConfig.userID&&(w=C.conversationType+C.conversationID,(_=b.get(w)||{convID:C.conversationID,convType:C.conversationType,seqs:new Set}).seqs.add(C.conversationSeq),b.set(w,_))}),b.size&&(m=[],this.fetchSelfReceiptMsg(Array.from(b.values())).then(function(C){a.forEach(function(_){var w,M=f.getMsgExtraKey(_.conversationID,_.conversationType,_.conversationSeq);(M=C.get(M))&&M.type!==o.J.Revoke&&(_=JSON.parse(_.revokeInfo),_=f.createRevokeMessage(M,_),1<=(w=f.createConversationInstance(_.conversationID,_.conversationType)).dbConv.unreadMessageCount&&M.conversationSeq>w.dbConv.readMsgSeq&&(++w.dbConv.deletedMsgCount,--w.dbConv.unreadMessageCount),m.push(_))})}),0<m.length&&(this.eventBus.emit(o.n.MessageRevokeReceived,{messageList:m}),this.onUnreadMessageCount("emitMessageRevoke")))},i.prototype.mapMessageExtra2ReceiptInfo=function(a,m){var f=this,b=[];return a.forEach(function(C){var _=C.messageID+C.receiptSeq;m&&f.msgReceiptChangedMap.set(_,!0),!m&&f.msgReceiptChangedMap.get(_)||b.push({conversationID:C.conversationID,conversationType:C.conversationType,messageID:C.messageID,status:C.receiptStatus,readMemberCount:Math.max(C.readMemberCount,0),unreadMemberCount:C.unreadMemberCount})}),b},i.prototype.fetchSelfReceiptMsg=function(a){var m=this;return a=a.map(function(f){return m.createConversationInstance(f.convID,f.convType).fetchSelfReceiptMsg(Array.from(f.seqs))}),Promise.all(a).then(function(f){var b=new Map;return f.forEach(function(C){C.forEach(function(_,w){b.set(m.getMsgExtraKey(_.conversationID,_.conversationType,w),_)})}),b})},i.prototype.handleQueryConvsCallback=function(a,m){var f,b=this,C=m.log,_=m.config,w=(m=m.resolve,a.length),M=_.count,S=0,I=((I=_.nextConversation)&&I.conversationID&&(f=this.getConversationKey(I.conversationID,I.type),S=a.findIndex(function(D){return D.id==f})+1),Math.floor(S+M)),x=(a=a.slice(S,I),{}),E=[];a.forEach(function(D){x[D.conversationID]=[D.minSeq,D.maxSeq,D.msgSeq].join(),E.push(Object(y.m)(b.convKeys,D)),b.createConversationInstance(D.conversationID,D.type)}),Object.assign(C,{time:Date.now()-C.time,start:S,end:I,total:w,count:a.length,config:_,flag:x}),this.logger.info([o.B.Conversation],o.A.QueryConversationList,C),m({conversationList:E})},i.prototype.mergeServerConvList=function(a,m,f){var b,C,_,w,M=this,S=d.a.fromString(this.settings.getDBUser().convSeq||"0"),I=this.settings.mailHBFetchConfig.conv_list_seq,x=this.settings.mailHBFetchConfig.fetch_conv_list,E={time:Date.now(),dbSeq:S,hbSeq:I,how:a,action:m,fetch:x};!x||!S.lessThan(I)&&Number(S.toString())?f&&(m=Array.from(this.dbConvMap.values()).filter(this.filterValidConv),E.logined=this.isLogined,E.time=Date.now()-E.time,E.count=m.length,this.logger.info([o.B.Conversation],"mergeServerConvList",E),f(m,new Map)):(b=1,C=++this.mergeListSeqs.conv,_=new Map,w=function(D){var R;D.list.forEach(function(q){q.type!=o.k.Room&&_.set(q.id,q)}),D.nextFlag&&M.engineConfig.token?M.fetchServerPageConv(D.nextFlag,++b,a,1).then(w):(D.degree=b,D.svrCount=_.size,R=M.dataReport.endNetworkRequest(D.cmd,C,D),M.updateConvSeq(D.max||M.settings.mailHBFetchConfig.conv_list_seq),E.logined=M.isLogined,E.dataReport=R,M.saveConversationList(_,f,E))},this.fetchServerPageConv(S,b,a,0).then(w))},i.prototype.mergeServerMsgExtraList=function(a,m,f){var b,C,_,w,M,S,I,x,E=this,D=d.a.fromString(this.settings.getDBUser().msgExtraSeq||"0");(a!=o.o.SDKHb||a==o.o.SDKHb&&f&&D.lessThan(f)&&D.toString()!="0")&&(b=1,C=D,_=0,w=++this.mergeListSeqs.msgExtra,M=new Map,S=new Map,I={time:Date.now(),dbSeq:D,hbSeq:f,how:a},x=function(R){R.list||(R.list=[]);var q,A=R.fetch_end?0:R.next_list_seq;A&&(C=A),_+=R.list.length,R.list.forEach(function(j){var H;j.type==1&&(H=E.createMessageReceiptExrta(S,j,!1),M.set(H.id,H)),!A&&j.list_seq.greaterThan(C)&&(C=j.list_seq)}),A&&E.engineConfig.token?E.fetchServerPageMsgExtra(A,++b,a).then(x):(R.degree=b,R.svrCount=_,R=E.dataReport.endNetworkRequest(o.a.im_extra_msglist,w,R),q="mergeMsgExtra"+a,E.updateMsgExtraSeq(C),E.dbMgr.addMessageExtraList(Array.from(M.values()),q),E.dbMgr.addConversationList(Array.from(S.values()),q),E.emitMessageReceipt(M),I.time=Date.now()-I.time,I.dataReport=R,E.logger.info([o.B.Conversation],"mergeServerMsgExtraList",I),m&&m())},this.fetchServerPageMsgExtra(D,b,a).then(x))},i.prototype.mergeServerMsgStateList=function(a,m,f,b){var C=this,_=1,w=m,M=0,S=++this.mergeListSeqs.msgState,I=new Map,x={time:Date.now(),dbSeq:m,how:a},E=function(D){D.statemsg_list||(D.statemsg_list=[]);var R,q=D.fetch_end?0:D.next_statemsg_seq;q&&(w=q),M+=D.statemsg_list.length,D.statemsg_list.forEach(function(A){var j=(W=Object(y.n)(A.msg_status)).revoke,H=j&&A.content&&A.revoke_time,W=H?o.E.None:W.receipt,X=+A.conv_msg_seq.toString(),ee=C.getMsgExtraKey(A.conv_id,A.conv_type,X),ae=C.msgExtraMap.get(ee);(ae=ae||!H&&W!=o.E.Expired&&W!=o.E.Failed?ae:{id:ee,ownerID:C.engineConfig.userID,conversationID:A.conv_id,conversationType:A.conv_type,conversationSeq:X,messageID:"",receiptStatus:W,receiptSeq:"0",receiptMemberListSeq:0,convReceipt:0,readMemberCount:0,unreadMemberCount:0,memberSeqs:{}})&&(H?(ae.receiptStatus=o.E.None,X=A.content,ae.revokeInfo=JSON.stringify({revokeType:X.revoke_type,revokeStatus:j,revokeTimestamp:+X.revoke_time.toString(),operatedUserID:X.user_id,revokeExtendedData:Object(y.a)(X.payload),originalMessageType:X.msg_type,originalTextMessageContent:""})):W&&(ae.receiptStatus=ae.readMemberCount==-1?o.E.Done:W),C.msgExtraMap.set(ee,ae),I.set(ee,ae)),!q&&A.statemsg_seq.greaterThan(w)&&(w=A.statemsg_seq)}),q&&C.engineConfig.token?C.fetchServerPageMsgState(q,++_,a,f).then(E):(D.degree=_,D.svrCount=M,D=C.dataReport.endNetworkRequest(D.cmd,S,D),R="mergeMsgState"+a,f?(f.minStatemsgSeq=w.toString(),f.maxStatemsgSeq=f.minStatemsgSeq,C.dbMgr.addConversationList([f],R)):(C.updateC2CMsgStateSeq(w),C.emitMessageRevoke(I)),C.dbMgr.addMessageExtraList(Array.from(I.values()),R),C.emitMessageReceipt(I),x.time=Date.now()-x.time,x.count=I.size,x.dataReport=D,C.logger.info([o.B.Conversation],"mergeServerMsgStateList",x),b&&b())};this.fetchServerPageMsgState(m,_,a,f).then(E)},i.prototype.fetchServerPageConv=function(a,m,f,b){var C=this,_=o.a.im_usermail_convlist;return a={conv_list_seq:a,count:100,full_pull:b,degree:m,how:f},b=f==o.o.Biz?o.d.API:o.d.SDK,m==1&&this.dataReport.beginNetworkRequest(_,this.mergeListSeqs.conv,a,b),this.connMgr.sendRequest(_,a,b,this.settings.queryTimeout,!0).then(function(w){if(w.code)return{max:0,list:[]};var M=w.conv_list_seq,S=w.max_list_seq,I=w.full_list,x=w.fetch_end,E=w.fetch_end||M&&S&&M.greaterThanOrEqual(S)?0:M,D={_action_:!1};return w=w.conv_list.map(function(R){var q=C.transform2DBConv(R),A=R.is_del,j=R.last_msg_del,H=R.last_msg;return!A&&!j&&q.orderKey||(D[R.conv_id]={orderKey:q.orderKey,is_del:A,last_msg_del:j,last_msg:H},D._action_=!0),q}),D._action_&&C.logger.info([o.B.Conversation],"fetchServerPageConv",D),{cmd:_,nextFlag:E,max:S,list:w,full_list:I,fetch_end:x,conv_list_seq:M}})},i.prototype.fetchServerPageMsgExtra=function(a,m,f){var b=o.a.im_extra_msglist;return a={list_seq:a,count:100,degree:m,how:f},m==1&&this.dataReport.beginNetworkRequest(b,this.mergeListSeqs.msgExtra,a,o.d.SDK),this.connMgr.sendRequest(b,a,o.d.SDK,this.settings.queryTimeout,!0)},i.prototype.fetchServerPageMsgState=function(a,m,f,b){a={statemsg_seq:a,count:100,degree:m,how:f};var C=(b&&(a.conv_id=b.conversationID,a.min_msg_seq=b.minSeq||0,a.max_msg_seq=b.maxSeq||0),b?o.a.im_group_msg_state_list:o.a.im_c2c_msg_state_list);return m==1&&this.dataReport.beginNetworkRequest(C,this.mergeListSeqs.msgState,a,o.d.SDK),this.connMgr.sendRequest(C,a,o.d.SDK,this.settings.queryTimeout,!0).then(function(_){return _.cmd=C,_})},i.prototype.createMessageReceiptExrta=function(a,m,f){var b=m.conv_id,C=m.conv_type||0,_=+m.conv_msg_seq.toString(),w=(f?m.receipt_seq:m.list_seq).toString(),M=(f?m:m.receipt_content).read_count||0,S=(f?m:m.receipt_content).unread_count||0,I=M==-1,x=(f=(f?m:m.receipt_content).is_conv_read,m=!1,this.getMsgExtraKey(b,C,f?0:_)),E=this.msgExtraMap.get(x);return E?E.receiptSeq&&!d.a.fromString(w).greaterThan(E.receiptSeq)||(m=!0,E.conversationSeq=_,E.receiptSeq=w,E.readMemberCount=M,E.unreadMemberCount=S):(E={id:x,ownerID:this.engineConfig.userID,conversationID:b,conversationType:C,conversationSeq:_,messageID:"",convReceipt:0,receiptStatus:o.E.Processing,receiptSeq:w,receiptMemberListSeq:0,readMemberCount:M,unreadMemberCount:S,memberSeqs:{}},m=!0,this.msgExtraMap.set(x,E)),m&&(E.convReceipt=f?1:0,(f||I||0<M&&S==0)&&(E.receiptStatus=o.E.Done),f&&(b=a.get(E.conversationID)||this.createConversationInstance(E.conversationID,E.conversationType).dbConv,C=E.conversationSeq,_=b.maxSendReceiptMsgSeq||0,w=b.maxRecvReceiptMsgSeq||0,I&&w<C?b.maxRecvReceiptMsgSeq=C:!I&&_<C&&(b.maxSendReceiptMsgSeq=C),a.set(E.conversationID,b))),E},i.prototype.saveMessageRevokeExtra=function(a,m){this.dbMgr.addMessageList(a.conversationID,a.conversationType,[a]),Object.freeze(a);var f,b,C=!1;a.conversationType==o.k.Peer?(b=d.a.fromString(this.settings.getDBUser().c2cMsgStateSeq||"0"),m.sub(b).toNumber()==1&&(this.updateC2CMsgStateSeq(m),C=!0)):a.conversationType==o.k.Group&&(b=this.createConversationInstance(a.conversationID,a.conversationType),f=d.a.fromString(b.dbConv.maxStatemsgSeq||"0"),m.greaterThan(f)&&(b.dbConv.maxStatemsgSeq=m.toString()),f=d.a.fromString(b.dbConv.minStatemsgSeq||"0"),m.sub(f).toNumber()==1&&(b.dbConv.minStatemsgSeq=m.toString(),C=!0)),C&&(f=this.getMsgExtraKey(a.conversationID,a.conversationType,a.conversationSeq),(b=this.msgExtraMap.get(f))||(b={id:f,ownerID:this.engineConfig.userID,conversationID:a.conversationID,conversationType:a.conversationType,conversationSeq:a.conversationSeq},this.msgExtraMap.set(f,b)),b.messageID=a.messageID,b.revokeInfo=JSON.stringify({revokeType:a.revokeType,revokeStatus:a.revokeStatus,revokeTimestamp:a.revokeTimestamp,operatedUserID:a.operatedUserID,revokeExtendedData:a.revokeExtendedData,originalMessageType:a.originalMessageType,originalTextMessageContent:a.originalTextMessageContent}),this.dbMgr.addMessageExtraList([b],"revokeMessage"))},i.prototype.createRevokeMessage=function(a,m){return n({type:o.J.Revoke,message:"",localMessageID:a.localMessageID,messageID:a.messageID,senderUserID:a.senderUserID,timestamp:a.timestamp,conversationID:a.conversationID,conversationType:a.conversationType,direction:a.direction,sentStatus:a.sentStatus,orderKey:a.orderKey,conversationSeq:a.conversationSeq,isUserInserted:a.isUserInserted,receiptStatus:o.E.None,clientSeq:a.clientSeq,clientSid:a.clientSid},m)},i.prototype.updateConvSeq=function(a){this.localConvSeq=a;var m=this.settings.getDBUser();m.convSeq!=a.toString()&&(m.convSeq=a.toString(),this.dbMgr.setUser(m))},i.prototype.updateMsgExtraSeq=function(a){var m=this.settings.getDBUser();a=a.toString(),m.msgExtraSeq!=a&&(m.msgExtraSeq=a,this.dbMgr.setUser(m))},i.prototype.updateC2CMsgStateSeq=function(a){var m=this.settings.getDBUser();m.c2cMsgStateSeq!=a.toString()&&(m.c2cMsgStateSeq=a.toString(),this.dbMgr.setUser(m))},i.prototype.updateConvNameAndAvatar=function(a,m,f,b){var C=((C=m.type==o.k.Peer?this.svrConvInfoMap.get(m.conversationID)||this.dbUserMap.get(m.conversationID):void 0)&&f===void 0&&(f=C.userName),C&&b===void 0&&(b=C.userAvatarUrl),!1);typeof f=="string"&&f!=m.conversationName&&(C=!0,m.conversationName=f),typeof b=="string"&&b!=m.conversationAvatarUrl&&(C=!0,m.conversationAvatarUrl=b),C&&m&&this.dbMgr.addConversationList([m],a)},i.prototype.setAssociatedGroup=function(a,m,f){f===o.k.Group?this.groupMgr.findGroup(m,!0):f===o.k.Room&&((f=this.groupMgr.findRoom(m))?a.setAssociatedGroup(f.sessionId,f.userSessionId,f.subRoomID):a.setAssociatedGroup())},i.prototype.saveConversationList=function(a,m,f){var b=this,C=[],_=[],w=new Map;if(a.forEach(function(D,R){var q,A,j,H=D.state==o.j.Delete,W=D.msgSeq||D.readMsgSeq,X=b.dbConvMap.get(R),ee=!X||!X.maxOrderKey;X?(q=D.orderKey,A=X.orderKey,j=X.msgSeq||X.readMsgSeq||0,ee&&b.initDBConversationFields(X,W),j<W&&(X.msgSeq=D.msgSeq,X.readMsgSeq=D.readMsgSeq,X.sendMsgCount=D.sendMsgCount,X.unreadMessageCount=D.unreadMessageCount,X.orderKey=D.orderKey,X.lastMessage=D.lastMessage,X.deletedMsgCount=D.deletedMsgCount,_.push(X),j=H||ee?o.h.Added:o.h.Updated,w.set(R,{event:j,conversation:X})),q<A&&(X.orderKey=A)):(b.initDBConversationFields(D,W),b.dbConvMap.set(R,D),_.push(D)),H||(D.type!=o.k.Peer||!ee&&b.dbUserMap.has(D.conversationID)||C.push(D.conversationID),0<W&&ee&&w.set(R,{event:o.h.Added,conversation:b.dbConvMap.get(R)}))}),C.length){for(var M="mergeServerConvList_syncpeer",S=[],I=0;I<C.length;I+=10){var x=this.connMgr.sendRequest(o.a.im_fetch_user_info,{_ev_:M,quey_user_id:C.slice(I,I+10)},o.d.SDK,this.settings.queryTimeout,!0);S.push(x)}Promise.all(S).then(function(D){var R=[];D.forEach(function(q){(q=q.result)&&q.length&&q.forEach(function(A){var j=b.getConversationKey(A.user_id,o.k.Peer),H=Object(y.a)(A.user_name),W=Object(y.a)(A.avatar);(j=((j=b.dbConvMap.get(j))&&(j.conversationName=H,j.conversationAvatarUrl=W),b.dbUserMap.get(A.user_id)||{userID:A.user_id,userName:H,userAvatarUrl:W})).userName=H,j.userAvatarUrl=W,R.push(j),b.dbUserMap.set(j.userID,j)})}),b.dbMgr.addUserList(R),b.dbMgr.addConversationList(_,M),D=Array.from(b.dbConvMap.values()).filter(b.filterValidConv),f.time=Date.now()-f.time,f.count=D.length,b.logger.info([o.B.Conversation],M,f),m(D,w)})}else{a="mergeServerConvList_sync";var E=(this.dbMgr.addConversationList(_,a),Array.from(this.dbConvMap.values()).filter(this.filterValidConv));f.time=Date.now()-f.time,f.count=E.length,this.logger.info([o.B.Conversation],a,f),m(E,w)}},i.prototype.mergeMessageReceiptStatus=function(a,m,f){var b=this,C=a.type==o.k.Peer,_=a.maxSendReceiptMsgSeq||0,w=a.maxRecvReceiptMsgSeq||0,M=[];C&&(f.sendSeq=_,f.recvSeq=w),m.forEach(function(S){var I,x;S.isUserInserted||S.sentStatus!=o.H.Success||S.type==o.J.Revoke||(I=S.conversationSeq,S.receiptStatus==o.E.Processing&&(C&&(S.direction==o.C.Send&&I<=_||S.direction==o.C.Receive&&I<=w)?(S.receiptStatus=o.E.Done,M.push(n({},S))):(x=b.getMsgExtraKey(a.conversationID,a.type,I),(x=(x=b.msgExtraMap.get(x))==null?void 0:x.receiptStatus)&&S.receiptStatus!=x&&(S.receiptStatus=x,M.push(n({},S))),f[I]=x))),Object.freeze(S)}),this.dbMgr.addMessageList(a.conversationID,a.type,M)},i.prototype.mergeGroupMessageStatus=function(a,m){var f=this,b=d.a.fromString(a.minStatemsgSeq||"0"),C=d.a.fromString(a.maxStatemsgSeq||"0");b.greaterThanOrEqual(C)&&C.toString()!="0"||this.mergeServerMsgStateList(o.o.Biz,b,a,function(){var _=[],w=[],M=new Map,S=[];m.forEach(function(I){var x,E,D,R;I.isUserInserted||I.sentStatus!=o.H.Success||(x=I.conversationSeq,(E=f.msgExtraMap.get(f.getMsgExtraKey(a.conversationID,a.type,x)))&&(E.messageID||(E.messageID=I.messageID,S.push(E)),D=null,!E.revokeInfo||I.revokeTimestamp&&(I.direction!=o.C.Send||I.originalMessageType!=o.J.Text||I.originalTextMessageContent)||(R=JSON.parse(E.revokeInfo),I.revokeTimestamp&&!R.originalTextMessageContent||(D=f.createRevokeMessage(I,R),w.push(D),M.set(x,D))),I.receiptStatus&&E.receiptStatus!=I.receiptStatus&&(R=E.revokeInfo?o.F.Unknown:E.receiptStatus,E.revokeInfo||_.push({conversationID:a.conversationID,conversationType:a.type,messageID:I.messageID,status:R,readMemberCount:Math.max(E.readMemberCount,0),unreadMemberCount:E.unreadMemberCount}),R!=I.receiptStatus&&((D=M.get(x)||n({},I)).receiptStatus=R,Object.isFrozen(I)||(I.receiptStatus=R),M.set(x,D)))))}),_.length&&f.eventBus.emit(o.n.MessageReceiptChanged,{infos:_}),w.length&&f.eventBus.emit(o.n.MessageRevokeReceived,{messageList:w}),f.dbMgr.addMessageExtraList(Array.from(S.values()),"mergerGroupMsgState"),f.dbMgr.addMessageList(a.conversationID,a.type,Array.from(M.values()))})},i.prototype.insertDBMessageExtra=function(a){var m,f;a.receiptInfo&&(m=a.message,m={id:f=this.getMsgExtraKey(m.conversationID,m.conversationType,m.conversationSeq),ownerID:this.engineConfig.userID,conversationID:m.conversationID,conversationType:m.conversationType,conversationSeq:m.conversationSeq,messageID:m.messageID,receiptStatus:m.receiptStatus,receiptSeq:a.receiptInfo.seq.toString(),receiptMemberListSeq:0,convReceipt:0,readMemberCount:0,unreadMemberCount:a.receiptInfo.count,memberSeqs:{}},this.msgExtraMap.set(f,m),this.dbMgr.addMessageExtraList([m],"sendMsgReceiptRsp"),f=d.a.fromString(this.settings.getDBUser().msgExtraSeq||"0"),a.receiptInfo.seq.sub(f).toNumber()==1&&this.updateMsgExtraSeq(m.receiptSeq)),delete a.receiptInfo},i.prototype.isDBConvInvalid=function(a){return!a||a.state==o.j.Delete||!a.maxOrderKey},i.prototype.filterValidConv=function(a){return a.state!=o.j.Delete&&!!a.maxOrderKey&&a.type!=o.k.Room&&typeof a.type=="number"},i.prototype.transform2DBConv=function(a){var m=a.conv_type||o.k.Peer,f=a.last_msg_del?void 0:this.transform2Message(a.last_msg,a.conv_id,m),b=+((b=a.conv_msg_seq)==null?void 0:b.toString())||0,C=+((C=a.read_seq)==null?void 0:C.toString())||0,_=+((_=a.send_count_after_read)==null?void 0:_.toString())||0,w=+((w=a.sub_read_count)==null?void 0:w.toString())||0,M=(f==null?void 0:f.timestamp)||+((M=a.update_time)==null?void 0:M.toString())||0,S=this.getConversationKey(a.conv_id,m),I=this.dbConvMap.get(S);return I&&I.readMsgSeq>C&&(C=I.readMsgSeq),S={id:S,ownerID:this.engineConfig.userID,conversationID:a.conv_id,type:m,msgSeq:b,readMsgSeq:C,sendMsgCount:_,unreadMessageCount:Math.max(b-C-_-w,0),deletedMsgCount:((I==null?void 0:I.deletedMsgCount)||0)+w,orderKey:M,lastMessage:f},m==o.k.Group&&a.statemsg_seq&&(S.maxStatemsgSeq=a.statemsg_seq.toString()),a.is_del?(S.state=o.j.Delete,I&&Object.assign(I,S)):S.state=(I==null?void 0:I.state)||o.j.Normal,S},i.prototype.transform2Message=function(a,m,f){var b,C,_;if(a&&a.msg_info&&a.msg_info.msg_type&&a.msg_svr_info)return b=a.msg_info,_=(a=a.msg_svr_info).sender_user_id,C={type:b.msg_type,messageID:(C=a.msg_id)==null?void 0:C.toString(),timestamp:+((C=a.msg_time)==null?void 0:C.toString())||0,conversationSeq:+((C=a.conv_msg_seq)==null?void 0:C.toString())||0,conversationID:m,conversationType:f,senderUserID:_,sentStatus:o.H.Success,direction:_===this.engineConfig.userID?o.C.Send:o.C.Receive,isUserInserted:!1,receiptStatus:o.E.None},this.protobuf.decodeMediaMsgBody(C,b.msg,a.version),b.has_receipt&&b.msg_type!=o.J.Revoke&&(_=(_=this.msgExtraMap.get(this.getMsgExtraKey(m,f,C.conversationSeq)))||f!=o.k.Peer?_:this.msgExtraMap.get(this.getMsgExtraKey(m,f,0)))&&(C.receiptStatus=_.receiptStatus),C},i.prototype.transform2Command=function(a,m,f){var b=f.command_msg_info,C=(f=f.command_svr_info).sender_user_id;return{type:b.msg_type,message:b.msg,localMessageID:Object(y.f)(),messageID:f.msg_id.toString(),timestamp:+f.msg_time.toString(),conversationID:a,conversationType:m,senderUserID:C,sentStatus:o.H.Success,direction:C===this.engineConfig.userID?o.C.Send:o.C.Receive}},i.prototype.transform2RoomCommand=function(a,m,f){var b=f.sender_user_id;return{localMessageID:Object(y.f)(),messageID:f.msg_id.toString(),timestamp:+f.msg_time.toString(),type:f.msg_type,message:f.msg_type==o.J.Barrage?Object(y.a)(f.msg):f.msg,conversationID:a,conversationType:m,senderUserID:b,sentStatus:o.H.Success,direction:b===this.engineConfig.userID?o.C.Send:o.C.Receive}},i);function i(a,m,f,b,C){this.logger=g.a.getInstance().logger,this.settings=g.a.getInstance().settings,this.dataReport=g.a.getInstance().dataReport,this.protobuf=g.a.getInstance().protobuf,this.localConvSeq=d.a.fromString("0"),this.msgReceiptChangedMap=new Map,this.mergeMsgReceiptSeqs=new Set,this.mergeMsgReceiptMap=new Map,this.mergeMsgReceiptDBConvMap=new Map,this.mergeMsgReceiptTimer=0,this.hbTimer=0,this.hbTimeoutCount=0,this.hbLog=!1,this.msgPushTimer=0,this.msgPushEventMap={msg:[{name:"peer",count:0,times:[]},{name:"room",count:0,times:[]},{name:"group",count:0,times:[]}],cmd:[{name:"peer",count:0,times:[]},{name:"room",count:0,times:[]},{name:"group",count:0,times:[]}]},this.mergeListSeqs={conv:0,msgExtra:0,msgState:0},this.isLogined=!1,this.queryConvsCallbackList=[],this.convKeys=["conversationID","conversationName","conversationAvatarUrl","type","unreadMessageCount","notificationStatus","orderKey","lastMessage"],this.mergeStateTimer=0,this.mergeStateSeqList=[],this.lastMergeStateTime=0,this.engineConfig=this.settings.getEngineConfig(a),this.convMap=new Map,this.dbConvMap=new Map,this.dbUserMap=new Map,this.svrConvInfoMap=new Map,this.msgExtraMap=new Map,C.msgExtraMap=this.msgExtraMap,this.eventBus=m,this.dbMgr=f,this.connMgr=b,this.groupMgr=C,this.registerInnerEvent()}},function(e,t,r){r.d(t,"a",function(){return g}),t=r(4);var d,u,c=r.n(t),v=(t=r(14),r(0)),g=((r=(d=function(o,n){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])})(o,n)},function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=o}d(o,n),o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}))(y,u=t.a),y.prototype.setAssociatedGroup=function(){},y.prototype.isFetchMessageWhenLogin=function(o){return!(o===v.o.SDKLogin&&!this.settings.mailHBFetchConfig.fetch_c2c_msg_count)},y.prototype.getSendMessageReqBody=function(){return{peer_user_id:this.convID}},y.prototype.getFetchMessageReqBody=function(o,n,s,i){var a=this.settings.mailHBFetchConfig.fetch_c2c_msg_count||100;return a<0&&(a=100),i=n===v.o.SDKLogin?Math.min(i||a,a):100,{conv_id:this.convID,conv_type:this.convType,conv_msg_seq:c.a.fromString(""+o),count:i,mode:s,login_fetch:s&&o==-1?1:0}},y.prototype.getFetchMessageRspBody=function(o){var n=+((n=o.conv_msg_seq)==null?void 0:n.toString())||0;return{fetch_end:o.fetch_end,next_seq:n,maxSeq:0,nextSeq:n,list:o.msgs}},y.prototype.getDelMessageReqBody=function(o){return{conv_id:this.convID,conv_type:this.convType,msg_ids:o.map(function(n){return c.a.fromString(n.messageID)})}},y.prototype.getDelAllMessageReqBody=function(){return{conv_id:this.convID,conv_type:this.convType}},y);function y(o,n,s,i,a){return(o=u.call(this,o,n,s,i,a)||this).dbConv.type=v.k.Peer,o.convType=v.k.Peer,o.convTypeMap={textMsgCmd:v.a.im_c2c_msg,commandMsgCmd:v.a.im_c2c_command,fetchMsgList:v.a.im_c2c_msglist,delMsg:v.a.im_c2c_del_msg,delAllMsg:v.a.im_c2c_del_all_msg,msgReadReceipt:v.a.im_c2c_msg_read_receipt},o}},function(e,t,r){r.d(t,"a",function(){return g}),t=r(4);var d,u,c=r.n(t),v=(t=r(14),r(0)),g=((r=(d=function(o,n){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])})(o,n)},function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=o}d(o,n),o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}))(y,u=t.a),y.prototype.setAssociatedGroup=function(){},y.prototype.isFetchMessageWhenLogin=function(o){return!(o===v.o.SDKLogin&&!this.settings.mailHBFetchConfig.fetch_group_msg_count)},y.prototype.getSendMessageReqBody=function(){return{peer_user_id:this.convID}},y.prototype.getFetchMessageReqBody=function(o,n,s,i){var a=this.settings.mailHBFetchConfig.fetch_group_msg_count||100;return a<0&&(a=100),i=n===v.o.SDKLogin?Math.min(i||a,a):100,{group_id:this.convID,conv_msg_seq:c.a.fromString(""+o),count:i,sort_type:s}},y.prototype.getFetchMessageRspBody=function(o){var n=+((n=o.max_conv_msg_seq)==null?void 0:n.toString())||0,s=+((s=o.next_conv_msg_seq)==null?void 0:s.toString())||0;return{fetch_end:o.fetch_end,next_seq:s,maxSeq:n,nextSeq:s,list:o.msgs}},y.prototype.getDelMessageReqBody=function(o){return{conv_id:this.convID,conv_msg_seq:o.map(function(n){return c.a.fromString(""+n.conversationSeq)})}},y.prototype.getDelAllMessageReqBody=function(){return{conv_id:this.convID}},y);function y(o,n,s,i,a){return(o=u.call(this,o,n,s,i,a)||this).dbConv.type=v.k.Group,o.convType=v.k.Group,o.convTypeMap={textMsgCmd:v.a.im_group_msg,commandMsgCmd:v.a.im_group_command,fetchMsgList:v.a.im_group_msglist,delMsg:v.a.im_group_del_msg,delAllMsg:v.a.im_group_del_all_msg,msgReadReceipt:v.a.im_group_msg_read_receipt},o}},function(e,t,r){r.d(t,"a",function(){return g}),t=r(4);var d,u,c=r.n(t),v=(t=r(14),r(0)),g=((r=(d=function(o,n){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])})(o,n)},function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=o}d(o,n),o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}))(y,u=t.a),y.prototype.setAssociatedGroup=function(o,n,s){this.roomSessionId=o,this.roomUserSessionId=n,this.subRoomID=s},y.prototype.isFetchMessageWhenLogin=function(o){return!(o===v.o.SDKLogin&&!this.settings.mailHBFetchConfig.fetch_room_msg_count)},y.prototype.getSendMessageReqBody=function(){return{room_id:this.convID,room_session_id:this.roomSessionId,room_user_session_id:this.roomUserSessionId,sub_room_id:this.subRoomID}},y.prototype.getFetchMessageReqBody=function(o,n,s,i){if(!this.roomSessionId)return null;var a=this.settings.mailHBFetchConfig.fetch_room_msg_count||100;return a<0&&(a=100),i=n===v.o.SDKLogin?Math.min(i||a,a):100,{room_id:this.convID,room_session_id:this.roomSessionId,room_user_session_id:this.roomUserSessionId,sub_room_id:this.subRoomID,conv_msg_seq:c.a.fromString(""+o),count:i,sort_type:s}},y.prototype.getFetchMessageRspBody=function(o){var n=+((n=o.max_conv_msg_seq)==null?void 0:n.toString())||0,s=+((s=o.next_conv_msg_seq)==null?void 0:s.toString())||0;return{fetch_end:o.fetch_end,next_seq:s,maxSeq:n,nextSeq:s,list:o.msgs}},y.prototype.getDelMessageReqBody=function(o){},y.prototype.getDelAllMessageReqBody=function(){},y);function y(o,n,s,i,a){return(o=u.call(this,o,n,s,i,a)||this).subRoomID="",o.dbConv.type=v.k.Room,o.convType=v.k.Room,o.convTypeMap={textMsgCmd:v.a.im_room_msg,commandMsgCmd:v.a.im_room_command,fetchMsgList:v.a.im_room_msglist,delMsg:v.a.im_group_del_msg,delAllMsg:v.a.im_group_del_all_msg,msgReadReceipt:v.a.im_group_msg_read_receipt},o}},function(e,t,r){r.d(t,"a",function(){return n}),t=r(4);var d=r.n(t),u=r(72),c=r(73),v=r(3),g=r(1),y=r(0),o=function(){return(o=Object.assign||function(i){for(var a,m=1,f=arguments.length;m<f;m++)for(var b in a=arguments[m])Object.prototype.hasOwnProperty.call(a,b)&&(i[b]=a[b]);return i}).apply(this,arguments)},n=(s.prototype.destroy=function(){this.onLogout(),this.connMgr=null,this.eventBus=null,this.logger=null,this.engineConfig=null},s.prototype.findRoom=function(i){return this.roomMap.get(i)},s.prototype.findGroup=function(i,a){return a&&this.createGroupInstance(i),this.groupMap.get(i)},s.prototype.clearRoomMessage=function(){this.dbMgr.clearRoomMessage(Array.from(new Set(this.roomIDs))),this.roomIDs.length=0},s.prototype.createRoom=function(i,a,m){return this.createRoomInstance(i.roomID).create(i.roomName,a,m)},s.prototype.joinRoom=function(i){return this.createRoomInstance(i).enter()},s.prototype.leaveRoom=function(i){var a=this,m=this.findRoom(i);return m?m.quit().then(function(){return a.clearRoomMessageByID(m.groupID,m.destroyDelay,a.dbMgr),a.roomMap.delete(i),{roomID:i}}):Promise.resolve({roomID:i})},s.prototype.queryRoomMemberList=function(i,a){var m=this.createNoRoomError(i,y.A.QueryRoomMemberList);return m?Promise.reject(m):this.findRoom(i).queryPageMember(a)},s.prototype.queryRoomAllAttributes=function(i){var a=this.createNoRoomError(i,y.A.QueryRoomAllAttributes);return a?Promise.reject(a):this.findRoom(i).queryRoomAllAttributes()},s.prototype.setRoomAttributes=function(i,a,m){var f=this.createNoRoomError(a,y.A.SetRoomAttributes);return f?Promise.reject(f):this.findRoom(a).setRoomAttributes(i,m)},s.prototype.deleteRoomAttributes=function(i,a,m){var f=this.createNoRoomError(a,y.A.DeleteRoomAttributes);return f?Promise.reject(f):this.findRoom(a).deleteRoomAttributes(i,m)},s.prototype.beginRoomAttributesBatchOperation=function(i,a){this.createRoomInstance(i).beginRoomAttributesBatchOperation(a)},s.prototype.endRoomAttributesBatchOperation=function(i){var a=this.createNoRoomError(i,y.A.EndRoomAttributesBatchOperation);return a?Promise.reject(a):this.findRoom(i).endRoomAttributesBatchOperation()},s.prototype.setRoomMembersAttributes=function(i,a,m,f){var b=this.createNoRoomError(m,y.A.SetRoomMembersAttributes);return b?Promise.reject(b):this.findRoom(m).setRoomMembersAttributes(i,a,f)},s.prototype.queryRoomMembersAttributes=function(i,a){var m=this.createNoRoomError(a,y.A.QueryRoomMembersAttributes);return m?Promise.reject(m):this.findRoom(a).queryRoomMembersAttributes(i)},s.prototype.queryRoomMemberAttributesList=function(i,a){var m=this.createNoRoomError(i,y.A.QueryRoomMemberAttributesList);return m?Promise.reject(m):this.findRoom(i).queryRoomMemberAttributesList(a)},s.prototype.queryRoomOnlineMemberCount=function(i){var a=this.createNoRoomError(i,y.A.QueryRoomOnlineMemberCount);return a?Promise.reject(a):this.findRoom(i).queryMemberCount()},s.prototype.onPushRoomKickout=function(i){var a=this.findRoom(i.room_id);a&&(a.onPushKickout(i),this.clearRoomMessageByID(a.groupID,a.destroyDelay,this.dbMgr),this.roomMap.delete(a.groupID))},s.prototype.onPushRoomEnter=function(i){var a=this.findRoom(i.room_id);a&&a.onPushEnter(i)},s.prototype.onPushRoomQuit=function(i){var a=this.findRoom(i.room_id);a&&a.onPushQuit(i)},s.prototype.onPushRoomAttributesModify=function(i){var a=this.findRoom(i.room_id);a&&a.onPushRoomAttributesModify(i)},s.prototype.onPushRoomUserAttributesModify=function(i){var a=this.findRoom(i.room_id);a&&a.onPushRoomUserAttributesModify(i)},s.prototype.createGroup=function(i,a,m){var f=this,b=String(i.groupID||"").trim()||Object(g.f)();return this.createGroupInstance(b).then(function(C){return C.createGroup(i,a,m).then(function(_){return f.groupMap.delete(b),f.groupDelIDMap.delete(b),f.groupDelIDMap.delete(C.groupID),f.groupMap.set(C.groupID,C),f.updateGroupSeq(C.dbGroup.groupSeq),f.eventBus.exec(y.n.InnerJoinedGroup,C.groupID,C.groupName,C.groupAvatarUrl,y.s.Created),_}).catch(function(_){var w;throw _&&_.code&&_.code!=y.m.GroupModuleGroupAlreadyExists&&(w=C.groupID,f.groupMap.delete(b),f.groupMap.delete(w),C.destroy()),_})})},s.prototype.joinGroup=function(i){var a=this;return this.createGroupInstance(i).then(function(m){return m.joinGroup().then(function(f){return a.groupDelIDMap.delete(i),a.updateGroupSeq(m.dbGroup.groupSeq),a.eventBus.exec(y.n.InnerJoinedGroup,m.groupID,m.groupName,m.groupAvatarUrl,y.s.Joined),f}).catch(function(f){throw f&&f.code&&f.code!=y.m.GroupModuleMemberIsAlreadyInTheGroup&&(a.groupMap.delete(i),m.destroy()),f})})},s.prototype.leaveGroup=function(i){return this.quitGroup(i,y.a.im_group_quit,y.A.LeaveGroup,y.m.GroupModuleLeaveGroupError)},s.prototype.dismissGroup=function(i){return this.quitGroup(i,y.a.im_group_destroy,y.A.DismissGroup,y.m.GroupModuleDismissGroupError)},s.prototype.queryGroupList=function(){var i=this;return new Promise(function(a){var m={time:Date.now(),logined:i.isLogined,count:0};i.isLogined?i.mergeServerGroupList(y.o.Biz,"apicall",function(f){return i.handleQueryGroupsCallback(f,{log:m,resolve:a})}):i.queryGroupsCallbackList.push({log:m,resolve:a})})},s.prototype.updateGroupName=function(i,a){return this.createGroupInstance(a).then(function(m){return m.updateGroupInfo(i||"",y.r.Name)})},s.prototype.updateGroupNotice=function(i,a){return this.createGroupInstance(a).then(function(m){return m.updateGroupInfo(i||"",y.r.Notice)})},s.prototype.updateGroupAvatarUrl=function(i,a){return this.createGroupInstance(a).then(function(m){return m.updateGroupAvatarUrl(i||"")})},s.prototype.queryGroupInfo=function(i){return this.createGroupInstance(i).then(function(a){return a.queryGroupInfo()})},s.prototype.setGroupAttributes=function(i,a){return this.createGroupInstance(a).then(function(m){return m.updateGroupAttributes(i)})},s.prototype.deleteGroupAttributes=function(i,a){return this.createGroupInstance(a).then(function(m){return m.updateGroupAttributes(i)})},s.prototype.queryGroupAttributes=function(i,a){return this.createGroupInstance(i).then(function(m){return m.queryGroupAttributes(a)})},s.prototype.setGroupMemberNickname=function(i,a,m){return this.createGroupInstance(m).then(function(f){return f.setGroupMemberInfo(a,i,y.v.Nickname)})},s.prototype.setGroupMemberRole=function(i,a,m){return this.createGroupInstance(m).then(function(f){return f.setGroupMemberInfo(a,i,y.v.Role)})},s.prototype.transferGroupOwner=function(i,a){return this.createGroupInstance(a).then(function(m){return m.transferGroupOwner(i)})},s.prototype.queryGroupMemberInfo=function(i,a){return this.createGroupInstance(a).then(function(m){return m.queryGroupMemberInfo(i)})},s.prototype.inviteUsersIntoGroup=function(i,a){return this.createGroupInstance(a).then(function(m){return m.inviteUsersIntoGroup(i)})},s.prototype.kickGroupMembers=function(i,a){return this.createGroupInstance(a).then(function(m){return m.kickGroupMembers(i)})},s.prototype.queryGroupMemberList=function(i,a){return this.createGroupInstance(i).then(function(m){return m.queryGroupMemberList(a)})},s.prototype.queryGroupMemberCount=function(i){return this.createGroupInstance(i).then(function(a){return a.queryGroupMemberCount()})},s.prototype.queryGroupMessageReceiptMemberList=function(i,a,m,f){var b="".concat(this.engineConfig.userID).concat(y.k.Group).concat(a).concat(i.conversationSeq),C=this.msgExtraMap.get(b);return C?C.messageID||(C.messageID=i.messageID):(C={id:b,ownerID:this.engineConfig.userID,conversationID:a,conversationType:y.k.Group,conversationSeq:i.conversationSeq,messageID:i.messageID,receiptStatus:i.receiptStatus,memberSeqs:{}},this.msgExtraMap.set(b,C)),this.createGroupInstance(a).then(function(_){return _.queryReceiptMemberList(i,C,m,f)})},s.prototype.onPushGroupCreate=function(i){var a=this;this.groupDelIDMap.delete(i.group_id),this.createGroupInstance(i.group_id,i.group_name).then(function(m){m.onPushGroupCreate(i),a.eventBus.exec(y.n.InnerJoinedGroup,m.groupID,m.groupName,m.groupAvatarUrl,y.s.Invited)})},s.prototype.onPushGroupMemberInvited=function(i){var a=this;this.groupDelIDMap.delete(i.group_id),this.createGroupInstance(i.group_id,i.group_name).then(function(m){m.onPushGroupMemberInvited(i),a.eventBus.exec(y.n.InnerJoinedGroup,m.groupID,m.groupName,m.groupAvatarUrl,y.s.Invited)})},s.prototype.onPushGroupDestroy=function(i,a){a=a===y.a.im_push_group_destroy?y.s.Dismissed:y.s.KickedOut,this.deleteGroup(i,a)},s.prototype.onPushGroupDataModify=function(i){this.groupDelIDMap.delete(i.group_id),this.createGroupInstance(i.group_id).then(function(a){a.onPushGroupDataModify(i)})},s.prototype.onPushGroupAttributesModify=function(i){this.groupDelIDMap.delete(i.group_id),this.createGroupInstance(i.group_id).then(function(a){a.onPushGroupAttributesModify(i)})},s.prototype.onPushGroupOwnerTransfer=function(i){this.groupDelIDMap.delete(i.group_id),this.createGroupInstance(i.group_id).then(function(a){a.onPushGroupOwnerTransfer(i)})},s.prototype.onPushGroupMemberChange=function(i){this.groupDelIDMap.delete(i.group_id),this.createGroupInstance(i.group_id).then(function(a){a.onPushGroupMemberChange(i)})},s.prototype.onLogined=function(){var i=this;this.isLogined=!1,this.mergeServerGroupList(y.o.SDKLogin,"onLogined",function(a){i.isLogined=!0,i.queryGroupsCallbackList.forEach(function(f){return i.handleQueryGroupsCallback(a,f)}),i.queryGroupsCallbackList.length=0;var m=new Map;a.forEach(function(f){return m.set(f.groupID,f)}),i.eventBus.exec(y.n.InnerSyncGroups,m,!1)})},s.prototype.onLogout=function(){var i=this;this.roomMap.forEach(function(a){i.clearRoomMessageByID(a.groupID,a.destroyDelay,i.dbMgr),a.destroy(!0)}),this.groupMap.forEach(function(a){return a.destroy()}),this.roomMap.clear(),this.groupMap.clear(),this.groupDelIDMap.clear(),this.roomIDs.length=0,this.isLogined=!1},s.prototype.onUpdateSelf=function(){this.groupMap.forEach(function(i){return i.onUpdateSelf()})},s.prototype.onConnected=function(){var i=this;this.mergeServerGroupList(y.o.SDKHb,"onConnected",function(a){var m=new Map;a.forEach(function(f){return m.set(f.groupID,f)}),i.eventBus.exec(y.n.InnerSyncGroups,m,!0)}),this.roomMap.forEach(function(a){return a.onConnected()}),this.groupMap.forEach(function(a){return a.onConnected()})},s.prototype.onDisConnected=function(){this.roomMap.forEach(function(i){return i.onDisConnected()})},s.prototype.handleQueryGroupsCallback=function(i,a){var m=this,f=a.log,b=a.resolve,C=[],_=[];i.forEach(function(w){m.groupDelIDMap.get(w.groupID)||(C.push({baseInfo:{groupID:w.groupID,groupName:w.groupName,groupAvatarUrl:w.groupAvatarUrl},notificationStatus:w.notificationStatus}),_.push(m.createGroupInstance(w.groupID)))}),Promise.all(_).then(function(){f.time=Date.now()-f.time,f.count=C.length,m.logger.info([y.B.Group],y.A.QueryGroupList,f),b({groupList:C})})},s.prototype.registerInnerEvent=function(){this.eventBus.add(y.n.InnerLogined,this.onLogined.bind(this)),this.eventBus.add(y.n.InnerLogout,this.onLogout.bind(this)),this.eventBus.add(y.n.InnerUpdateSelf,this.onUpdateSelf.bind(this)),this.eventBus.add(y.n.InnerConnected,this.onConnected.bind(this)),this.eventBus.add(y.n.InnerDisConnected,this.onDisConnected.bind(this))},s.prototype.createRoomInstance=function(i){var a=this.findRoom(i);return a||(a=new u.a(i,this.engineConfig,this.eventBus,this.dbMgr,this.connMgr),this.roomMap.set(i,a),this.roomIDs.every(function(m){return m!=i})&&this.roomIDs.push(i)),a},s.prototype.createGroupInstance=function(i,a){var m=this.groupMap.get(i);return m?Promise.resolve(m):(m=new c.a(i,this.engineConfig,this.eventBus,this.dbMgr,this.connMgr),a&&(m.groupName=a),this.groupMap.set(i,m),this.dbMgr.getGroup(i).then(function(f){return(f=o(o({},f),{groupID:i})).dataSeq||(f.dataSeq=0),f.attributeSeq||(f.attributeSeq=0),f.memberSeq||(f.memberSeq=0),f.groupSeq||(f.groupSeq="0"),m.setDBGroup(f),m}))},s.prototype.clearRoomMessageByID=function(i,a,m){var f=this;a?setTimeout(function(){var b=f.findRoom(i);b&&b.state!=y.O.Disconnected||m.clearRoomMessage([i])},1e3*a):m.clearRoomMessage([i])},s.prototype.deleteGroup=function(i,a){var m,f,b,C,_=i.group_id,w=this.findGroup(_);w&&(this.groupMap.delete(_),m=(C=i.op_user).user_id,f=C.user_name,b=C.group_nick_name,C=C.role,m={userID:m},f&&(m.userName=typeof f=="string"?f:Object(g.a)(f)),b&&(m.memberNickname=b),C&&(m.memberRole=C),f=o(o({},m),{operatedUserInfo:m}),b={groupID:_,state:y.x.Quit,event:a===y.s.KickedOut?y.u.KickedOut:y.u.Left,operatedInfo:f,userList:[o({},w.groupMember)]},this.eventBus.emit(y.n.GroupMemberStateChanged,b),C={state:y.z.Quit,event:a,operatedInfo:f,groupInfo:w.createGroupFullInfo()},this.eventBus.emit(y.n.GroupStateChanged,C),w.destroy()),this.dbMgr.deleteGroupList([_]),this.groupDelIDMap.set(_,!0),this.updateGroupSeq((m=i.conv_list_seq)==null?void 0:m.toString()),this.eventBus.exec(y.n.InnerLeftGroup,_)},s.prototype.quitGroup=function(i,a,m,f){var b=this,C={time:Date.now(),groupID:i};return this.connMgr.sendRequest(a,{group_id:i}).then(function(_){if(_.code)return w=Object(g.o)(f,_.message,_.code),C.time=Date.now()-C.time,C.error=w,b.logger.warn([y.B.Group],m,C),Promise.reject(w);_.group_id=i,_.op_user={user_id:b.engineConfig.userID,user_name:b.engineConfig.userName};var w=b.findGroup(i);return w&&(_.op_user.group_nick_name=w.groupMember.memberNickname,_.op_user.role=w.groupMember.memberRole),b.deleteGroup(_,a===y.a.im_group_destroy?y.s.Dismissed:y.s.Left),C.time=Date.now()-C.time,b.logger.info([y.B.Group],m,C),{groupID:i}})},s.prototype.fetchServerPageGroup=function(i,a,m,f){return i={cur_list_seq:i,count:100,full_pull:f,degree:a,how:m},f=m==y.o.Biz?y.d.API:y.d.SDK,a==1&&this.dataReport.beginNetworkRequest(y.a.im_group_list,this.mergeGroupListSeq,i,f),this.connMgr.sendRequest(y.a.im_group_list,i,f,this.settings.queryTimeout,!0).then(function(b){if(b.code)return{max:0,list:[]};var C=b.cur_list_seq,_=b.max_list_seq,w=b.fetch_end,M=b.full_list;return{nextFlag:b.fetch_end||C&&_&&C.greaterThanOrEqual(_)?0:C,max:_,list:b.groups,fetch_end:w,full_list:M,cur_list_seq:C}})},s.prototype.mergeServerGroupList=function(i,a,m){var f=this,b=d.a.fromString(String(this.settings.getDBUser().groupSeq)||"0"),C=this.settings.mailHBFetchConfig.group_list_seq,_=this.settings.mailHBFetchConfig.fetch_group_list,w={time:Date.now(),dbSeq:b,hbSeq:C,how:i,action:a,fetch:_};_&&(b.lessThan(C)||i!=y.o.SDKHb&&!Number(b.toString()))?this.dbMgr.getGroupList().then(function(M){var S=0,I=0,x=M.length,E=++f.mergeGroupListSeq,D=new Map,R=(M.forEach(function(A){return D.set(A.groupID,A)}),1),q=[];f.fetchServerPageGroup(b,R,i,0).then(function A(j){var H;S+=j.list.length,j.list.forEach(function(W){var X,ee,ae,N,k,L,$=(B=W.info).group_id,B=B.group_name,G=Object(g.a)(W.info.group_avatar);W.type?(I++,f.groupDelIDMap.set($,!0),D.has($)&&(D.delete($),q.push({state:y.z.Quit,event:y.s.Dismissed,operatedInfo:{},groupInfo:{baseInfo:{groupID:$,groupName:B,groupAvatarUrl:G}}}),f.eventBus.exec(y.n.InnerLeftGroup,$))):(X=(k=W.info).member_count,ee=k.all_member_seq,ae=k.group_data_seq,N=k.attribute_seq,k=k.group_list_seq,W=W.info.not_notify?y.y.Disturb:y.y.Notify,(L=D.get($))?(L.groupName=B,L.groupAvatarUrl=G,L.tatalMemberCount=X,L.notificationStatus=W):(D.set($,L={groupID:$,groupName:B,groupAvatarUrl:G,tatalMemberCount:X,notificationStatus:W}),q.push({state:y.z.Enter,event:y.s.Invited,operatedInfo:{},groupInfo:{baseInfo:{groupID:$,groupName:B,groupAvatarUrl:G},notificationStatus:W}})),L.attributes||(L.attributes={}),ee&&(L.memberSeq=+ee.toString()),ae&&(L.dataSeq=+ae.toString()),N&&(L.attributeSeq=+N.toString()),k&&(L.groupSeq=k.toString()))}),j.nextFlag&&f.engineConfig.token?f.fetchServerPageGroup(j.nextFlag,++R,i,1).then(A):(j.degree=R,j.svrCount=S,f.groupDelIDMap.size&&((H=Array.from(f.groupDelIDMap.keys())).forEach(function(W){return D.delete(W)}),f.dbMgr.deleteGroupList(H)),H=(j.max||f.settings.mailHBFetchConfig.group_list_seq).toString(),f.updateGroupSeq(H),H=Array.from(D.values()),f.dbMgr.addGroupList(H),H.forEach(function(W){return f.createGroupInstance(W.groupID,W.groupName)}),q.length&&i!=y.o.SDKLogin&&q.forEach(function(W){return f.eventBus.emit(y.n.GroupStateChanged,W)}),j=f.dataReport.endNetworkRequest(y.a.im_group_list,E,j,{dbCount:x,svrDelCount:I,rspCount:H.length}),w.time=Date.now()-w.time,w.dbCount=x,w.count=H.length,w.svrDelCount=I,w.changeList=q,w.dataReport=j,f.logger.info([y.B.Group],"mergeServerGroupList",w,!0),m&&m(H))})}):m&&(this.logger.info([y.B.Group],"mergeServerGroupList",w),this.dbMgr.getGroupList().then(m))},s.prototype.updateGroupSeq=function(i){var a=this.settings.getDBUser();i&&a.groupSeq!=i&&(a.groupSeq=i,this.dbMgr.setUser(a))},s.prototype.createNoRoomError=function(i,a){var m;if(!this.findRoom(i))return m=Object(g.o)(y.m.RoomModuleUserIsNotInTheRoom),this.logger.warn([y.B.Room],a,{error:m,roomID:i}),m},s);function s(i,a,m,f){this.logger=v.a.getInstance().logger,this.settings=v.a.getInstance().settings,this.dataReport=v.a.getInstance().dataReport,this.mergeGroupListSeq=0,this.isLogined=!1,this.queryGroupsCallbackList=[],this.engineConfig=this.settings.getEngineConfig(i),this.eventBus=a,this.dbMgr=m,this.connMgr=f,this.roomIDs=[],this.roomMap=new Map,this.groupMap=new Map,this.groupDelIDMap=new Map,this.registerInnerEvent()}},function(e,t,r){r.d(t,"a",function(){return y});var d=r(3),u=r(1),c=r(0),v=function(){return(v=Object.assign||function(n){for(var s,i=1,a=arguments.length;i<a;i++)for(var m in s=arguments[i])Object.prototype.hasOwnProperty.call(s,m)&&(n[m]=s[m]);return n}).apply(this,arguments)},g=(t=function(n,s,i,a){var m,f=arguments.length,b=f<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,i):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(n,s,i,a);else for(var C=n.length-1;0<=C;C--)(m=n[C])&&(b=(f<3?m(b):3<f?m(s,i,b):m(s,i))||b);return 3<f&&b&&Object.defineProperty(s,i,b),b},function(n,s){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a,m,f=i.call(n),b=[];try{for(;(s===void 0||0<s--)&&!(a=f.next()).done;)b.push(a.value)}catch(C){m={error:C}}finally{try{a&&!a.done&&(i=f.return)&&i.call(f)}finally{if(m)throw m.error}}return b}),y=(o.prototype.destroy=function(n){this.stopHB(),this.reset(),n&&this.state!==c.O.Disconnected&&this.emitRoomStateChanged(c.O.Disconnected,c.N.Success),this.dbMgr=null,this.connMgr=null,this.eventBus=null,this.settings=null,this.engineConfig=null},o.prototype.create=function(n,s,i){var a=this,m={time:Date.now(),groupID:this.groupID,groupName:n,state:this.state,config:s},f=(this.state==c.O.Disconnected&&this.emitRoomStateChanged(c.O.Connecting,c.N.ActiveCreate),{room_id:this.groupID,room_name:Object(u.e)(n)});return i&&(f.create_if_not_exist=!0),this.addRoomAttributes(f,s),this.connMgr.sendRequest(i?c.a.im_room_enter:c.a.im_room_create,f).then(function(b){var C,_,w,M=b.code;return M?(C=Object(u.o)(c.m.RoomModuleCreateRoomError,b.message,M),_=a.state==c.O.Connected&&M==103032?c.O.Connected:c.O.Disconnected,w=M===c.m.NetworkModuleNetworkError?c.N.NetworkDisconnected:c.N.CreateFailed,a.emitRoomStateChanged(_,_==c.O.Connected?c.N.ActiveCreate:w),m.state_=a.state,m.time=Date.now()-m.time,m.error=C,a.logger.warn([c.B.Room],i?c.A.EnterRoom:c.A.CreateRoom,m),M==51011&&(a.stopHB(),a.reset()),Promise.reject(C)):(a.groupName=n,a.sessionId=b.room_session_id,a.userSessionId=b.room_user_session_id,a.subRoomID=b.sub_room_id,a.emitRoomStateChanged(c.O.Connected,c.N.Success),i||(a.localSeq=1),a.tatalMemberCount=b.user_count||1,a.startHB(b.room_info_interval),a.mergeConfig.listPullInterval=b.userlist_interval,a.mergeConfig.listMergeTimeout=b.userlist_merge_timeout,a.mergeConfig.attrPullInterval=b.attributes_pull_interval,a.mergeConfig.attrMergeTimeout=b.attributes_merge_timeout,a.isMergeUser=b.userlist_enable==1,a.destroyDelay=b.destroy_delay||0,a.isMergeUser&&(i&&b.userlist_seq!=a.localSeq?a.fetchAllUser():(_={userID:a.engineConfig.userID,userName:a.engineConfig.userName},a.userMap.set(_.userID,_),w={roomID:a.groupID,memberList:[v({},_)]},a.eventBus.emit(c.n.RoomMemberJoined,w))),a.emitRoomAttributesUpdated(b.attributes,!0,s),m.state_=a.state,m.time=Date.now()-m.time,a.logger.info([c.B.Room],i?c.A.EnterRoom:c.A.CreateRoom,m),{roomInfo:{baseInfo:{roomID:a.groupID,roomName:n}}})})},o.prototype.enter=function(){var n=this;if(this.state===c.O.Connected)return i={groupID:this.groupID,groupName:this.groupName,state:this.state},this.logger.info([c.B.Room],c.A.JoinRoom,i),Promise.resolve({roomInfo:{baseInfo:{roomID:this.groupID,roomName:this.groupName}}});this.state!==c.O.Connecting&&this.emitRoomStateChanged(c.O.Connecting,c.N.ActiveEnter);var s={time:Date.now(),groupID:this.groupID,state:this.state},i={room_id:this.groupID,room_user_session_id:this.userSessionId||0};return this.connMgr.sendRequest(c.a.im_room_enter,i).then(function(a){var m;return a.code?(m=Object(u.o)(c.m.RoomModuleJoinRoomError,a.message,a.code),n.emitRoomStateChanged(c.O.Disconnected,a.code===c.m.NetworkModuleNetworkError?c.N.NetworkDisconnected:c.N.EnterFailed),s.state_=n.state,s.time=Date.now()-s.time,s.error=m,n.logger.warn([c.B.Room],c.A.JoinRoom,s),a.code==51011&&(n.stopHB(),n.reset()),Promise.reject(m)):(n.groupName=Object(u.a)(a.room_name),n.sessionId=a.room_session_id,n.userSessionId=a.room_user_session_id,n.subRoomID=a.sub_room_id,n.emitRoomStateChanged(c.O.Connected,c.N.Success),n.tatalMemberCount=a.user_count,n.startHB(a.room_info_interval),n.mergeConfig.listPullInterval=a.userlist_interval,n.mergeConfig.listMergeTimeout=a.userlist_merge_timeout,n.mergeConfig.attrPullInterval=a.attributes_pull_interval,n.mergeConfig.attrMergeTimeout=a.attributes_merge_timeout,n.isMergeUser=a.userlist_enable==1,n.destroyDelay=a.destroy_delay||0,n.isMergeUser&&a.userlist_seq!=n.localSeq&&n.fetchAllUser(),n.emitRoomAttributesUpdated(a.attributes),s.state_=n.state,s.time=Date.now()-s.time,s.groupName=n.groupName,n.logger.info([c.B.Room],c.A.JoinRoom,s),{roomInfo:{baseInfo:{roomID:n.groupID,roomName:n.groupName}}})})},o.prototype.quit=function(){var n=this,s={time:Date.now(),groupID:this.groupID,state:this.state};if(this.state===c.O.Disconnected)return this.logger.info([c.B.Room],c.A.LeaveRoom,s),this.destroy(!1),Promise.resolve();var i={room_id:this.groupID,room_session_id:this.sessionId,room_user_session_id:this.userSessionId,sub_room_id:this.subRoomID};return this.connMgr.sendRequest(c.a.im_room_quit,i).then(function(a){if(a.code)return a=Object(u.o)(c.m.RoomModuleLeaveRoomError,a.message,a.code),s.state_=n.state,s.time=Date.now()-s.time,s.error=a,n.logger.warn([c.B.Room],c.A.LeaveRoom,s),Promise.reject(a);n.emitRoomStateChanged(c.O.Disconnected,c.N.Success),s.state_=n.state,s.time=Date.now()-s.time,n.logger.info([c.B.Room],c.A.LeaveRoom,s),n.destroy(!1)})},o.prototype.queryPageMember=function(n){var s=this,i=v({time:Date.now(),groupID:this.groupID},n),a=++this.mergeMemberListSeq;return this.fetchServerPageUser(0|n.count,n.nextFlag,c.d.API,a).then(function(m){i.time=Date.now()-i.time,s.logger.info([c.B.Room],c.A.QueryRoomMemberList,i),m.svrCount=((f=m.users)==null?void 0:f.length)||0,s.dataReport.endNetworkRequest(c.a.im_room_userlist,a,m);var f=s.createUserList(m.users);return{roomID:s.groupID,memberList:f,nextFlag:m.pos_flag}})},o.prototype.queryMemberCount=function(){var n={roomID:this.groupID,count:this.tatalMemberCount};return this.logger.info([c.B.Room],c.A.QueryRoomOnlineMemberCount,n),Promise.resolve(n)},o.prototype.queryRoomAllAttributes=function(n){var s=this,i=(n===void 0&&(n=!1),{time:Date.now(),groupID:this.groupID}),a=(this.queryAttrFlag=!0,new Date().getTime()),m=0,f=(this.queryAttrTask.length&&(f=this.queryAttrTask[this.queryAttrTask.length-1],a-f<this.mergeConfig.attrPullInterval&&(m=this.mergeConfig.attrPullInterval-(a-f)+10)),this.queryAttrTask.push(a),{room_id:this.groupID,room_session_id:this.sessionId,attributes:{attribute_seq:this.stRoomAttributes.attribute_seq||0,attributes:[]},sub_room_id:this.subRoomID||""}),b=this.connMgr.sendRequest(c.a.im_room_attributes,f).then(function(C){var _;return C.code?(_=Object(u.o)(c.m.RoomModuleRoomAttributesQueryFailed,C.message,C.code),i.time=Date.now()-i.time,i.error=_,s.logger.warn([c.B.Room],c.A.QueryRoomAllAttributes,i),Promise.reject(_)):(s.queryAttrTask=s.queryAttrTask.filter(function(w){return w!==a}),s.queryRoomAllAttributesRspHandle(C,n))});return m?new Promise(function(C){setTimeout(function(){b.then(C)},m)}):b},o.prototype.setRoomAttributes=function(n,s){var i=this;if(this.batchFlag)return new Promise(function(C,_){return i.batchRoomAttributesHandle(n,[],C,_)});var a,m,f=[];for(a in n)a&&(m={action:0,attribute:{key:a,value:n[a].toString(),seq:this.attrItemSeq++,auto_delete:s.isDeleteAfterOwnerLeft?1:0}},this.localAttrKeySeqMap[a]=m.attribute.seq,f.push(m));var b={room_id:this.groupID,room_session_id:this.sessionId,force_modify:s.isForce?1:0,set_member:s.isUpdateOwner?1:0,attributes_seq:this.stRoomAttributes.attribute_seq||0,op_fail_fast:0,attributes:f,sub_room_id:this.subRoomID};return this.modifyRoomAttributes(n,b)},o.prototype.deleteRoomAttributes=function(n,s){var i=this;if(this.batchFlag)return new Promise(function(m,f){return i.batchRoomAttributesHandle({},n,m,f)});var a=[];return n.forEach(function(m){var f=i.stRoomAttributes.attributes.find(function(b){return b.key==m});f={action:1,attribute:{key:m,value:(f==null?void 0:f.value)||"",seq:i.attrItemSeq++,auto_delete:1}},i.localAttrKeySeqMap[m]=f.attribute.seq,a.push(f)}),s={room_id:this.groupID,room_session_id:this.sessionId,force_modify:s.isForce?1:0,set_member:1,attributes_seq:this.stRoomAttributes.attribute_seq||0,op_fail_fast:0,attributes:a,sub_room_id:this.subRoomID},this.modifyRoomAttributes({},s)},o.prototype.beginRoomAttributesBatchOperation=function(n){this.batchFlag=!0,this.batchOperationConfig=n,this.batchRoomAttributes.length=0},o.prototype.endRoomAttributesBatchOperation=function(){var n,s=this,i={time:Date.now(),groupID:this.groupID,attributes:this.batchRoomAttributes},a=(this.batchFlag=!1,[]),m={};return this.batchRoomAttributes.length?(this.batchRoomAttributes.forEach(function(f){var b={action:f.action,attribute:{key:f.key,value:f.value.toString(),seq:s.attrItemSeq++,auto_delete:s.batchOperationConfig.isDeleteAfterOwnerLeft?1:0}};f.action||(m[f.key]=f.value),s.localAttrKeySeqMap[b.attribute.key]=b.attribute.seq,a.push(b)}),i={room_id:this.groupID,room_session_id:this.sessionId,force_modify:this.batchOperationConfig.isForce?1:0,set_member:this.batchOperationConfig.isUpdateOwner?1:0,attributes_seq:this.stRoomAttributes.attribute_seq||0,op_fail_fast:1,attributes:a,sub_room_id:this.subRoomID},this.modifyRoomAttributes(m,i,!0).then(function(){return s.batchOperationConfig=null,s.batchRoomAttributes.length=0,s.batchAttributesMap.clear(),s.batchIndex=0,{roomID:s.groupID}})):(n=Object(u.o)(c.m.RoomModuleRoomAttributesOperationFailedCompletely),i.error=n,this.logger.warn([c.B.Room],c.A.EndRoomAttributesBatchOperation,i),Promise.reject(n))},o.prototype.setRoomMembersAttributes=function(n,s,i){var a,m=this,f={roomID:this.groupID,attributes:n,userIDs:s,config:i},b={room_id:this.groupID,room_session_id:this.sessionId,room_user_session_id:this.userSessionId,force_modify:1,auto_save:i.isDeleteAfterOwnerLeft==null||i.isDeleteAfterOwnerLeft?0:1,op_fail_fast:0,sub_room_id:this.subRoomID,attributes:{user_ids:s,modify_attribute:[]}};for(a in n){this.userAttrSeq++;var C={action:0,attribute:{key:a,value:n[a],seq:this.userAttrSeq}};b.attributes.modify_attribute.push(C)}return this.connMgr.sendRequest(c.a.im_room_user_attributes_modify,b,c.d.API,this.settings.queryTimeout,!0).then(function(_){if(_.code)return w=Object(u.o)(c.m.RoomModuleRoomMemberAttributesCommonError,_.message,_.code),f.error=w,m.logger.warn([c.B.Room],c.A.SetRoomMembersAttributes,f,!0),Promise.reject(w);var w,M=(S=g(m.mergeServeUserAttributesHandle(_,n),2))[0],S=S[1],I=[];return(I=_.user_err_list?_.user_err_list.map(function(x){return x.user_id}):I).length&&!S.length?(w=Object(u.o)(c.m.RoomModuleRoomMemberAttributesCommonError,_.message,_.code),Promise.reject(w)):(_={roomID:m.groupID,infos:M,operatedInfo:{userID:m.engineConfig.userID}},m.eventBus.emit(c.n.RoomMemberAttributesUpdated,_),f.setInfos=S,m.logger.info([c.B.Room],c.A.SetRoomMembersAttributes,f,!0),{roomID:m.groupID,infos:S,errorUserList:I})})},o.prototype.queryRoomMembersAttributes=function(n){var s=this,i={roomID:this.groupID,userIDs:n},a={room_id:this.groupID,room_session_id:this.sessionId,room_user_session_id:this.userSessionId,sub_room_id:this.subRoomID,req_attributes:[]};return n.forEach(function(m){var f=s.userAttributeMap.get(m);m={user_id:m,user_attributes_seq:f?f.seq:0},a.req_attributes.push(m)}),this.connMgr.sendRequest(c.a.im_room_user_attributes_get,a,c.d.API,this.settings.queryTimeout,!0).then(function(m){if(m.code)return f=Object(u.o)(c.m.RoomModuleCommonError,m.message,m.code),i.error=f,s.logger.warn([c.B.Room],c.A.QueryRoomMembersAttributes,i,!0),Promise.reject(f);var f=s.mergeServeUserAttributesHandle(m)[0].map(function(b){return b.attributesInfo});return i.infos=f,s.logger.info([c.B.Room],c.A.QueryRoomMembersAttributes,i,!0),{roomID:s.groupID,infos:f}})},o.prototype.queryRoomMemberAttributesList=function(n){var s=this,i={roomID:this.groupID,config:n};return n={room_id:this.groupID,room_session_id:this.sessionId,room_user_session_id:this.userSessionId,pos_flag:n.nextFlag||"",count:n.count,sub_room_id:this.subRoomID},this.connMgr.sendRequest(c.a.im_room_user_attributes_list_get,n,c.d.API,this.settings.queryTimeout,!0).then(function(a){if(a.code)return m=Object(u.o)(c.m.RoomModuleCommonError,a.message,a.code),i.error=m,s.logger.warn([c.B.Room],c.A.QueryRoomMemberAttributesList,i,!0),Promise.reject(m);var m=s.mergeServeUserAttributesHandle(a)[0].map(function(f){return f.attributesInfo});return i.infos=m,s.logger.info([c.B.Room],c.A.QueryRoomMemberAttributesList,i,!0),{roomID:s.groupID,infos:m,nextFlag:a.pos_flag}})},o.prototype.onConnected=function(){var n=this;this.enter().then(function(){return n.eventBus.exec(c.n.InnerConnectedRoom,n.groupID)})},o.prototype.onDisConnected=function(){this.stopHB(),this.emitRoomStateChanged(c.O.Disconnected,c.N.NetworkDisconnected)},o.prototype.onPushKickout=function(n){var s=n.reason==2?c.N.RoomNotExist:c.N.KickedOut;this.emitRoomStateChanged(c.O.Disconnected,s,JSON.stringify(n)),this.destroy(!1)},o.prototype.onPushEnter=function(n){this.tatalMemberCount=n.user_count;var s={userID:n.user_id,userName:Object(u.a)(n.user_name)};this.isMergeUser?this.waitingMergeUser(n.userlist_seq,s,"enter"):(n={roomID:n.room_id,memberList:[s]},this.eventBus.emit(c.n.RoomMemberJoined,n))},o.prototype.onPushQuit=function(n){this.tatalMemberCount=n.user_count;var s={userID:n.user_id,userName:Object(u.a)(n.user_name)};this.isMergeUser?this.waitingMergeUser(n.userlist_seq,s,"quit"):(n={roomID:n.room_id,memberList:[s]},this.eventBus.emit(c.n.RoomMemberLeft,n))},o.prototype.onPushRoomAttributesModify=function(n){var s,i,a,m=this,f=(this.logger.info([c.B.Room],"onPushRoomAttributesModify",this.stRoomAttributes),n.attributes),b=n.attributes_seq;this.queryAttrFlag?this.batchPushQueue.push(n):(s=((n=this.stRoomAttributes)==null?void 0:n.attribute_seq)||0,b&&(i={delete:{},set:{}},1<b-s?this.queryRoomAllAttributes(!0):(f.forEach(function(C){var _;s++,C.seq?((_=m.stRoomAttributes.attributes.find(function(w){return w.key==C.key}))?(_.value=C.value,_.seq=C.seq):m.stRoomAttributes.attributes.push(C),i.set[C.key]=C.value):m.stRoomAttributes.attributes.length&&(m.stRoomAttributes.attributes.find(function(w){return w.key==C.key})&&(i.delete[C.key]=""),m.stRoomAttributes.attributes=m.stRoomAttributes.attributes.filter(function(w){return w.key!==C.key}))}),this.stRoomAttributes.attribute_seq=b,n=[],Object.keys(i.set).length&&(a={action:c.M.Set,roomAttributes:i.set},n.push(a)),Object.keys(i.delete).length&&(a={action:c.M.Delete,roomAttributes:i.delete},n.push(a)),f.length&&(b={roomID:this.groupID,infos:n},a=1<n.length?c.n.RoomAttributesBatchUpdated:c.n.RoomAttributesUpdated,this.eventBus.emit(a,b)))))},o.prototype.onPushRoomUserAttributesModify=function(n){n.user_attributes=n.push_attributes,n={roomID:this.groupID,infos:this.mergeServeUserAttributesHandle(n)[0],operatedInfo:{userID:n.user_id}},this.eventBus.emit(c.n.RoomMemberAttributesUpdated,n)},o.prototype.createFrequencyLimitError=function(n){var s=Object(u.o)(c.m.CommonModuleTriggerSDKFrequencyLimit),i={roomID:this.groupID,error:s};return this.logger.warn([c.B.Room],n,i),s},o.prototype.modifyRoomAttributes=function(n,s,i){var a=this;return i===void 0&&(i=!1),this.connMgr.sendRequest(c.a.im_room_attributes_modify,s).then(function(m){function f(I){i&&(a.batchAttributesMap.forEach(function(E){E.reject&&E.reject(I)}),a.batchOperationConfig=null,a.batchRoomAttributes.length=0,a.batchAttributesMap.clear(),a.batchIndex=0);var x={error:I,local:a.stRoomAttributes};return a.logger.warn([c.B.Room],"modifyRoomAttributes",x),Promise.reject(I)}if(m.code)return f(Object(u.o)(c.m.RoomModuleRoomAttributesOperationFailedCompletely,m.message,m.code));if(m.err_list.length&&m.err_list.length==s.attributes.length)return f(Object(u.o)(c.m.RoomModuleRoomAttributesOperationFailedCompletely));var b,C,_=m.attributes.attributes,w=(i&&(b=[],_.forEach(function(I){var x=b.findIndex(function(E){return E.key==I.key});I.seq?(x!=-1&&b.splice(x,1),b.push(I)):x!==-1&&b.splice(x,1)}),_=b),a.stRoomAttributes.attribute_seq=m.attributes.attribute_seq,{delete:{},set:{}}),M=(_.forEach(function(I){I=v({},I);var x=a.stRoomAttributes.attributes.find(function(D){return D.key==I.key}),E=a.stRoomAttributes.attributes.findIndex(function(D){return D.key==I.key});x?I.seq?(x.value=n[x.key].toString(),x.seq=I.seq,w.delete[x.key]!==void 0&&delete w.delete[x.key],w.set[x.key]=x.value):(a.stRoomAttributes.attributes.splice(E,1),w.delete[x.key]=""):I.seq&&(I.value=n[I.key].toString(),a.stRoomAttributes.attributes.push(I),w.delete[I.key]!==void 0&&delete w.delete[I.key],w.set[I.key]=I.value)}),a.logger.info([c.B.Room],"operaRoomAttributes",{local:a.stRoomAttributes}),[]),S=(Object.keys(w.set).length&&(C={action:c.M.Set,roomAttributes:w.set},M.push(C)),Object.keys(w.delete).length&&(C={action:c.M.Delete,roomAttributes:w.delete},M.push(C)),m.err_list.map(function(I){return I.key}));return i&&a.batchAttributesMap.forEach(function(I){var x,E,D,R,q,A;S.length?(x=S[0],D=!1,E={},!Array.isArray(I.data)&&x in I.data&&!_.some(function(j){return j.value==I.data[x]})||Array.isArray(I.data)&&I.data.indexOf(x)!=-1?(D=!0,R=[],I.action==c.M.Delete&&(q=I.data.findIndex(function(j){return j==x}))!==-1&&(R=I.data.slice(q)),I.action==c.M.Set&&(R=Object.keys(I.data)),I.resolve&&I.resolve({roomID:a.groupID,errorKeys:R}),E={attributeList:_,data:I.data}):D?(I.action==c.M.Delete&&(A=I.data.slice()),I.action==c.M.Set&&(A=Object.keys(I.data)),I.resolve&&I.resolve({roomID:a.groupID,errorKeys:A})):(E.error=!1,I.resolve&&I.resolve({roomID:a.groupID,errorKeys:S})),a.logger.info([c.B.Room],"operaRoomAttributes",E)):I.resolve&&I.resolve({roomID:a.groupID,errorKeys:[]})}),_.length&&(C=i?c.n.RoomAttributesBatchUpdated:c.n.RoomAttributesUpdated,m={roomID:a.groupID,infos:M},a.eventBus.emit(C,m)),{roomID:a.groupID,errorKeys:S}})},o.prototype.mergeServeUserAttributesHandle=function(n,s){var i=this,a=[],m=[];return n.user_attributes.forEach(function(f){var b=f.user_id,C=f.attributes,_=f.err_list,w={},M=i.userAttributeMap.get(b)||{seq:0,attribute:[]};if(f.user_attributes_seq>M.seq)M.seq=f.user_attributes_seq,C.forEach(function(E){var D=M.attribute.find(function(R){return R.key==E.key});D?(D.value=E.value,w[E.key]=E.value):(M.attribute.push(v(v({},E),{value:E.value||""})),w[E.key]=E.value||"")});else if(s)for(S in s)(function(E){var D=s[E],R=M.attribute.find(function(q){return q.key==E});R?R.value=D:M.attribute.push({key:E,value:D}),w[E]=D})(S);else M.attribute.forEach(function(E){w[E.key]=E.value});if(i.userAttributeMap.set(b,M),(C.length||f.user_attributes_seq)&&a.push({attributesInfo:{userID:b,attributes:w}}),s){var S,I=_.map(function(E){return E.key}),x={};for(S in s)I.includes(S)||(x[S]=w[S]);m.push({errorKeys:I,attributesInfo:{userID:b,attributes:x}})}}),[a,m]},o.prototype.queryRoomAllAttributesRspHandle=function(n,s){var i={isSeqUpdate:s=s!==void 0&&s,local:this.stRoomAttributes,batchPushQueue:this.batchPushQueue};if(this.logger.info([c.B.Room],c.A.QueryRoomAllAttributes,i),this.queryAttrFlag=!1,this.batchPushQueue.length)try{this.mergeStAttributeHandle(n.attributes)}catch(b){i={error:!0,stack:(b==null?void 0:b.message)||(b==null?void 0:b.stack),action:"catch mergeStAttributeHandle"},this.logger.info([c.B.Room],c.A.QueryRoomAllAttributes,i)}else{var a,m,f={delete:{},set:{}};i=(this.stRoomAttributes.attribute_seq=n.attributes.attribute_seq,n.attributes.attributes.length?((a=this.stRoomAttributes.attributes).map(function(b){b.seq=0}),n.attributes.attributes.forEach(function(b){var C=a.findIndex(function(_){return _.key==b.key});C!==-1?b.seq&&(a[C].seq=b.seq,a[C].value!==b.value&&(f.set[b.key]=b.value,a[C].value=b.value)):b.key&&(f.set[b.key]=b.value,a.push(v(v({},b),{value:b.value})))}),this.stRoomAttributes.attributes=a.filter(function(b){return b.seq==0&&(f.delete[b.key]=""),b.seq!==0})):(this.stRoomAttributes.attributes.forEach(function(b){f.delete[b.key]=""}),this.stRoomAttributes.attributes=[]),[]),n=(Object.keys(f.set).length&&(m={action:c.M.Set,roomAttributes:f.set},i.push(m)),Object.keys(f.delete).length&&(m={action:c.M.Delete,roomAttributes:f.delete},i.push(m)),{isSeqUpdate:s,local:this.stRoomAttributes,infoList:i}),this.logger.info([c.B.Room],c.A.QueryRoomAllAttributes,n),s&&i.length&&(this.logger.info([c.B.Room],"roomAttributesUpdated",f),m=1<i.length?c.n.RoomAttributesBatchUpdated:c.n.RoomAttributesUpdated,n={roomID:this.groupID,infos:i},this.eventBus.emit(m,n))}return{roomID:this.groupID,roomAttributes:this.getRecordFromStRoomAttributes()}},o.prototype.addRoomAttributes=function(n,s){if(s&&Object.prototype.toString.call(s.roomAttributes)=="[object Object]"){var i,a,m=[];for(i in s.roomAttributes)i&&(a={key:i,value:s.roomAttributes[i].toString(),seq:this.attrItemSeq++,auto_delete:1},m.push(a),this.localAttrKeySeqMap[i]=a.seq);m.length&&(n.attributes=m)}s&&s.roomDestroyDelayTime&&(n.destroy_delay=+s.roomDestroyDelayTime)},o.prototype.batchRoomAttributesHandle=function(n,s,i,a){var m,f=this,b={batchRoomAttributes:this.batchRoomAttributes,roomAttributes:n,delKeys:s=s===void 0?[]:s};for(m in this.logger.info([c.B.Room],"modifyRoomAttributes",b),this.batchRoomAttributes||(this.batchRoomAttributes=[]),s.length?this.batchAttributesMap.set(this.batchIndex,{action:c.M.Delete,data:s,resolve:i,reject:a}):this.batchAttributesMap.set(this.batchIndex,{action:c.M.Set,data:n,resolve:i,reject:a}),n){var C={action:c.M.Set,key:m,value:n[m]};this.batchRoomAttributes.push(C)}s.forEach(function(_){_={action:c.M.Delete,key:_,value:""},f.batchRoomAttributes.push(_)}),this.batchIndex++},o.prototype.mergeStAttributeHandle=function(n){this.batchPushQueue.sort(function(w,M){return w.attribute_seq-M.attribute_seq});var s=this.batchPushQueue.findIndex(function(w){return w.attribute_seq>=n.attribute_seq}),i=(this.batchPushQueue=this.batchPushQueue.slice(s),this.batchPushQueue.unshift(n),this.batchPushQueue[this.batchPushQueue.length-1].attribute_seq),a={delete:{},set:{}},m=this.stRoomAttributes.attributes;for(m.map(function(w){w.seq=0}),s={localAttributes:m,batchPushQueue:this.batchPushQueue},this.logger.info([c.B.Room],"mergeStAttributeHandle",s);this.batchPushQueue.length;){var f=(b=this.batchPushQueue.shift()).attributes,b=b.attribute_seq;i&&b&&b<i||f.forEach(function(w){var M;w&&(M=m.find(function(S){return S.key==w.key}),m.findIndex(function(S){return S.key==w.key})!==-1?w.seq&&(M.seq=w.seq,M.value!==w.value&&(a.set[M==null?void 0:M.key]=w.value,M.value=w.value)):w.key&&w.seq&&(a.set[w.key]=w.value,m.push(v(v({},w),{value:w.value}))))})}var C,_=[];this.stRoomAttributes.attributes=m.filter(function(w){return w.seq==0&&(a.delete[w.key]=""),w.seq!==0}),Object.keys(a.set).length&&(C={action:c.M.Set,roomAttributes:a.set},_.push(C)),Object.keys(a.delete).length&&(C={action:c.M.Delete,roomAttributes:a.delete},_.push(C)),s={local:this.stRoomAttributes,infoList:_},this.logger.info([c.B.Room],"mergeStAttributeHandle",s),_.length&&(C={roomID:this.groupID,infos:_},this.eventBus.emit(c.n.RoomAttributesUpdated,C)),this.stRoomAttributes.attribute_seq=i},o.prototype.getRecordFromStRoomAttributes=function(){if(!this.stRoomAttributes.attributes.length)return{};var n={};return this.stRoomAttributes.attributes.forEach(function(s){n[s.key]=s.value}),n},o.prototype.checkRoomAttributesUpdateByHb=function(n){var s=this;this.stRoomAttributes&&n.attribute_seq>this.stRoomAttributes.attribute_seq+1&&(this.attrTimer=setTimeout(function(){s.logger.info([c.B.Room],"checkRoomAttributesUpdateByHb"),s.queryRoomAllAttributes()},this.mergeConfig.attrMergeTimeout))},o.prototype.fetchServerPageUser=function(n,s,i,a){var m=this;return n={room_id:this.groupID,room_session_id:this.sessionId,count:n,pos_flag:s,sub_room_id:this.subRoomID,expect_seq:this.localSeq},a&&this.dataReport.beginNetworkRequest(c.a.im_room_userlist,a,n,i),this.connMgr.sendRequest(c.a.im_room_userlist,n,i,this.settings.queryTimeout,!0).then(function(f){return f.code||(m.tatalMemberCount=f.user_count,m.localSeq=f.userlist_seq),f})},o.prototype.emitRoomStateChanged=function(n,s,i){this.state=n,n={roomID:this.groupID,state:n,event:s,extendedData:i||""},this.eventBus.emit(c.n.RoomStateChanged,n)},o.prototype.emitRoomAttributesUpdated=function(n,s,i){var a;(s=s!==void 0&&s)&&n!=null&&n.attributes&&i!=null&&i.roomAttributes&&(a=i.roomAttributes,n.attributes.forEach(function(m){m.seq&&(m.value=a[m.key])})),this.stRoomAttributes=n||{attributes:[]},this.stRoomAttributes.attributes.length&&(s={roomID:this.groupID,infos:[{action:c.M.Set,roomAttributes:this.getRecordFromStRoomAttributes()}]},this.eventBus.emit(c.n.RoomAttributesUpdated,s))},o.prototype.startHB=function(n){var s=this;!n||n<0||(this.stopHB(),this.hbLog=!0,this.hbTimer=setInterval(function(){var i={room_id:s.groupID,room_session_id:s.sessionId,sub_room_id:s.subRoomID};s.connMgr.sendRequestWithHeartbeat(c.a.im_room_info,i,s.hbLog,n).then(function(a){if(s.hbLog=!1,!s.settings||a.code==1)return s.stopHB();if(a.code){if(a.code==c.m.NetworkModuleNetworkError&&s.hbTimeoutCount++,a.timeoutCount=s.hbTimeoutCount,s.hbTimeoutCount>=s.settings.hbTimeoutMaxCount&&(s.stopHB(),s.emitRoomStateChanged(c.O.Connecting,c.N.NetworkInterrupted)),s.settings.needReloginCodeList.indexOf(a.code)!=-1){s.stopHB();var m=c.N.NetworkDisconnected;switch(a.code){case 103015:m=c.N.ConnectTimeout;break;case 103021:m=c.N.RoomNotExist}s.emitRoomStateChanged(c.O.Disconnected,m)}return a.state=s.state,void s.logger.warn([c.B.Room],"roomHB",a)}a.room_info_interval&&(s.hbTimeoutCount=0,s.tatalMemberCount=a.user_count,a.ulist_to&&(s.mergeConfig.listMergeTimeout=a.ulist_to),a.ulist_itvl&&(s.mergeConfig.listPullInterval=a.ulist_itvl),s.checkRoomAttributesUpdateByHb(a),a.room_info_interval!=n&&s.startHB(a.room_info_interval))})},n),this.hbInterval=n,this.logger.info([c.B.Room],"roomHB","start "+n))},o.prototype.stopHB=function(){this.hbTimer&&clearInterval(this.hbTimer),this.hbTimeoutCount=0,this.hbTimer=0},o.prototype.reset=function(){this.localSeq=0,this.attrItemSeq=0,this.isMergeUser=!1,this.tatalMemberCount=0,this.userMap.clear()},o.prototype.createUserList=function(n){return n?n.map(function(s){return{userID:s.user_id,userName:Object(u.a)(s.user_name)}}):[]},o.prototype.fetchAllUser=function(){var n=this,s={time:Date.now(),event:"fetchAllUser",groupID:this.groupID,localSeq:this.localSeq,tatalMemberCount:this.tatalMemberCount},i=1,a=++this.mergeMemberListSeq,m=[],f=function(_){m.push.apply(m,function(w,M,S){if(S||arguments.length===2)for(var I,x=0,E=M.length;x<E;x++)!I&&x in M||((I=I||Array.prototype.slice.call(M,0,x))[x]=M[x]);return w.concat(I||Array.prototype.slice.call(M))}([],g(n.createUserList(_.users)),!1)),_.pos_flag&&n.connMgr?(i++,n.fetchServerPageUser(100,_.pos_flag,c.d.SDK).then(f)):(_.degree=i,_.svrCount=m.length,_=n.dataReport.endNetworkRequest(c.a.im_room_userlist,a,_),n.updateUserList(m),s.time=Date.now()-s.time,s.localSeq_=n.localSeq,s.tatalMemberCount_=n.tatalMemberCount,s.dataReport=_,n.logger.info([c.B.Room],"mergeRoomUser",s))},b=Date.now(),C=this.lastFetchAllUserTime+this.mergeConfig.listPullInterval;setTimeout(function(){n.lastFetchAllUserTime=b,n.connMgr&&n.fetchServerPageUser(100,"",c.d.SDK,a).then(f)},b<C?C-b:0)},o.prototype.waitingMergeUser=function(n,s,i){var a,m,f,b,C=this;n<=this.localSeq?this.logger.info([c.B.Room],"mergeRoomUser",{groupID:this.groupID,event:"dropMerge",action:i,seq:n,localSeq:this.localSeq,tatalMemberCount:this.tatalMemberCount}):n!=this.localSeq+1||this.mergeTimer?(this.mergeSeqList.indexOf(n)==-1&&this.mergeSeqList.push(n),a=s.userID,f=this.mergeUserList.findIndex(function(_){return _.userID==a}),i=="enter"&&f==-1?this.mergeUserList.push(s):i=="quit"&&f!=-1&&this.mergeUserList.splice(f,1),this.mergeTimer||(m={groupID:this.groupID,event:"waitingPush",action:i,seq:n,localSeq:this.localSeq,tatalMemberCount:this.tatalMemberCount},this.mergeSeqList.indexOf(this.localSeq)==-1&&this.mergeSeqList.push(this.localSeq),this.mergeTimer=setTimeout(function(){C.mergeSeqList.sort();var _=C.mergeSeqList.length-1;(_=C.mergeSeqList[_]-C.mergeSeqList[0]==_)?C.updateUserList(C.mergeUserList):C.fetchAllUser(),Object.assign(m,{time:C.mergeConfig.listMergeTimeout,localSeq_:C.localSeq,tatalMemberCount_:C.tatalMemberCount,continuous:_,mergeSeqList:C.mergeSeqList}),C.logger.info([c.B.Room],"mergeRoomUser",m,!0),C.mergeTimer=0,C.mergeSeqList.length=0,C.mergeUserList.length=0},this.mergeConfig.listMergeTimeout))):(this.localSeq=n,f=this.userMap.has(s.userID),i!="enter"||f?i=="quit"&&f&&(this.userMap.delete(s.userID),b={roomID:this.groupID,memberList:[v({},s)]},this.eventBus.emit(c.n.RoomMemberLeft,b)):(this.userMap.set(s.userID,s),b={roomID:this.groupID,memberList:[v({},s)]},this.eventBus.emit(c.n.RoomMemberJoined,b)),s={groupID:this.groupID,event:"continuousMerge",action:i,has:f,seq:n,localSeq:this.localSeq,tatalMemberCount:this.tatalMemberCount},this.logger.info([c.B.Room],"mergeRoomUser",s))},o.prototype.updateUserList=function(n){var s=this,i=n.map(function(b){return b.userID}),a=Array.from(this.userMap.values()),m=(n=n.filter(function(b){var C=!s.userMap.has(b.userID);return C&&s.userMap.set(b.userID,v({},b)),C}),a.filter(function(b){var C=i.indexOf(b.userID)==-1;return C&&s.userMap.delete(b.userID),C})),f=(n.length&&(f={roomID:this.groupID,memberList:n},this.eventBus.emit(c.n.RoomMemberJoined,f)),m.length&&(f={roomID:this.groupID,memberList:m},this.eventBus.emit(c.n.RoomMemberLeft,f)),{groupID:this.groupID,event:"updateRoomMember",localSeq:this.localSeq,tatalMemberCount:this.tatalMemberCount,mergeIds:i,beginLocalIds:a.map(function(b){return b.userID}),endLocalIDs:Array.from(this.userMap.keys()),joinedUserIDs:n.map(function(b){return b.userID}),leftUserIDs:m.map(function(b){return b.userID})});this.logger.info([c.B.Room],"mergeRoomUser",f,!0)},t([Object(u.j)(c.g.get_user_attribute_qps,c.g.get_user_attribute_interval,c.A.QueryRoomMembersAttributes)],o.prototype,"queryRoomMembersAttributes",null),t([Object(u.j)(c.g.get_user_attribute_qps,c.g.get_user_attribute_interval,c.A.QueryRoomMemberAttributesList)],o.prototype,"queryRoomMemberAttributesList",null),o);function o(n,s,i,a,m){this.type=c.k.Room,this.state=c.O.Disconnected,this.subRoomID="",this.destroyDelay=0,this.userMap=new Map,this.userAttributeMap=new Map,this.tatalMemberCount=0,this.isMergeUser=!1,this.mergeMemberListSeq=0,this.mergeTimer=0,this.mergeSeqList=[],this.mergeUserList=[],this.mergeConfig={listMergeTimeout:0,listPullInterval:0,attrMergeTimeout:0,attrPullInterval:0},this.lastFetchAllUserTime=0,this.hbInterval=0,this.hbTimer=0,this.hbTimeoutCount=0,this.hbLog=!1,this.localSeq=0,this.userAttrSeq=0,this.attrItemSeq=0,this.stRoomAttributes={attributes:[],attribute_seq:0},this.localAttrKeySeqMap={},this.batchOperationConfig=null,this.batchRoomAttributes=[],this.batchAttributesMap=new Map,this.batchIndex=0,this.batchFlag=!1,this.batchPushQueue=[],this.queryAttrFlag=!1,this.attrTimer=null,this.queryAttrTask=[],this.groupID=n,this.engineConfig=s,this.logger=d.a.getInstance().logger,this.settings=d.a.getInstance().settings,this.dataReport=d.a.getInstance().dataReport,this.eventBus=i,this.dbMgr=a,this.connMgr=m}},function(e,t,r){r.d(t,"a",function(){return o}),t=r(4);var d=r.n(t),u=r(3),c=r(1),v=r(0),g=function(){return(g=Object.assign||function(s){for(var i,a=1,m=arguments.length;a<m;a++)for(var f in i=arguments[a])Object.prototype.hasOwnProperty.call(i,f)&&(s[f]=i[f]);return s}).apply(this,arguments)},y=function(s,i){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var m,f,b=a.call(s),C=[];try{for(;(i===void 0||0<i--)&&!(m=b.next()).done;)C.push(m.value)}catch(_){f={error:_}}finally{try{m&&!m.done&&(a=b.return)&&a.call(b)}finally{if(f)throw f.error}}return C},o=(n.prototype.destroy=function(){this.connMgr=null,this.eventBus=null,this.logger=null,this.settings=null,this.engineConfig=null,this.dbMgr=null,this.dbGroupMemberMap=null},n.prototype.setDBGroup=function(s){var i=this;this.dbGroup=s,this.groupName=s.groupName,this.groupAvatarUrl=s.groupAvatarUrl,this.dbMgr.getGroupMemberList(this.groupID).then(function(a){i.tatalMemberCount=s.tatalMemberCount||a.length,a.forEach(function(m){i.dbGroupMemberMap.set(m.userID,m)})})},n.prototype.createGroup=function(s,i,a){var m=this,f={time:Date.now(),groupInfo:s,config:a,userIDs:i},b=[],C=(Array.isArray(i)&&(i=i.filter(function(S){return!!Object(c.i)(S)||(b.push({userID:S,reason:v.m.CommonModuleParamInvalid}),!1)}),i=Array.from(new Set(i))),a.groupAttributes),_=Object.keys(C).map(function(S){return{key:S,value:C[S],seq:d.a.fromInt(1)}}),w={group_name:s.groupName||"",group_notice:a.groupNotice||"",group_avatar:Object(c.e)(s.groupAvatarUrl||""),user_ids:i,attributes:_},M=(s.groupID&&(w.group_id=s.groupID),10<i.length);return this.connMgr.sendRequest(v.a.im_group_create,w,v.d.API,this.settings.requestTimeout,M).then(function(S){if(S.code)return I=Object(c.o)(v.m.GroupModuleCreateGroupError,S.message,S.code),f.time=Date.now()-f.time,f.error=I,m.logger.warn([v.B.Group],v.A.CreateGroup,f),Promise.reject(I);m.groupID=S.group_id,m.tatalMemberCount=S.member_count,m.groupMember.memberRole=v.w.Owner,S.attributes={attributes:_,seq:S.group_attribute_seq},S.group_name=s.groupName,S.group_avatar=w.group_avatar,S.group_notice=a.groupNotice,S.error_users.forEach(function(x){return b.push(m.createErrorUser(x))});var I=m.createGroupCallback(S);return S={groupInfo:m.createGroupFullInfo(),userList:I,errorUserList:b},f.time=Date.now()-f.time,f.result=S,m.logger.info([v.B.Group],v.A.CreateGroup,f,M),S})},n.prototype.joinGroup=function(){var s=this,i={time:Date.now(),groupID:this.groupID},a={group_id:this.groupID};return this.connMgr.sendRequest(v.a.im_group_enter,a).then(function(m){if(m.code)return f=Object(c.o)(v.m.GroupModuleJoinGroupError,m.message,m.code),i.time=Date.now()-i.time,i.error=f,s.logger.warn([v.B.Group],v.A.JoinGroup,i),Promise.reject(f);s.tatalMemberCount=m.member_count,s.groupMember.memberRole=v.w.Member,m.member.member_data.user_avatar||(m.member.member_data.user_avatar=s.engineConfig.userAvatarUrl),m.op_user=g(g({},m.member.member_data),{user_id:m.member.user_id}),m.members=[m.member],s.joinGroupCallback(m,v.u.Joined,v.s.Joined);var f={groupInfo:s.createGroupFullInfo()};return i.time=Date.now()-i.time,i.result=f,s.logger.info([v.B.Group],v.A.JoinGroup,i),f})},n.prototype.inviteUsersIntoGroup=function(s){var i=this,a={time:Date.now(),groupID:this.groupID,userIDs:s},m=[],f=(s=s.filter(function(b){return!!Object(c.i)(b)||(m.push({userID:b,reason:v.m.CommonModuleParamInvalid}),!1)}),10<(s=Array.from(new Set(s))).length);return s={group_id:this.groupID,user_ids:s},this.connMgr.sendRequest(v.a.im_group_invite,s,v.d.API,this.settings.requestTimeout,f).then(function(b){if(b.code)return C=Object(c.o)(v.m.GroupModuleInviteUserIntoGroupError,b.message,b.code),a.time=Date.now()-a.time,a.error=C,i.logger.warn([v.B.Group],v.A.InviteUsersIntoGroup,a),Promise.reject(C);i.tatalMemberCount=b.member_count;var C=i.inviteUsersIntoGroupCallback(b);return b.error_users.forEach(function(_){return m.push(i.createErrorUser(_))}),b={groupID:i.groupID,userList:C,errorUserList:m},i.eventBus.emit(v.n.GroupMemberStateChanged,{groupID:i.groupID,state:v.x.Enter,event:v.u.Invited,operatedInfo:i.createOwnerOperator(),userList:C}),a.time=Date.now()-a.time,a.result=b,i.logger.info([v.B.Group],v.A.InviteUsersIntoGroup,a,f),b})},n.prototype.kickGroupMembers=function(s){var i=this,a={time:Date.now(),groupID:this.groupID,userIDs:s},m=[],f=(s=s.filter(function(C){return!!Object(c.i)(C)||(m.push({userID:C,reason:v.m.CommonModuleParamInvalid}),!1)}),10<(s=Array.from(new Set(s))).length),b={group_id:this.groupID,user_ids:s};return this.connMgr.sendRequest(v.a.im_group_kickout,b,v.d.API,this.settings.requestTimeout,f).then(function(C){if(C.code)return w=Object(c.o)(v.m.GroupModuleKickoutGroupMemberError,C.message,C.code),a.time=Date.now()-a.time,a.error=w,i.logger.warn([v.B.Group],v.A.KickGroupMembers,a),Promise.reject(w);i.tatalMemberCount=C.member_count;var _=[],w=(s.forEach(function(M){var S;C.error_users.some(function(I){return I.user_id===M})||(S=i.dbGroupMemberMap.get(M),_.push(g(g({},S),{userID:M,state:1})),i.dbGroupMemberMap.delete(M))}),s=_.map(function(M){return M.userID}),C.error_users.forEach(function(M){return m.push(i.createErrorUser(M))}),i.updateMemberSeq(C.member_all_seq),i.dbMgr.addGroupMemberList(i.groupID,_),{groupID:i.groupID,kickedUserIDs:s,errorUserList:m});return i.eventBus.emit(v.n.GroupMemberStateChanged,{groupID:i.groupID,state:v.x.Quit,event:v.u.KickedOut,operatedInfo:i.createOwnerOperator(),userList:_}),a.time=Date.now()-a.time,a.result=w,i.logger.info([v.B.Group],v.A.KickGroupMembers,a,f),w})},n.prototype.transferGroupOwner=function(s){var i=this,a={time:Date.now(),groupID:this.groupID,userID:s},m={group_id:this.groupID,group_name:s};return this.connMgr.sendRequest(v.a.im_group_owner_transfer,m).then(function(f){var b;return f.code?(b=Object(c.o)(v.m.GroupModuleTransferOwnerError,f.message,f.code),a.time=Date.now()-a.time,a.error=b,i.logger.warn([v.B.Group],v.A.TransferGroupOwner,a),Promise.reject(b)):(i.groupMember.memberRole=v.w.Member,i.transferGroupOwnerCallback([{userID:s,dataSeq:+f.conv_msg_seq.toString()},{userID:i.groupMember.userID,dataSeq:+f.conv_list_seq.toString()}]),a.time=Date.now()-a.time,i.logger.info([v.B.Group],v.A.TransferGroupOwner,a),{groupID:i.groupID,toUserID:s})})},n.prototype.updateGroupInfo=function(s,i){var a=this,m={time:Date.now(),value:s},f=i==v.r.Name?v.a.im_group_modify_name:v.a.im_group_modify_notice,b=i==v.r.Name?v.A.UpdateGroupName:v.A.UpdateGroupNotice,C={group_id:this.groupID,group_name:s};return this.connMgr.sendRequest(f,C).then(function(_){var w;return _.code?(w=Object(c.o)(v.m.GroupModuleUpdateGroupInfoError,_.message,_.code),m.time=Date.now()-m.time,m.error=w,a.logger.warn([v.B.Group],b,m),Promise.reject(w)):(a.mergeGroupData(i,+((w=_.conv_list_seq)==null?void 0:w.toString()),s,a.createOwnerOperator()),m.time=Date.now()-m.time,a.logger.info([v.B.Group],b,m),i==v.r.Name?{groupID:a.groupID,groupName:s}:{groupID:a.groupID,groupNotice:s})})},n.prototype.updateGroupAvatarUrl=function(s){var i=this,a={time:Date.now(),value:s},m={user_id:this.groupID,user_name:Object(c.e)(s)};return this.connMgr.sendRequest(v.a.im_group_modify_avatar,m).then(function(f){var b;return f.code?(b=Object(c.o)(v.m.GroupModuleUpdateGroupInfoError,f.message,f.code),a.time=Date.now()-a.time,a.error=b,i.logger.warn([v.B.Group],a),Promise.reject(b)):(i.mergeGroupData(v.r.Avatar,+((b=f.conv_list_seq)==null?void 0:b.toString()),s,i.createOwnerOperator()),a.time=Date.now()-a.time,i.logger.info([v.B.Group],a),{groupID:i.groupID,groupAvatarUrl:s})})},n.prototype.queryGroupInfo=function(){var s=this,i={time:Date.now(),groupID:this.groupID},a={group_id:this.groupID};return this.connMgr.sendRequest(v.a.im_group_data,a,v.d.API,this.settings.queryTimeout).then(function(m){var f=m.code;if(f&&f!=v.m.NetworkModuleNetworkError)return b=Object(c.o)(v.m.GroupModuleQueryGroupInfoError,m.message,f),i.time=Date.now()-i.time,i.error=b,s.logger.warn([v.B.Group],v.A.QueryGroupInfo,i),Promise.reject(b);f!=v.m.NetworkModuleNetworkError&&(s.syncGroupInfo(m.group_name,Object(c.a)(m.group_avatar)),s.dbGroup.groupNotice=m.group_notice,m.group_data_seq&&(s.dbGroup.dataSeq=+m.group_data_seq.toString()),s.dbMgr.addGroupList([s.dbGroup]));var b={groupInfo:s.createGroupFullInfo()};return i.time=Date.now()-i.time,i.result=b,s.logger.info([v.B.Group],v.A.QueryGroupInfo,i),b})},n.prototype.updateGroupAttributes=function(s){var i,a=this,m={time:Date.now(),groupID:this.groupID,params:s},f=v.p.Set,b=Array.isArray(s)?(f=v.p.Delete,i=v.A.DeleteGroupAttributes,(s=Array.from(new Set(s))).map(function(C){return{key:C,value:""}})):(i=v.A.SetGroupAttributes,Object.keys(s).map(function(C){return{key:C,value:s[C]}}));return b={group_id:this.groupID,attributes:{action:f,attributes:b}},this.connMgr.sendRequest(v.a.im_group_modify_attributes,b).then(function(C){if(C.code)return _=Object(c.o)(v.m.GroupModuleGroupAttributesOperationFailed,C.message,C.code),m.time=Date.now()-m.time,m.error=_,a.logger.warn([v.B.Group],i,m),Promise.reject(_);a.mergeGroupAttributes(f,C.attributes,a.createOwnerOperator());var _={groupID:a.groupID,errorKeys:C.fail_keys?C.fail_keys.map(function(w){return w.key}):[]};return m.time=Date.now()-m.time,m.result=_,a.logger.info([v.B.Group],i,m),_})},n.prototype.queryGroupAttributes=function(s){var i=this,a={time:Date.now(),groupID:this.groupID,keys:s},m=this.dbGroup.attributes||{},f=(s||Object.keys(m)).map(function(b){return{key:b,seq:d.a.fromInt(((b=m[b])==null?void 0:b.seq)||1)}});return f={group_id:this.groupID,attributes:{seq:d.a.fromInt(this.dbGroup.attributeSeq||0),attributes:f}},this.connMgr.sendRequest(v.a.im_group_attributes,f,v.d.API,this.settings.queryTimeout).then(function(b){var C=b.code;if(C&&C!=v.m.NetworkModuleNetworkError)return _=Object(c.o)(v.m.GroupModuleGroupAttributesQueryFailed,b.message,C),a.time=Date.now()-a.time,a.error=_,i.logger.warn([v.B.Group],v.A.QueryGroupAttributes,a),Promise.reject(_);C!=v.m.NetworkModuleNetworkError&&i.mergeGroupAttributes(v.p.Query,b.attributes);var _={groupID:i.groupID,groupAttributes:i.createGroupAttributes(s)};return a.time=Date.now()-a.time,a.result=_,i.logger.info([v.B.Group],v.A.QueryGroupAttributes,a),_})},n.prototype.setGroupMemberInfo=function(s,i,a){var m=this,f={time:Date.now(),userID:s,value:i},b=a==v.v.Nickname?v.a.im_group_member_nickname_set:v.a.im_group_member_role_set,C=a==v.v.Nickname?v.A.SetGroupMemberNickname:v.A.SetGroupMemberRole,_={group_id:this.groupID};return a==v.v.Nickname?(_.group_name=s,_.group_notice=i):(_.user_id=s,_.role=i),this.connMgr.sendRequest(b,_).then(function(w){var M;return w.code?(M=Object(c.o)(v.m.GroupModuleUpdateGroupMemberInfoError,w.message,w.code),f.time=Date.now()-f.time,f.error=M,m.logger.warn([v.B.Group],C,f),Promise.reject(M)):(m.mergeGroupMemberInfo(a,+w.conv_list_seq.toString(),i,s),f.time=Date.now()-f.time,m.logger.info([v.B.Group],C,f),a==v.v.Nickname?{groupID:m.groupID,forUserID:s,nickname:i}:{groupID:m.groupID,forUserID:s,role:i})})},n.prototype.queryGroupMemberInfo=function(s){var i=this,a={time:Date.now(),groupID:this.groupID,userID:s},m={group_id:this.groupID,user_id:s};return this.connMgr.sendRequest(v.a.im_group_member_data,m,v.d.API,this.settings.queryTimeout).then(function(f){if((C=f.code)&&C!=v.m.NetworkModuleNetworkError)return b=Object(c.o)(v.m.GroupModuleQueryGroupMemberInfoError,f.message,C),a.time=Date.now()-a.time,a.error=b,i.logger.warn([v.B.Group],v.A.QueryGroupMemberInfo,a),Promise.reject(b);var b=i.dbGroupMemberMap.get(s)||{userID:s},C=(C!=v.m.NetworkModuleNetworkError&&(b=i.createDBMember(f.member),i.dbMgr.addGroupMemberList(i.groupID,[b])),{groupID:i.groupID,userInfo:b});return a.time=Date.now()-a.time,a.result=C,i.logger.info([v.B.Group],v.A.QueryGroupMemberInfo,a),C})},n.prototype.queryGroupMemberList=function(s){var i=this;return new Promise(function(a,m){var f={time:Date.now(),groupID:i.groupID,config:s};i.mergeServerMemberList(v.o.Biz,"apicall",function(b){var C=b&&b.code;return C&&C!=v.m.NetworkModuleNetworkError?(C=Object(c.o)(v.m.GroupModuleQueryGroupMemberListError,b.message,b.code),f.time=Date.now()-f.time,f.error=C,i.logger.info([v.B.Group],v.A.QueryGroupMemberList,f),m(C)):i.dbMgr?void i.dbMgr.getGroupMemberList(i.groupID).then(function(_){var w={},M=(i.dbGroupMemberMap=new Map,(_=_.filter(function(A){return i.dbGroupMemberMap.set(A.userID,A),!A.state||(w[A.userID]=A.seq,!1)})).sort(function(A,j){return A.seq-j.seq}),_.length),S=((S=_[_.length-1])==null?void 0:S.seq)||0,I=s.nextFlag||0,x=0,E=(0<I&&I<S?x=_.findIndex(function(A){return A.seq==I})+1:S<=I&&S&&(x=_.length),Math.floor(x+s.count)),D=(_=_.slice(x,E)).length,R=((R=_[D-1])==null?void 0:R.seq)||0,q=(_=_.map(function(A){return Object(c.m)(i.memberKeys,A)}),D==M||S==R?0:R);f.time=Date.now()-f.time,Object.assign(f,{start:x,end:E,next:R,max:S,total:M,count:D,nextFlag:q,flag:w}),i.logger.info([v.B.Group],v.A.QueryGroupMemberList,f),a({groupID:i.groupID,userList:_,nextFlag:q})}):a({groupID:i.groupID,userList:[],nextFlag:0})})})},n.prototype.queryGroupMemberCount=function(){var s={groupID:this.groupID,count:this.tatalMemberCount};return this.logger.info([v.B.Room],v.A.QueryGroupMemberCount,s),Promise.resolve(s)},n.prototype.queryReceiptMemberList=function(s,i,a,m){var f=this;return new Promise(function(b){function C(){for(var R={},q=(f.dbGroupMemberMap.forEach(function(W){return R[W.seq]=W}),Object.keys(i.memberSeqs).filter(function(W){return(m?i.memberSeqs[W]:!i.memberSeqs[W])&&!R[W]})),A=[],j=0;j<q.length;j+=100){var H=f.connMgr.sendRequest(v.a.im_group_members_by_seq,{conv_id:f.groupID,conv_msg_seq:q.slice(j,j+100)},v.d.SDK,f.settings.queryTimeout,!0);A.push(H)}Promise.all(A).then(function(W){var X=[];W.forEach(function(ee){(ee=ee.members)&&ee.length&&ee.forEach(function(ae){ae=f.createDBMember(ae),R[ae.seq]=ae,X.push(ae)})}),f.dbMgr.addGroupMemberList(f.groupID,X)}).then(function(){var W=0,X=[],ee=(Object.keys(i.memberSeqs).forEach(function(re){var z;(m?i.memberSeqs[re]:!i.memberSeqs[re])&&(W++,(z=R[re])?X.push(z):S.flag.push(re))}),X.sort(function(re,z){return re.seq-z.seq}),X.length),ae=((ae=X[X.length-1])==null?void 0:ae.seq)||0,N=a.nextFlag||0,k=0,L=(0<N&&N<ae?k=X.findIndex(function(re){return re.seq==N})+1:ae<=N&&ae&&(k=X.length),Math.floor(k+a.count)),$=(X=X.slice(k,L)).length,B=((B=X[$-1])==null?void 0:B.seq)||0,G=X.map(function(re){return Object(c.m)(f.memberKeys,re)}),Z=$==ee||ae==B?0:B;S.time=Date.now()-S.time,Object.assign(S,{start:k,end:L,next:B,max:ae,total:ee,totalSeq:W,count:$,nextFlag:Z}),f.logger.info([v.B.Group],M,S),b({groupID:f.groupID,nextFlag:Z,userList:G})})}var _=i.receiptMemberListSeq||0,w=s.conversationSeq,M=m?v.A.QueryGroupMessageReceiptReadMemberList:v.A.QueryGroupMessageReceiptUnreadMemberList,S={time:Date.now(),groupID:f.groupID,msgSeq:w,dbSeq:_,config:a,flag:[]};if(_&&i.receiptStatus!=v.E.Processing)return C();var I=1,x=0,E=0,D=++f.mergeListSeqs.receiptDetail;f.fetchServerPageReceiptDetail(_,I,w).then(function R(q){var A=q.next_list_seq;A&&(i.receiptMemberListSeq=A),q.read_members&&(x+=q.read_members.length,q.read_members.forEach(function(j){return i.memberSeqs[j.toString()]=1})),q.unread_members&&(E+=q.unread_members.length,q.unread_members.forEach(function(j){return i.memberSeqs[j.toString()]=0})),i.readMemberCount=q.read_count||0,i.unreadMemberCount=q.unread_count||0,!q.fetch_end&&A&&f.engineConfig.token?f.fetchServerPageReceiptDetail(A,++I,w).then(R):(q.degree=I,q.read_members_len=x,q.unread_members_len=E,A=v.a.im_msg_read_receipt_detail,S.dataReport=f.dataReport.endNetworkRequest(A,D,q),f.dbMgr.addMessageExtraList([i],"receiptinfo"),C())})})},n.prototype.onPushGroupCreate=function(s){this.tatalMemberCount=s.member_count,this.groupMember.memberRole=v.w.Member,this.createGroupCallback(s)},n.prototype.onPushGroupMemberInvited=function(s){this.tatalMemberCount=s.member_count,this.groupMember.memberRole=v.w.Member,s.members=[{user_id:this.engineConfig.userID,member_data:{user_name:this.engineConfig.userName,user_avatar:this.engineConfig.userAvatarUrl,role:v.w.Member}}],this.joinGroupCallback(s,v.u.Invited,v.s.Invited)},n.prototype.onPushGroupDataModify=function(s){var i,a=this.dbGroup.dataSeq||0,m=+((m=s.group_data_seq)==null?void 0:m.toString())||0;m&&a<=m&&(i=s.modify_type==2?Object(c.a)(s.group_avatar):s.modify_type==1?s.group_name:s.group_notice,this.mergeGroupData(s.modify_type||0,m,i,this.createOperator(s.op_user))),this.logger.info([v.B.Group],v.A.PushCMD,{dbSeq:a,svrSeq:m,type:s.modify_type})},n.prototype.onPushGroupAttributesModify=function(s){var i=this.dbGroup.attributeSeq||0,a=+((a=s.attributes.seq)==null?void 0:a.toString())||0;a&&i<=a&&this.mergeGroupAttributes(v.p.Push,s.attributes,this.createOperator(s.op_user)),this.logger.info([v.B.Group],v.A.PushCMD,{dbSeq:i,svrSeq:a})},n.prototype.onPushGroupOwnerTransfer=function(s){s.user_id==this.groupMember.userID&&(this.groupMember.memberRole=v.w.Owner),this.transferGroupOwnerCallback([{userID:s.user_id},{userID:s.op_user.user_id}]),this.updateMemberSeq(s.member_all_seq)},n.prototype.onPushGroupMemberChange=function(s){var i=this,a=(this.tatalMemberCount=s.member_count,this.dbGroup.memberSeq||0),m=+((m=s.member_all_seq)==null?void 0:m.toString());if(this.logger.info([v.B.Group],v.A.PushCMD,{dbSeq:a,svrSeq:m}),m&&!(m<a))switch(s.new_owner_id==this.groupMember.userID&&(this.groupMember.memberRole=v.w.Owner),s.change_type){case v.t.Enter:this.joinGroupCallback(s,v.u.Joined);break;case v.t.Invited:this.eventBus.emit(v.n.GroupMemberStateChanged,{groupID:this.groupID,state:v.x.Enter,event:v.u.Invited,operatedInfo:this.createOperator(s.op_user),userList:this.inviteUsersIntoGroupCallback(s)});break;case v.t.Quit:case v.t.Kickout:case v.t.OwnerQuit:var f=this.createOperator(s.op_user);this.eventBus.emit(v.n.GroupMemberStateChanged,{groupID:this.groupID,state:v.x.Quit,event:s.change_type===v.t.Kickout?v.u.KickedOut:v.u.Left,operatedInfo:f,userList:this.kickGroupMemberCallback(s)}),s.change_type==v.t.OwnerQuit&&this.groupOwnerQuitCallback(s.new_owner_id,f);break;case v.t.Modify:f=s.members.map(function(b){return(b=i.createDBMember(b)).userID==i.groupMember.userID&&(b.memberNickname&&(i.groupMember.memberNickname=b.memberNickname),b.memberRole&&(i.groupMember.memberRole=b.memberRole)),b}),this.dbMgr.addGroupMemberList(this.groupID,f),this.eventBus.emit(v.n.GroupMemberInfoUpdated,{groupID:this.groupID,operatedInfo:this.createOperator(s.op_user),userList:f})}},n.prototype.onConnected=function(){this.mergeServerMemberList(v.o.SDKHb,"onConnected")},n.prototype.onUpdateSelf=function(){this.groupMember.userName=this.engineConfig.userName,this.groupMember.memberAvatarUrl=this.engineConfig.userAvatarUrl;var s=this.dbGroupMemberMap.get(this.engineConfig.userID);s&&(s.userName=this.engineConfig.userName,s.memberAvatarUrl=this.engineConfig.userAvatarUrl,this.dbMgr.addGroupMemberList(this.groupID,[s]))},n.prototype.createGroupFullInfo=function(){return{baseInfo:{groupID:this.dbGroup.groupID,groupName:this.dbGroup.groupName,groupAvatarUrl:this.dbGroup.groupAvatarUrl},groupNotice:this.dbGroup.groupNotice,notificationStatus:this.dbGroup.notificationStatus,groupAttributes:this.createGroupAttributes()}},n.prototype.createOwnerOperator=function(){return g(g({},this.groupMember),{operatedUserInfo:g(g({},this.groupMember),{memberAvatarUrl:""})})},n.prototype.createOperator=function(s){var i=s.user_id,a=s.user_name,m=s.group_nick_name;return s=s.role,i=g(g({},this.dbGroupMemberMap.get(i)),{userID:i,userName:""}),a&&(i.userName=typeof a=="string"?a:Object(c.a)(a)),i.memberNickname=m||"",i.memberRole=s||v.w.Member,delete i.seq,delete i.dataSeq,delete i.state,g(g({},i),{operatedUserInfo:g(g({},i),{memberAvatarUrl:""})})},n.prototype.createDBMember=function(s,i){var a=s.user_id,m=this.dbGroupMemberMap.get(a)||{userID:a},f=(w=s.member_data).user_name,b=w.user_avatar,C=w.group_nick_name,_=w.role,w=w.member_data_seq;return!(b=(f&&(m.userName=f),b&&b.length&&(m.memberAvatarUrl=Object(c.a)(b)),C&&(m.memberNickname=C),_&&(m.memberRole=_),w&&(m.dataSeq=+w.toString()),+((f=s.member_seq)==null?void 0:f.toString())||0))&&m.seq||(m.seq=b),i?(m.state=1,this.dbGroupMemberMap.delete(a)):(m.state=0,this.dbGroupMemberMap.set(a,m)),m},n.prototype.createErrorUser=function(s){return{userID:s.user_id,reason:Object(c.p)(s.sub_code)}},n.prototype.createGroupAttributes=function(s){var i=this;if(!this.dbGroup.attributes)return this.dbGroup.attributes={},{};var a={};return(s=s||Object.keys(this.dbGroup.attributes)).forEach(function(m){var f=i.dbGroup.attributes[m];f&&!f.state&&(a[m]=f.value)}),a},n.prototype.createDBGroupAttributes=function(s){return(s||[]).reduce(function(i,a){var m;return a.seq=+((m=a.seq)==null?void 0:m.toString())||0,i[a.key]=a,i},{})},n.prototype.mergeMemberList=function(s,i){var a=this,m=[];i&&this.dbGroupMemberMap.clear(),s.forEach(function(f){var b=f.event_type;f=f.member,i||!b||b===v.t.Enter||b===v.t.Modify||b===v.t.Invited?a.createDBMember(f):b!==v.t.Quit&&b!==v.t.Kickout&&b!==v.t.OwnerQuit||(b=f.user_id,m.push(g(g({},a.dbGroupMemberMap.get(b)),{userID:b,state:1})),a.dbGroupMemberMap.delete(b))}),this.dbMgr.addGroupMemberList(this.groupID,m.concat(Array.from(this.dbGroupMemberMap.values())))},n.prototype.syncGroupInfo=function(s,i){typeof s=="string"&&(this.groupName=s,this.dbGroup.groupName=s),typeof i=="string"&&(this.groupAvatarUrl=i,this.dbGroup.groupAvatarUrl=i),this.eventBus.exec(v.n.InnerSyncGroupInfo,this.groupID,s,i)},n.prototype.mergeGroupData=function(s,i,a,m){s==v.r.Name?(this.syncGroupInfo(a,void 0),this.eventBus.emit(v.n.GroupNameUpdated,{groupID:this.groupID,groupName:a,operatedInfo:m})):s!=v.r.Notice&&s?s==v.r.Avatar&&(this.syncGroupInfo(void 0,a),this.eventBus.emit(v.n.GroupAvatarUrlUpdated,{groupID:this.groupID,groupAvatarUrl:a,operatedInfo:m})):(this.dbGroup.groupNotice=a,this.eventBus.emit(v.n.GroupNoticeUpdated,{groupID:this.groupID,groupNotice:a,operatedInfo:m})),i&&(this.dbGroup.dataSeq=i),this.dbMgr.addGroupList([this.dbGroup])},n.prototype.mergeGroupAttributes=function(s,i,a){var m=i.seq,f=(i=i.attributes,this.dbGroup.attributes||{}),b={},C={},_=[],w={action:s,seq:m,attributes:i,setAttrs:b,delAtrrs:C};i.forEach(function(M){var S,I=M.key,x=M.value;M=+((M=M.seq)==null?void 0:M.toString()),s==v.p.Delete||s==v.p.Push&&!M?(C[I]=x,f[I]=g(g({},f[I]),{key:I,state:1})):M&&(S=((S=f[I])==null?void 0:S.state)||0,(!f[I]||M>f[I].seq)&&(S=0,b[I]=x),f[I]=g(g({},f[I]),{key:I,value:x,seq:M,state:S}))}),Object.keys(b).length&&_.push({action:v.q.Set,groupAttributes:b}),Object.keys(C).length&&_.push({action:v.q.Delete,groupAttributes:C}),a&&_.length&&this.eventBus.emit(v.n.GroupAttributesUpdated,{groupID:this.groupID,operatedInfo:a,infoList:_}),this.dbGroup.attributes=f,m&&(this.dbGroup.attributeSeq=+m.toString()),this.dbMgr.addGroupList([this.dbGroup]),w.dbSeq=this.dbGroup.attributeSeq,w.dbAttr=f,this.logger.info([v.B.Group],"mergeGroupAttributes",w)},n.prototype.mergeGroupMemberInfo=function(s,i,a,m){var f=g(g({},this.dbGroupMemberMap.get(m)),{userID:m});i&&(f.dataSeq=i),s===v.v.Nickname?(f.memberNickname=a,m==this.groupMember.userID&&(this.groupMember.memberNickname=f.memberNickname)):s===v.v.Role&&(f.memberRole=a,m==this.groupMember.userID&&(this.groupMember.memberRole=f.memberRole)),this.dbGroupMemberMap.set(m,f),this.dbMgr.addGroupMemberList(this.groupID,[f]),this.eventBus.emit(v.n.GroupMemberInfoUpdated,{groupID:this.groupID,operatedInfo:this.createOwnerOperator(),userList:[f]})},n.prototype.fetchServerPageMember=function(s,i,a,m){var f=v.a.im_group_member_list;return s={group_id:this.groupID,count:100,cur_member_seq:d.a.fromString(""+s),full_pull:m,degree:i,how:a},m=this.settings.queryTimeout,a=a==v.o.Biz?v.d.API:v.d.SDK,i==1&&this.dataReport.beginNetworkRequest(f,this.mergeListSeqs.member,s,a),this.connMgr.sendRequest(f,s,a,m,!0)},n.prototype.fetchServerPageReceiptDetail=function(s,i,a){return a={group_id:this.groupID,conv_msg_seq:d.a.fromString(""+a),list_seq:s,count:100,degree:i},s=v.a.im_msg_read_receipt_detail,i==1&&this.dataReport.beginNetworkRequest(s,this.mergeListSeqs.receiptDetail,a,v.d.API),this.connMgr.sendRequest(s,a,v.d.API,this.settings.queryTimeout,!0)},n.prototype.mergeServerMemberList=function(s,i,a){var m=this,f=this.dbGroup.memberSeq||0,b={time:Date.now(),groupID:this.groupID,dbSeq:f,how:s,action:i,count:0},C=[],_=1,w=++this.mergeListSeqs.member,M=function(I){m.logger&&(I.degree=_,I.svrCount=C.length,I=m.dataReport.endNetworkRequest(v.a.im_group_member_list,w,I),b.time=Date.now()-b.time,b.count=C.length,b.dataReport=I,m.logger.info([v.B.Group],"mergeServerMemberList",b))},S=function(I){if(I.code||!m.dbMgr)return M(I),a&&a(I);m.tatalMemberCount=I.member_count;var x=+((x=I.member_all_seq)==null?void 0:x.toString())||0;if(x<=f)return M(I),a&&a();var E=+((E=I.cur_member_seq)==null?void 0:E.toString())||0;C.push.apply(C,function(D,R,q){if(q||arguments.length===2)for(var A,j=0,H=R.length;j<H;j++)!A&&j in R||((A=A||Array.prototype.slice.call(R,0,j))[j]=R[j]);return D.concat(A||Array.prototype.slice.call(R))}([],y(I.change_list),!1)),E<x&&!I.fetch_end?m.fetchServerPageMember(E,++_,s,1).then(S):(M(I),x!=f&&(m.dbGroup.memberSeq=x,m.dbMgr.addGroupList([m.dbGroup])),m.mergeMemberList(C,!!I.full_list),a&&a())};this.fetchServerPageMember(f,_,s,0).then(S)},n.prototype.fetchMembersInfo=function(s,i){var a=this,m=[];if(s.forEach(function(_){_.member_data.user_avatar&&_.member_data.user_avatar.length||m.push(_.user_id)}),m.length){for(var f=[],b=0;b<m.length;b+=10){var C=this.connMgr.sendRequest(v.a.im_fetch_user_info,{_ev_:i,quey_user_id:m.slice(b,b+10)},v.d.SDK,this.settings.queryTimeout,!0);f.push(C)}Promise.all(f).then(function(_){var w=[];_.forEach(function(M){(M=M.result)&&M.length&&M.forEach(function(S){var I=S.user_id,x=s.find(function(E){return I==E.user_id});x&&(x.member_data.user_name=Object(c.a)(S.user_name),x.member_data.user_avatar=S.avatar,w.push(a.createDBMember(x)))})}),a.dbMgr.addGroupMemberList(a.groupID,w)})}},n.prototype.createGroupCallback=function(s){return Object.assign(this.dbGroup,{groupID:s.group_id,groupNotice:s.group_notice,notificationStatus:v.y.Notify,attributes:this.createDBGroupAttributes(s.attributes.attributes)}),s.group_list_seq&&(this.dbGroup.groupSeq=s.group_list_seq.toString()),s.attributes.seq&&(this.dbGroup.attributeSeq=+s.attributes.seq.toString()),s.member_all_seq&&(this.dbGroup.memberSeq=+s.member_all_seq.toString()),this.syncGroupInfo(s.group_name,Object(c.a)(s.group_avatar)),this.dbMgr.addGroupList([this.dbGroup]),s.group_notice||this.queryGroupInfo(),this.fetchMembersInfo(s.members,"createGroupCallback"),this.handleCreateGroupCallback(s)},n.prototype.handleCreateGroupCallback=function(s){var i=this,a=s.members.map(function(b){return i.createDBMember(b)}),m=(s=(this.dbMgr.addGroupMemberList(this.groupID,a),s.op_user?this.createOperator(s.op_user):this.createOwnerOperator())).userID,f=(this.eventBus.emit(v.n.GroupStateChanged,{state:v.z.Enter,event:v.s.Created,operatedInfo:s,groupInfo:this.createGroupFullInfo()}),this.dbGroup.attributes&&0<Object.keys(this.dbGroup.attributes).length&&(f={action:v.q.Set,groupAttributes:this.createGroupAttributes()},this.eventBus.emit(v.n.GroupAttributesUpdated,{groupID:this.groupID,operatedInfo:s,infoList:[f]})),this.eventBus.emit(v.n.GroupMemberStateChanged,{groupID:this.groupID,state:v.x.Enter,event:v.u.Joined,operatedInfo:s,userList:[s.operatedUserInfo]}),a.filter(function(b){return b.userID!=m}));return f.length&&this.eventBus.emit(v.n.GroupMemberStateChanged,{groupID:this.groupID,state:v.x.Enter,event:v.u.Invited,operatedInfo:s,userList:f}),a},n.prototype.handleJoinGroup=function(s,i,a){var m=this,f=s.group_notice,b=s.member_all_seq,C=s.group_data_seq,_=s.group_list_seq,w=s.properties;return f&&(this.dbGroup.groupNotice=f),_&&(this.dbGroup.groupSeq=_.toString()),f=s.members.map(function(M){return m.createDBMember(M)}),a?(this.syncGroupInfo(s.group_name,Object(c.a)(s.group_avatar)),this.dbGroup.notificationStatus=v.y.Notify,this.mergeServerMemberList(v.o.SDKPush,"joinGroup"),this.dbGroup.attributes={},w?(this.dbGroup.attributes=this.createDBGroupAttributes(w.attributes),w.seq&&(this.dbGroup.attributeSeq=+w.seq.toString())):this.queryGroupAttributes([]),this.queryGroupInfo(),C&&(this.dbGroup.dataSeq=+C.toString())):(b&&(this.dbGroup.memberSeq=+b.toString()),this.dbMgr.addGroupMemberList(this.groupID,f)),this.dbMgr.addGroupList([this.dbGroup]),_=this.createOperator(s.op_user),a&&(this.eventBus.emit(v.n.GroupStateChanged,{state:v.z.Enter,event:a,operatedInfo:_,groupInfo:this.createGroupFullInfo()}),this.dbGroup.attributes&&0<Object.keys(this.dbGroup.attributes).length&&(w={action:v.q.Set,groupAttributes:this.createGroupAttributes()},this.eventBus.emit(v.n.GroupAttributesUpdated,{groupID:this.groupID,operatedInfo:_,infoList:[w]}))),f.length&&this.eventBus.emit(v.n.GroupMemberStateChanged,{groupID:this.groupID,state:v.x.Enter,event:i,operatedInfo:_,userList:f}),f},n.prototype.joinGroupCallback=function(s,i,a){i!=v.u.Joined||a||this.fetchMembersInfo(s.members,"joinGroupCallback"),this.handleJoinGroup(s,i,a)},n.prototype.inviteUsersIntoGroupCallback=function(s){var i=this,a=s.members.map(function(m){return i.createDBMember(m)});return this.dbMgr.addGroupMemberList(this.groupID,a),this.updateMemberSeq(s.member_all_seq),a},n.prototype.kickGroupMemberCallback=function(s){var i=this,a=s.members.map(function(m){return i.createDBMember(m,!0)});return this.updateMemberSeq(s.member_all_seq),this.dbMgr.addGroupMemberList(this.groupID,a),a},n.prototype.transferGroupOwnerCallback=function(s){var i=this;Promise.all([this.dbMgr.getGroupMember(this.groupID,s[0].userID),this.dbMgr.getGroupMember(this.groupID,s[1].userID)]).then(function(a){var m=(a=y(a,2))[0],f=(a=a[1],m.memberRole=v.w.Owner,a.memberRole=v.w.Member,s[0].dataSeq&&(m.dataSeq=s[0].dataSeq),s[1].dataSeq&&(a.dataSeq=s[1].dataSeq),i.dbGroupMemberMap.set(m.userID,m),i.dbGroupMemberMap.set(a.userID,a),i.dbMgr.addGroupMemberList(i.groupID,[m,a]),g(g({},a),{operatedUserInfo:a}));i.eventBus.emit(v.n.GroupMemberInfoUpdated,{groupID:i.groupID,operatedInfo:f,userList:[m,a]})})},n.prototype.groupOwnerQuitCallback=function(s,i){(s=g(g({},this.dbGroupMemberMap.get(s)),{userID:s})).memberRole=v.w.Owner,this.dbMgr.addGroupMemberList(this.groupID,[s]),this.eventBus.emit(v.n.GroupMemberInfoUpdated,{groupID:this.groupID,operatedInfo:i,userList:[s]})},n.prototype.updateMemberSeq=function(s){(s=+(s==null?void 0:s.toString()))&&this.dbGroup&&s!=this.dbGroup.memberSeq&&(this.dbGroup.memberSeq=s,this.dbMgr.addGroupList([this.dbGroup]))},n);function n(s,i,a,m,f){this.type=v.k.Group,this.groupID="",this.groupName=void 0,this.groupAvatarUrl=void 0,this.tatalMemberCount=0,this.mergeListSeqs={member:0,receiptDetail:0},this.dbGroup={},this.dbGroupMemberMap=new Map,this.memberKeys=["userID","userName","memberRole","memberAvatarUrl","memberNickname"],this.dbGroup.groupID=s,this.groupID=s,this.engineConfig=i,this.logger=u.a.getInstance().logger,this.settings=u.a.getInstance().settings,this.dataReport=u.a.getInstance().dataReport,this.eventBus=a,this.dbMgr=m,this.connMgr=f,this.groupMember={userID:this.engineConfig.userID,userName:this.engineConfig.userName,memberAvatarUrl:this.engineConfig.userAvatarUrl,memberNickname:"",memberRole:v.w.Member}}},function(e,t,r){r.d(t,"a",function(){return o}),t=r(4);var d=r.n(t),u=r(3),c=r(1),v=r(0),g=function(){return(g=Object.assign||function(s){for(var i,a=1,m=arguments.length;a<m;a++)for(var f in i=arguments[a])Object.prototype.hasOwnProperty.call(i,f)&&(s[f]=i[f]);return s}).apply(this,arguments)},y=function(s,i){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var m,f,b=a.call(s),C=[];try{for(;(i===void 0||0<i--)&&!(m=b.next()).done;)C.push(m.value)}catch(_){f={error:_}}finally{try{m&&!m.done&&(a=b.return)&&a.call(b)}finally{if(f)throw f.error}}return C},o=(Object.defineProperty(n.prototype,"renewTokenTimeout",{get:function(){return 30},enumerable:!1,configurable:!0}),n.prototype.destroy=function(){this.stopHB(!0),this.logger.stop(),this.connMgr=null,this.eventBus=null,this.logger=null,this.settings=null,this.dataReport=null,this.crypto=null,this.engineConfig=null},n.prototype.login=function(s,i){var a,m=this,f=(b=y(Object(c.g)(i,0),2))[0],b=b[1];if(f)return a=Object(c.o)(f),this.logger.warn([v.B.User],v.A.Login,{error:a,expireTime:b,token:i}),Promise.reject(a);if(this.loginState==v.f.Connected)return this.engineConfig.userID!==s.userID?(f={error:a=Object(c.o)(v.m.NetworkModuleUserHasAlreadyLogged),userID:s.userID,oldUserID:this.engineConfig.userID},this.logger.warn([v.B.User],v.A.Login,f),Promise.reject(a)):(this.engineConfig.tokenExpireTime<b&&this.updateToken(i,b),this.emitConnectionStateChanged(v.f.Connected,v.e.ActiveLogin),Promise.resolve());this.connectUrls=this.connMgr.getUrls(),this.engineConfig.userID=s.userID,s.userName&&(this.engineConfig.userName=s.userName),this.redirectTempLoginInfo.token=i,this.redirectTempLoginInfo.tokenExpireTime=b,this.dbMgr.setUserID(s.userID),this.initDataReport(i),this.logger.init(this.engineConfig.appID+"",s),this.dataReport.begin("/sdk/init",0,null);var C={time:Date.now(),userInfo:s,expireTime:b};return this.sendLoginRequest(i,b,v.d.API,C,!0).then(function(){return m.connMgr.sendDispatchRequest(),m.settings.startSyncRemoteConfig(m.connMgr,m.engineConfig.handle,i).then(function(_){return _&&m.initDataReport(i,!0)}),m.loadDB()}).catch(function(_){throw _&&_.code||(C.time=Date.now()-C.time,C.error=_,m.logger.warn([v.B.User],v.A.Login,C)),_||Object(c.o)(v.m.NetworkModuleNetworkError)})},n.prototype.logout=function(s){var i=this,a=(this.logger.info([v.B.User],v.A.Logout,{state:this.loginState,reason:s}),{logout_reason:0,logout_check:this.k1SignLogoutBuffer});this.connMgr.sendRequest(v.a.sw_logout,a,s?v.d.SDK:v.d.API).then(function(){return i.connMgr.close()}).catch(function(){return i.connMgr.close()}),this.logger.stop(),this.stopHB(!0),this.resetEngineConfig(),this.updateToken("",0),this.eventBus.exec(v.n.InnerLogout),this.loginState!==v.f.Disconnected&&this.emitConnectionStateChanged(v.f.Disconnected,v.e.Success)},n.prototype.renewToken=function(s){var i,a,m=this,f=(a=y(Object(c.g)(s,this.engineConfig.tokenExpireTime),2))[0],b=a[1];if(f)return i=Object(c.o)(f),this.logger.warn([v.B.User],v.A.RenewToken,{error:i,expireTime:b,token:s}),Promise.reject(i);if((a=Date.now())-this.lastRenewTokenTime<500)return i=Object(c.o)(v.m.CommonModuleTriggerSDKFrequencyLimit),this.logger.warn([v.B.User],v.A.RenewToken,i),Promise.reject(i);var C={time:this.lastRenewTokenTime=a};return f={user_name:Object(c.e)(s)},this.connMgr.sendRequestWithHook(v.a.sw_renew_token,f,v.d.API,function(_,w){w&&(w.sdk_duration=b-Math.floor(Date.now()/1e3))}).then(function(_){return _.code?(_=Object(c.o)(v.m.NetworkModuleTokenInvalid,_.message,_.code),C.time=Date.now()-C.time,C.error=_,m.logger.warn([v.B.User],v.A.RenewToken,C),Promise.reject(_)):(m.updateToken(s,b),m.startCheckTokenExpireTime(b),C.time=Date.now()-C.time,m.logger.info([v.B.User],v.A.RenewToken,C),{token:s})})},n.prototype.updateUserName=function(s){var i=this,a={time:Date.now(),userName:s},m={user_name:Object(c.e)(s),set_flag:1};return this.connMgr.sendRequest(v.a.im_modify_user_info,m).then(function(f){return f.code?(f=Object(c.o)(v.m.CommonModuleIMServerError,f.message,f.code),a.time=Date.now()-a.time,a.error=f,i.logger.warn([v.B.User],v.A.UpdateUserName,a),Promise.reject(f)):(i.engineConfig.userName=s,(f=i.settings.getDBUser()).userName=s,i.dbMgr.setUser(f),i.eventBus.exec(v.n.InnerUpdateSelf),a.time=Date.now()-a.time,i.logger.info([v.B.User],v.A.UpdateUserName,a),{userName:s})})},n.prototype.updateUserExtendedData=function(s){var i=this,a={time:Date.now(),extendedData:s},m={extra:Object(c.e)(s),set_flag:10};return this.connMgr.sendRequest(v.a.im_modify_user_info,m).then(function(f){return f.code?(f=Object(c.o)(v.m.CommonModuleIMServerError,f.message,f.code),a.time=Date.now()-a.time,a.error=f,i.logger.warn([v.B.User],v.A.UpdateUserExtendedData,a),Promise.reject(f)):(i.engineConfig.userExtendedData=s,(f=i.settings.getDBUser()).extendedData=s,i.dbMgr.setUser(f),a.time=Date.now()-a.time,i.logger.info([v.B.User],v.A.UpdateUserExtendedData,a),{extendedData:s})})},n.prototype.updateUserAvatarUrl=function(s){var i=this,a={time:Date.now(),userAvatarUrl:s},m={user_avatar:Object(c.e)(s),set_flag:16};return this.connMgr.sendRequest(v.a.im_modify_user_info,m).then(function(f){return f.code?(f=Object(c.o)(v.m.CommonModuleIMServerError,f.message,f.code),a.time=Date.now()-a.time,a.error=f,i.logger.warn([v.B.User],v.A.UpdateUserAvatarUrl,a),Promise.reject(f)):(i.engineConfig.userAvatarUrl=s,(f=i.settings.getDBUser()).userAvatarUrl=s,i.dbMgr.setUser(f),i.eventBus.exec(v.n.InnerUpdateSelf),a.time=Date.now()-a.time,i.logger.info([v.B.User],v.A.UpdateUserAvatarUrl,a),{userAvatarUrl:s})})},n.prototype.reportZPNs=function(){var s=this.engineConfig.ZPNsPushID;s&&this.loginState==v.f.Connected&&this.connMgr.sendRequest(v.a.im_userstate_zpns_report,{key:s},v.d.SDK)},n.prototype.onPushRedirect=function(s){s&&s.length&&(this.redirectTempLoginInfo.push=!0,this.createConnection(s,this.redirectTempLoginInfo.token,this.redirectTempLoginInfo.tokenExpireTime,v.a.sw_push_redirect))},n.prototype.onConnected=function(s){var i,a,m,f=this;(s||this.needRelogin)&&(i={time:Date.now(),isReconnect:s,action:"onConnected"},this.needRelogin&&(this.needRelogin=!1,i.cmd=v.a.sw_push_kickout),a=(m=this.engineConfig).token,m=m.tokenExpireTime,a&&m?this.sendLoginRequest(a,m,v.d.SDK,i).then(function(){s&&f.eventBus.exec(v.n.InnerConnected)}):(i.error="token is null",this.logger.warn([v.B.User],v.A.Login,i)))},n.prototype.onDisConnected=function(s){this.stopHB(s),s&&this.logger.stop(),this.emitConnectionStateChanged(v.f.Disconnected,v.e.LoginTimeout),this.eventBus.exec(v.n.InnerDisConnected)},n.prototype.onPushKickout=function(s){s.seq==1?this.needRelogin=!0:(s={reason:s.code,message:s.key},this.closeConnection(v.e.KickedOut,JSON.stringify(s)))},n.prototype.onPushAccesshub=function(s){s._type==19?(delete s._type,this.PCEstablished=s):s._type==30&&s.reason==20010&&(this.handleLoginRedirectRequest(!0,v.m.CommonModuleUnactivatedIMServer),this.eventBus.emit(v.n.Error,Object(c.o)(v.m.CommonModuleUnactivatedIMServer)))},n.prototype.initDataReport=function(s,i){var a=(m=y(this.settings.fetchZGLogConfig(),2))[0],m=m[1];this.logger.setUploadURL(a),this.dataReport.init(this.engineConfig.appID,m),this.dataReport.start(this.engineConfig.userID,s,i?m:void 0),s=g(g({},this.PCEstablished),{urls:this.connectUrls.join(),logger:a,report:m}),this.logger.info([v.B.Connection],"fetchSetting",s),i=JSON.stringify(Object.assign(s,this.settings.cloudSetting)),this.dataReport.end("/sdk/init",0,{sdk_config:i})},n.prototype.createConnection=function(s,i,a,m){var f=this;return m={time:Date.now(),action:m,serveres:s},this.connectUrls=s[0].indexOf("wss://")==0?s:this.connMgr.getUrls(),this.dataReport.report("/sdk/reconnect",{domain:s}),this.handleLoginRedirectRequest(!1),this.sendLoginRequest(i,a,v.d.SDK,m).then(function(){return f.loadDB()}).catch(function(b){throw f.handleLoginRedirectRequest(!0),b})},n.prototype.sendHandshakeRequest=function(){this.connMgr.sendRequestWithNoRsp(v.a.sw_handshake_req,g({},this.settings.deviceInfo))},n.prototype.sendLoginRequest=function(s,i,a,m,f){var b=this;return this.connMgr.create([this.connectUrls]).then(function(){b.sendHandshakeRequest();var C=f?v.f.Connecting:v.f.Reconnecting,_=(b.emitConnectionStateChanged(C,v.e.ActiveLogin),g(g({},b.settings.deviceInfo),{user_name:Object(c.e)(b.engineConfig.userName),client_stamp:Object(c.e)(b.crypto.generateNonce()),k1_sign:b.crypto.generateK1Sign(),login_token:Object(c.e)(s)}));return b.reloginTokenBuffer&&(_.relogin_token=b.reloginTokenBuffer),b.engineConfig.ZPNsPushID&&(_.zpns_push_id=b.engineConfig.ZPNsPushID),b.connMgr.sendRequestWithHook(v.a.sw_login,_,a,function(w,M){f&&(b.redirectTempLoginInfo.seq=w.seq),M&&(M.sdk_duration=i-Math.floor(Date.now()/1e3),M.server_ip=b.connectUrls[0])}).then(function(w){var M=w.code;if(M){if((S=w.redirect_server)&&S.length)return x="redirect login error code: ".concat(M),b.createConnection(S,s,i,x);if(M==v.m.NetworkModuleNetworkError&&b.redirectTempLoginInfo.push)return;var S=1e3*i,I=(M==50111&&S&&S<Date.now()?b.closeConnection(v.e.LoginInterrupted,"Token expire"):b.emitConnectionStateChanged(v.f.Disconnected,v.e.LoginInterrupted),b.redirectTempLoginInfo.push=!1,M==v.m.CommonModuleUnactivatedIMServer?Object(c.o)(v.m.CommonModuleUnactivatedIMServer):Object(c.o)(v.m.NetworkModuleServerError,w.message,M));return m.time=Date.now()-m.time,m.error=I,b.logger.warn([v.B.User],v.A.Login,m),Promise.reject(I)}if(M!=v.m.Success){b.userNameBuffer.user_name=_.user_name,b.reloginTokenBuffer=w.relogin_token,b.k1SignLogoutBuffer=b.crypto.md5Bytes(_.k1_sign),b.engineConfig.sessionID=w.rspHeader.session_id,b.engineConfig.serverUserID=w.rspHeader.user_nid,b.engineConfig.controls=w.rspHeader.controls,b.settings.serverOffsetTime=w.server_timestamp.toString()-Date.now(),b.dataReport.setServerUserID(w.rspHeader.user_nid.toString()),b.crypto.decryptK2Sign(w.k2_sign),b.redirectTempLoginInfo.push=!1,b.startHB(w.hb_interval,w.hb_timeout),b.updateToken(s,i),b.startCheckTokenExpireTime(i);try{b.setMailHBFetchConfig(JSON.parse(w.im_conf_json))}catch{}b.logger.start(),b.emitConnectionStateChanged(v.f.Connected,v.e.Success),b.reportZPNs();var x=b.handleLoginRedirectRequest(!0);m.time=Date.now()-m.time,m.seq=x,b.logger.info([v.B.User],v.A.Login,m),setTimeout(function(){b.logger&&b.logger.upload("login")},1e4)}})})},n.prototype.updateToken=function(s,i){this.engineConfig.token=s,this.engineConfig.tokenExpireTime=i,this.dataReport.start(this.engineConfig.userID,s),this.logger.renewToken(s)},n.prototype.resetEngineConfig=function(){this.engineConfig.sessionID=void 0,this.engineConfig.serverUserID=void 0,this.engineConfig.controls=void 0},n.prototype.startHB=function(s,i){var a=this;!s||s<0||(this.stopHB(!1),this.hbLog=!0,this.settings.hbTimeoutMaxCount=Math.ceil((i||3e4)/s),this.hbTimer=setInterval(function(){a.connMgr.sendRequestWithHeartbeat(v.a.sw_hb,a.userNameBuffer,a.hbLog,s).then(function(m){return a.hbLog=!1,a.settings&&m.code!=1?m.code?(m.code==v.m.NetworkModuleNetworkError&&a.hbTimeoutCount++,m.timeoutCount=a.hbTimeoutCount,a.hbTimeoutCount>=a.settings.hbTimeoutMaxCount&&(a.stopHB(!1),a.onConnected(!0)),a.settings.needReloginCodeList.indexOf(m.code)!=-1&&a.closeConnection(v.e.LoginInterrupted,"Session id invalid"),m.state=a.loginState,void a.logger.warn([v.B.User],"userHB",m)):void(m.server_timestamp&&(a.hbTimeoutCount=0,a.settings.serverOffsetTime=m.server_timestamp.toString()-Date.now(),m.heartbeat_interval!=s&&a.startHB(m.heartbeat_interval,m.hb_timeout))):a.stopHB(!0)})},s),this.logger.info([v.B.User],"userHB","start "+s))},n.prototype.stopHB=function(s){this.hbTimer&&clearInterval(this.hbTimer),this.hbTimeoutCount=0,this.hbTimer=0,s&&(this.renewTokenTimer&&clearTimeout(this.renewTokenTimer),this.expireTokenTimer&&clearTimeout(this.expireTokenTimer),this.renewTokenTimer=0,this.expireTokenTimer=0)},n.prototype.startCheckTokenExpireTime=function(s){var i=this;(s=(this.renewTokenTimer&&clearTimeout(this.renewTokenTimer),this.expireTokenTimer&&clearTimeout(this.expireTokenTimer),s-Math.floor(Date.now()/1e3)))<this.renewTokenTimeout?(this.logger.info([v.B.User],"tokenWillExpire","token will expire"),this.eventBus.emit(v.n.TokenWillExpire,{second:s})):this.renewTokenTimer=setTimeout(function(){i.logger.info([v.B.User],"tokenWillExpire","token will expire");var a={second:i.renewTokenTimeout};i.eventBus.emit(v.n.TokenWillExpire,a)},1e3*(s-this.renewTokenTimeout)),this.expireTokenTimer=setTimeout(function(){return i.logout("token expire")},1e3*(s-2))},n.prototype.emitConnectionStateChanged=function(s,i,a){this.loginState=s,this.eventBus.emit(v.n.ConnectionStateChanged,{state:s,event:i,extendedData:a||""})},n.prototype.handleLoginRedirectRequest=function(s,i){i===void 0&&(i=v.m.Success);var a=0;return this.redirectTempLoginInfo.seq&&(a=this.connMgr.responseRequest(this.redirectTempLoginInfo.seq,s,i)),s&&(this.redirectTempLoginInfo.seq=0,this.redirectTempLoginInfo.token="",this.redirectTempLoginInfo.tokenExpireTime=0),a},n.prototype.closeConnection=function(s,i){this.stopHB(!0),this.logger.stop(),this.logger.upload(i),this.updateToken("",0),this.resetEngineConfig(),this.eventBus.exec(v.n.InnerLogout),this.connMgr.close(),this.emitConnectionStateChanged(v.f.Disconnected,s,i)},n.prototype.setMailHBFetchConfig=function(s){var i=s.c2c_msg_seq,a=s.conv_list_seq,m=s.group_list_seq;s=function(f,b){var C={};for(w in f)Object.prototype.hasOwnProperty.call(f,w)&&b.indexOf(w)<0&&(C[w]=f[w]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,w=Object.getOwnPropertySymbols(f);_<w.length;_++)b.indexOf(w[_])<0&&Object.prototype.propertyIsEnumerable.call(f,w[_])&&(C[w[_]]=f[w[_]]);return C}(s,["c2c_msg_seq","conv_list_seq","group_list_seq"]),Object.assign(this.settings.mailHBFetchConfig,s),i&&(this.settings.mailHBFetchConfig.c2c_msg_seq=i),a&&(this.settings.mailHBFetchConfig.conv_list_seq=a),m&&(this.settings.mailHBFetchConfig.group_list_seq=m)},n.prototype.setDBUser=function(s,i){return(i=i.find(function(a){return a.userID==s}))?i.nid=this.engineConfig.serverUserID.toString():i={userID:s,userName:this.engineConfig.userName,userAvatarUrl:"",nid:this.engineConfig.serverUserID.toString(),convSeq:"0",groupSeq:"0",msgExtraSeq:"0",c2cMsgStateSeq:"0"},this.engineConfig.userName?i.userName=this.engineConfig.userName:i.userName&&(this.engineConfig.userName=i.userName),this.engineConfig.userAvatarUrl=i.userAvatarUrl,this.settings.setDBUser(i),this.dbMgr.setUser(i),i},n.prototype.loadDB=function(){var s=this;return Promise.all([this.dbMgr.getUserList().then(function(i){var a=s.setDBUser(s.engineConfig.userID,i);return a={conv_sid:d.a.fromString(String(a.convSeq))},s.connMgr.sendRequest(v.a.im_usermail_hb,a,v.d.SDK).then(function(m){return s.setMailHBFetchConfig(m),i})}),this.dbMgr.getConversationList(),this.dbMgr.getMessageExtraList()]).then(function(i){var a;(a=s.eventBus).exec.apply(a,function(m,f,b){if(b||arguments.length===2)for(var C,_=0,w=f.length;_<w;_++)!C&&_ in f||((C=C||Array.prototype.slice.call(f,0,_))[_]=f[_]);return m.concat(C||Array.prototype.slice.call(f))}([v.n.InnerLogined],y(i),!1))})},n);function n(s,i,a,m){this.userNameBuffer={user_name:new Uint8Array},this.hbTimer=0,this.hbTimeoutCount=0,this.hbLog=!1,this.loginState=v.f.Disconnected,this.connectUrls=[],this.needRelogin=!1,this.redirectTempLoginInfo={seq:0,token:"",tokenExpireTime:0,push:!1},this.lastRenewTokenTime=0,this.PCEstablished={},this.logger=u.a.getInstance().logger,this.dataReport=u.a.getInstance().dataReport,this.settings=u.a.getInstance().settings,this.crypto=u.a.getInstance().crypto,this.engineConfig=this.settings.getEngineConfig(s),this.eventBus=i,this.dbMgr=a,this.connMgr=m}},function(e,t,r){r.d(t,"a",function(){return g});var d=r(76),u=r(3),c=r(1),v=r(0),g=(y.prototype.registerInnerEvent=function(){this.eventBus.add(v.n.InnerLogined,this.onLogined.bind(this)),this.eventBus.add(v.n.InnerConnected,this.onConnected.bind(this))},y.prototype.destroy=function(){this.callKitMap.clear(),this.connMgr=null,this.eventBus=null,this.logger=null,this.engineConfig=null},y.prototype.callInvite=function(o,n){return this.getCallKitInstance(Object(c.f)()).callInvite(o,n)},y.prototype.callCancel=function(o,n,s){var i=this;return this.getCallKitInstance(n).callCancel(o,n,s).finally(function(){i.destroyCallKit(n)})},y.prototype.callAccept=function(o,n){var s=this;return this.getCallKitInstance(o).callAccept(o,n).finally(function(){s.destroyCallKit(o)})},y.prototype.callReject=function(o,n){var s=this;return this.getCallKitInstance(o).callReject(o,n).finally(function(){s.destroyCallKit(o)})},y.prototype.onPushCallInvited=function(o){var n=o.call_id;this.getCallKitInstance(n).onCallInvitationReceived(n,o)},y.prototype.onPushCallCancel=function(o){var n=o.call_id;this.getCallKitInstance(n).onCallInvitationCancelled(o),this.destroyCallKit(n)},y.prototype.onPushCallAccept=function(o){var n=o.call_id;this.getCallKitInstance(n).onCallInvitationAccepted(o),this.destroyCallKit(n)},y.prototype.onPushCallReject=function(o){var n=o.call_id;this.getCallKitInstance(n).onCallInvitationRejected(o),this.destroyCallKit(n)},y.prototype.getCallKitInstance=function(o){var n=this.callKitMap.get(o);return n||(n=new d.a(o,this.engineConfig,this.eventBus,this.connMgr),this.callKitMap.set(o,n)),n},y.prototype.destroyCallKit=function(o){var n=this.callKitMap.get(o);n!=null&&n.destroy(),this.callKitMap.delete(o)},y.prototype.onLogined=function(){this.checkCallInfo()},y.prototype.onConnected=function(){this.checkCallInfo()},y.prototype.checkCallInfo=function(){this.callKitMap.forEach(function(o){o.checkCallInfo()})},y);function y(o,n,s){this.callKitMap=new Map,this.engineConfig=u.a.getInstance().settings.getEngineConfig(o),this.logger=u.a.getInstance().logger,this.eventBus=n,this.connMgr=s,this.registerInnerEvent()}},function(e,t,r){r.d(t,"a",function(){return v});var d=r(3),u=r(1),c=r(0),v=(g.prototype.destroy=function(){this.clearCallTimeout(),this.connMgr=null,this.eventBus=null,this.logger=null,this.engineConfig=null},g.prototype.callInvite=function(y,o){var n=this,s={time:Date.now(),invitees:y,config:o},i=(y=Array.from(new Set(y.filter(function(a){return Object(u.i)(a)}))),{enable_push:!!o.pushConfig,title:((i=o.pushConfig)==null?void 0:i.title)||"",content:((i=o.pushConfig)==null?void 0:i.content)||"",payload:((i=o.pushConfig)==null?void 0:i.payload)||"",pushStrategyId:((i=o.pushConfig)==null?void 0:i.resourcesID)||""});return i={call_id:this.callID,user_ids:y,timeout:+o.timeout||90,payload:o.extendedData?Object(u.e)(o.extendedData):void 0,offline_info:i},this.isCaller=!0,this.connMgr.sendRequest(c.a.im_call_create,i).then(function(a){if(a.code)return m=Object(u.o)(c.m.MessageModuleCallError,a.message,a.code),s.time=Date.now()-s.time,s.error=m,n.logger.warn([c.B.Call],c.A.CallInvite,s),Promise.reject(m);var m=[].concat(a.err_list.map(function(f){return{userID:f.user_id,state:f.sub_code}}));return n.checkCallTimeout(y,1e3*(a.timeout||+o.timeout)),a={callID:a.call_id,timeout:a.timeout,errorInvitees:m},s.time=Date.now()-s.time,s.result=a,n.logger.info([c.B.Call],c.A.CallInvite,s),a})},g.prototype.callCancel=function(y,o,n,s){var i=this,a=(s===void 0&&(s=c.b.Cancel),{time:Date.now(),callID:o,invitees:y,config:n,state:s});return y={user_ids:y=Array.from(new Set(y.filter(function(m){return Object(u.i)(m)}))),call_id:o,timeout:s,payload:this.encodeExtendedData(n)},this.connMgr.sendRequest(c.a.im_call_cancel,y).then(function(m){if(i.clearCallTimeout(),m.code)return f=Object(u.o)(c.m.MessageModuleCallError,m.message,m.code),a.time=Date.now()-a.time,a.error=f,i.logger.warn([c.B.Call],c.A.CallCancel,a),Promise.reject(f);var f=[].concat(m.user_list.map(function(b){return b.user_id}));return m={callID:o,errorInvitees:f},a.time=Date.now()-a.time,a.result=m,i.logger.info([c.B.Call],c.A.CallCancel,a),m})},g.prototype.callAccept=function(y,o){var n=this,s={time:Date.now(),callID:y,config:o};return o={user_id:y,user_name:this.encodeExtendedData(o)},this.connMgr.sendRequest(c.a.im_call_accept,o).then(function(i){return i.code?(i=Object(u.o)(c.m.MessageModuleCallError,i.message,i.code),s.time=Date.now()-s.time,s.error=i,n.logger.warn([c.B.Call],c.A.CallAccept,s),Promise.reject(i)):(s.time=Date.now()-s.time,n.logger.info([c.B.Call],c.A.CallAccept,s),{callID:y})})},g.prototype.callReject=function(y,o){var n=this,s={time:Date.now(),callID:y,config:o};return o={call_id:y,extended_data:this.encodeExtendedData(o)},this.connMgr.sendRequest(c.a.im_call_refuse,o).then(function(i){return i.code?(i=Object(u.o)(c.m.MessageModuleCallError,i.message,i.code),s.time=Date.now()-s.time,s.error=i,n.logger.warn([c.B.Call],c.A.CallReject,s),Promise.reject(i)):(s.time=Date.now()-s.time,n.logger.info([c.B.Call],c.A.CallReject,s),{callID:y})})},g.prototype.checkCallInfo=function(){var y,o=this;this.isCaller&&(y={call_id:this.callID},this.connMgr.sendRequest(c.a.im_call_info,y,c.d.SDK).then(function(n){n.code||n.user_list.map(function(s){var i=s.user_id,a=s.sub_code;i={invitee:i,extended_data:s.extended_data},a==c.c.Accepted?o.onCallInvitationAccepted(i):a==c.c.Rejected&&o.onCallInvitationRejected(i)})}))},g.prototype.onCallInvitationReceived=function(y,o){var n=this;this.connMgr.sendRequest(c.a.im_call_ack,{call_id:y},c.d.SDK).then(function(){var s={callID:y,timeout:o.timeout,inviter:o.caller,extendedData:Object(u.a)(o.payload)};n.eventBus.emit(c.n.CallInvitationReceived,s)})},g.prototype.onCallInvitationCancelled=function(y){var o={callID:y.call_id,inviter:y.invitee,extendedData:Object(u.a)(y.extended_data)};if(this.clearCallTimeout(),y.call_state==c.b.Timeout)return this.onCallInvitationTimeout();this.answeredInvitees.length=0,this.eventBus.emit(c.n.CallInvitationCancelled,o)},g.prototype.onCallInvitationAccepted=function(y){var o={callID:y.call_id,invitee:y.invitee,extendedData:Object(u.a)(y.extended_data)};this.answeredInvitees.push(y.invitee),this.eventBus.emit(c.n.CallInvitationAccepted,o)},g.prototype.onCallInvitationRejected=function(y){var o={callID:y.call_id,invitee:y.invitee,extendedData:Object(u.a)(y.extended_data)};this.answeredInvitees.push(y.invitee),this.eventBus.emit(c.n.CallInvitationRejected,o)},g.prototype.onCallInvitationTimeout=function(){var y={callID:this.callID};this.eventBus.emit(c.n.CallInvitationTimeout,y)},g.prototype.checkCallTimeout=function(y,o){var n=this;this.clearCallTimeout(),this.timer=setTimeout(function(){var s=c.b.Timeout,i=y.filter(function(a){return n.answeredInvitees.indexOf(a)==-1});n.callCancel(i,n.callID,void 0,s).then(function(){var a={callID:n.callID,invitees:y};n.eventBus.emit(c.n.CallInviteesAnsweredTimeout,a),n.timer=null,n.answeredInvitees.length=0})},o)},g.prototype.clearCallTimeout=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},g.prototype.encodeExtendedData=function(y){return(y=(y==null?void 0:y.extendedData)||"")?Object(u.e)(y):void 0},g);function g(y,o,n,s){this.answeredInvitees=[],this.isCaller=!1,this.timer=null,this.logger=d.a.getInstance().logger,this.callID=y,this.engineConfig=o,this.eventBus=n,this.connMgr=s}},function(e,t,r){e.exports=function(d){var u=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function c(m,f){var b=m[0],C=m[1],_=m[2],w=m[3];C=((C+=((_=((_+=((w=((w+=((b=((b+=(C&_|~C&w)+f[0]-680876936|0)<<7|b>>>25)+C|0)&C|~b&_)+f[1]-389564586|0)<<12|w>>>20)+b|0)&b|~w&C)+f[2]+606105819|0)<<17|_>>>15)+w|0)&w|~_&b)+f[3]-1044525330|0)<<22|C>>>10)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C&_|~C&w)+f[4]-176418897|0)<<7|b>>>25)+C|0)&C|~b&_)+f[5]+1200080426|0)<<12|w>>>20)+b|0)&b|~w&C)+f[6]-1473231341|0)<<17|_>>>15)+w|0)&w|~_&b)+f[7]-45705983|0)<<22|C>>>10)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C&_|~C&w)+f[8]+1770035416|0)<<7|b>>>25)+C|0)&C|~b&_)+f[9]-1958414417|0)<<12|w>>>20)+b|0)&b|~w&C)+f[10]-42063|0)<<17|_>>>15)+w|0)&w|~_&b)+f[11]-1990404162|0)<<22|C>>>10)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C&_|~C&w)+f[12]+1804603682|0)<<7|b>>>25)+C|0)&C|~b&_)+f[13]-40341101|0)<<12|w>>>20)+b|0)&b|~w&C)+f[14]-1502002290|0)<<17|_>>>15)+w|0)&w|~_&b)+f[15]+1236535329|0)<<22|C>>>10)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C&w|_&~w)+f[1]-165796510|0)<<5|b>>>27)+C|0)&_|C&~_)+f[6]-1069501632|0)<<9|w>>>23)+b|0)&C|b&~C)+f[11]+643717713|0)<<14|_>>>18)+w|0)&b|w&~b)+f[0]-373897302|0)<<20|C>>>12)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C&w|_&~w)+f[5]-701558691|0)<<5|b>>>27)+C|0)&_|C&~_)+f[10]+38016083|0)<<9|w>>>23)+b|0)&C|b&~C)+f[15]-660478335|0)<<14|_>>>18)+w|0)&b|w&~b)+f[4]-405537848|0)<<20|C>>>12)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C&w|_&~w)+f[9]+568446438|0)<<5|b>>>27)+C|0)&_|C&~_)+f[14]-1019803690|0)<<9|w>>>23)+b|0)&C|b&~C)+f[3]-187363961|0)<<14|_>>>18)+w|0)&b|w&~b)+f[8]+1163531501|0)<<20|C>>>12)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C&w|_&~w)+f[13]-1444681467|0)<<5|b>>>27)+C|0)&_|C&~_)+f[2]-51403784|0)<<9|w>>>23)+b|0)&C|b&~C)+f[7]+1735328473|0)<<14|_>>>18)+w|0)&b|w&~b)+f[12]-1926607734|0)<<20|C>>>12)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C^_^w)+f[5]-378558|0)<<4|b>>>28)+C|0)^C^_)+f[8]-2022574463|0)<<11|w>>>21)+b|0)^b^C)+f[11]+1839030562|0)<<16|_>>>16)+w|0)^w^b)+f[14]-35309556|0)<<23|C>>>9)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C^_^w)+f[1]-1530992060|0)<<4|b>>>28)+C|0)^C^_)+f[4]+1272893353|0)<<11|w>>>21)+b|0)^b^C)+f[7]-155497632|0)<<16|_>>>16)+w|0)^w^b)+f[10]-1094730640|0)<<23|C>>>9)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C^_^w)+f[13]+681279174|0)<<4|b>>>28)+C|0)^C^_)+f[0]-358537222|0)<<11|w>>>21)+b|0)^b^C)+f[3]-722521979|0)<<16|_>>>16)+w|0)^w^b)+f[6]+76029189|0)<<23|C>>>9)+_|0,C=((C+=((_=((_+=((w=((w+=((b=((b+=(C^_^w)+f[9]-640364487|0)<<4|b>>>28)+C|0)^C^_)+f[12]-421815835|0)<<11|w>>>21)+b|0)^b^C)+f[15]+530742520|0)<<16|_>>>16)+w|0)^w^b)+f[2]-995338651|0)<<23|C>>>9)+_|0,C=((C+=((w=((w+=(C^((b=((b+=(_^(C|~w))+f[0]-198630844|0)<<6|b>>>26)+C|0)|~_))+f[7]+1126891415|0)<<10|w>>>22)+b|0)^((_=((_+=(b^(w|~C))+f[14]-1416354905|0)<<15|_>>>17)+w|0)|~b))+f[5]-57434055|0)<<21|C>>>11)+_|0,C=((C+=((w=((w+=(C^((b=((b+=(_^(C|~w))+f[12]+1700485571|0)<<6|b>>>26)+C|0)|~_))+f[3]-1894986606|0)<<10|w>>>22)+b|0)^((_=((_+=(b^(w|~C))+f[10]-1051523|0)<<15|_>>>17)+w|0)|~b))+f[1]-2054922799|0)<<21|C>>>11)+_|0,C=((C+=((w=((w+=(C^((b=((b+=(_^(C|~w))+f[8]+1873313359|0)<<6|b>>>26)+C|0)|~_))+f[15]-30611744|0)<<10|w>>>22)+b|0)^((_=((_+=(b^(w|~C))+f[6]-1560198380|0)<<15|_>>>17)+w|0)|~b))+f[13]+1309151649|0)<<21|C>>>11)+_|0,C=((C+=((w=((w+=(C^((b=((b+=(_^(C|~w))+f[4]-145523070|0)<<6|b>>>26)+C|0)|~_))+f[11]-1120210379|0)<<10|w>>>22)+b|0)^((_=((_+=(b^(w|~C))+f[2]+718787259|0)<<15|_>>>17)+w|0)|~b))+f[9]-343485551|0)<<21|C>>>11)+_|0,m[0]=b+m[0]|0,m[1]=C+m[1]|0,m[2]=_+m[2]|0,m[3]=w+m[3]|0}function v(m){var f,b=[];for(f=0;f<64;f+=4)b[f>>2]=m.charCodeAt(f)+(m.charCodeAt(f+1)<<8)+(m.charCodeAt(f+2)<<16)+(m.charCodeAt(f+3)<<24);return b}function g(m){var f,b=[];for(f=0;f<64;f+=4)b[f>>2]=m[f]+(m[f+1]<<8)+(m[f+2]<<16)+(m[f+3]<<24);return b}function y(m){var f,b,C,_,w,M,S=m.length,I=[1732584193,-271733879,-1732584194,271733878];for(f=64;f<=S;f+=64)c(I,v(m.substring(f-64,f)));for(b=(m=m.substring(f-64)).length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0;f<b;f+=1)C[f>>2]|=m.charCodeAt(f)<<(f%4<<3);if(C[f>>2]|=128<<(f%4<<3),f>55)for(c(I,C),f=0;f<16;f+=1)C[f]=0;return _=(_=8*S).toString(16).match(/(.*?)(.{0,8})$/),w=parseInt(_[2],16),M=parseInt(_[1],16)||0,C[14]=w,C[15]=M,c(I,C),I}function o(m){var f,b="";for(f=0;f<4;f+=1)b+=u[m>>8*f+4&15]+u[m>>8*f&15];return b}function n(m){var f;for(f=0;f<m.length;f+=1)m[f]=o(m[f]);return m.join("")}function s(m){return/[\u0080-\uFFFF]/.test(m)&&(m=unescape(encodeURIComponent(m))),m}function i(m){var f,b=[],C=m.length;for(f=0;f<C-1;f+=2)b.push(parseInt(m.substr(f,2),16));return String.fromCharCode.apply(String,b)}function a(){this.reset()}return n(y("hello")),typeof ArrayBuffer=="undefined"||ArrayBuffer.prototype.slice||function(){function m(f,b){return(f=0|f||0)<0?Math.max(f+b,0):Math.min(f,b)}ArrayBuffer.prototype.slice=function(f,b){var C,_,w,M,S=this.byteLength,I=m(f,S),x=S;return b!==void 0&&(x=m(b,S)),I>x?new ArrayBuffer(0):(C=x-I,_=new ArrayBuffer(C),w=new Uint8Array(_),M=new Uint8Array(this,I,C),w.set(M),_)}}(),a.prototype.append=function(m){return this.appendBinary(s(m)),this},a.prototype.appendBinary=function(m){this._buff+=m,this._length+=m.length;var f,b=this._buff.length;for(f=64;f<=b;f+=64)c(this._hash,v(this._buff.substring(f-64,f)));return this._buff=this._buff.substring(f-64),this},a.prototype.end=function(m){var f,b,C=this._buff,_=C.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(f=0;f<_;f+=1)w[f>>2]|=C.charCodeAt(f)<<(f%4<<3);return this._finish(w,_),b=n(this._hash),m&&(b=i(b)),this.reset(),b},a.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},a.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},a.prototype.setState=function(m){return this._buff=m.buff,this._length=m.length,this._hash=m.hash,this},a.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},a.prototype._finish=function(m,f){var b,C,_,w=f;if(m[w>>2]|=128<<(w%4<<3),w>55)for(c(this._hash,m),w=0;w<16;w+=1)m[w]=0;b=(b=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(b[2],16),_=parseInt(b[1],16)||0,m[14]=C,m[15]=_,c(this._hash,m)},a.hash=function(m,f){return a.hashBinary(s(m),f)},a.hashBinary=function(m,f){var b=n(y(m));return f?i(b):b},(a.ArrayBuffer=function(){this.reset()}).prototype.append=function(m){var f,b=function(_,w,M){var S=new Uint8Array(_.byteLength+w.byteLength);return S.set(new Uint8Array(_)),S.set(new Uint8Array(w),_.byteLength),M?S:S.buffer}(this._buff.buffer,m,!0),C=b.length;for(this._length+=m.byteLength,f=64;f<=C;f+=64)c(this._hash,g(b.subarray(f-64,f)));return this._buff=f-64<C?new Uint8Array(b.buffer.slice(f-64)):new Uint8Array(0),this},a.ArrayBuffer.prototype.end=function(m){var f,b,C=this._buff,_=C.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(f=0;f<_;f+=1)w[f>>2]|=C[f]<<(f%4<<3);return this._finish(w,_),b=n(this._hash),m&&(b=i(b)),this.reset(),b},a.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},a.ArrayBuffer.prototype.getState=function(){var m=a.prototype.getState.call(this);return m.buff=function(f){return String.fromCharCode.apply(null,new Uint8Array(f))}(m.buff),m},a.ArrayBuffer.prototype.setState=function(m){return m.buff=function(f,b){var C,_=f.length,w=new ArrayBuffer(_),M=new Uint8Array(w);for(C=0;C<_;C+=1)M[C]=f.charCodeAt(C);return b?M:w}(m.buff,!0),a.prototype.setState.call(this,m)},a.ArrayBuffer.prototype.destroy=a.prototype.destroy,a.ArrayBuffer.prototype._finish=a.prototype._finish,a.ArrayBuffer.hash=function(m,f){var b=function(_){var w,M,S,I,x,E,D=_.length,R=[1732584193,-271733879,-1732584194,271733878];for(w=64;w<=D;w+=64)c(R,g(_.subarray(w-64,w)));for(M=(_=w-64<D?_.subarray(w-64):new Uint8Array(0)).length,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<M;w+=1)S[w>>2]|=_[w]<<(w%4<<3);if(S[w>>2]|=128<<(w%4<<3),w>55)for(c(R,S),w=0;w<16;w+=1)S[w]=0;return I=(I=8*D).toString(16).match(/(.*?)(.{0,8})$/),x=parseInt(I[2],16),E=parseInt(I[1],16)||0,S[14]=x,S[15]=E,c(R,S),R}(new Uint8Array(m)),C=n(b);return f?i(C):C},a}()},function(e,t,r){r.d(t,"a",function(){return y}),t=r(4);var d=r.n(t),u=r(79),c=r(1),v=r(0),g=function(){return(g=Object.assign||function(n){for(var s,i=1,a=arguments.length;i<a;i++)for(var m in s=arguments[i])Object.prototype.hasOwnProperty.call(s,m)&&(n[m]=s[m]);return n}).apply(this,arguments)},y=(o.prototype.setEventBus=function(n){this.eventBus=n},o.prototype.setLogConfig=function(n){this.logger.setLogLevel(n.logLevel)},o.prototype.init=function(n,s){(this.config.appID&&this.config.appID!=n||this.config.userID&&this.config.userID!=s.userID)&&this.upload("account chaned"),this.config.appID=n,this.config.userID=s.userID,this.config.deviceID=c.b,n={tag:this.config.tag,version:this.config.version,appID:n,deviceID:this.config.deviceID,userID:this.config.userID,userName:s.userName,origin:c.h?"":location.origin,device:c.c},this.emitLog([v.B.Manager],"initLogger",n),this.logger.setHeaderInfo(JSON.stringify(n)),this.logger.setCommonField(new Map([["userID",this.config.userID]])),this.start()},o.prototype.start=function(){var n=this;this.timer||(this.timer=setInterval(function(){return n.upload("timer trigger")},36e5))},o.prototype.stop=function(){this.timer&&clearInterval(this.timer),this.timer=0},o.prototype.renewToken=function(n){this.config.token=n},o.prototype.setUploadURL=function(n){this.config.uploadURL=n},o.prototype.upload=function(n,s){var i=this;return this.config.uploadURL&&this.config.token&&this.isProd?this.logger.upload(g({},this.config)).then(function(a){a.msg=n,i.info(["ZegoLoggerSDK"],"upload",a)},function(a){return a=a?"".concat(n," ").concat(a.code||"",":").concat(a.msg||a.stack||a.message||""):n,i.warn(["ZegoLoggerSDK"],"upload",a),Promise.reject(Object(c.o)(v.m.CommonModuleUploadLogError))}):s?Promise.reject(Object(c.o)(v.m.NetworkModuleUserIsNotLogged)):Promise.resolve()},o.prototype.report=function(n,s,i,a){this.emitLog(n,s,i,"report",a=a!==void 0&&a)},o.prototype.debug=function(n,s,i,a){this.emitLog(n,s,i,"debug",a=a!==void 0&&a)},o.prototype.info=function(n,s,i,a){this.emitLog(n,s,i,"info",a=a!==void 0&&a)},o.prototype.warn=function(n,s,i,a){this.emitLog(n,s,i,"warn",a=a!==void 0&&a)},o.prototype.error=function(n,s,i,a){this.emitLog(n,s,i,"error",a=a!==void 0&&a)},o.prototype.emitLog=function(n,s,i,a,m){m=i&&typeof i=="object"?this.stringify(i,m):i||"",a&&this.logger.write(n,a,s,m)},o.prototype.stringify=function(n,s){return s===void 0&&(s=!1),JSON.stringify(n,function(i,a){return a instanceof Uint8Array?"b="+a.length:a instanceof Array&&2<a.length&&s?[m=a.length,a[0],a[m-1]]:typeof a=="string"&&s&&128<a.length?"s="+a.length:a instanceof d.a?a.toString():a;var m}).replace(/\"/g,"'").replace(/(https?:\/\/)|(wss?:\/\/)/g,"")},o);function o(n){this.isProd=!0,this.timer=0,this.config={product:"ZIM",appID:"",userID:"",token:"",uploadURL:"",deviceID:c.b,version:"",tag:"Wed, 30 Nov 2022 10:38:08 GMT"},this.logger=new u.a("ZIM",c.k),this.config.version=n}},function(e,t,r){var d=r(43);r.d(t,"a",function(){return d.a})},function(e,t,r){r.d(t,"a",function(){return d}),u.getInstance=function(){return u.instance||(u.instance=new u).init(),u.instance},u.prototype.init=function(){},Object.defineProperty(u.prototype,"testEnvironment",{get:function(){return this._testEnvironment},set:function(c){this._testEnvironment=c},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ENV",{get:function(){return this._ENV},set:function(c){this._ENV=c},enumerable:!1,configurable:!0}),u.instance=new u;var d=u;function u(){this._testEnvironment=!0,this._ENV=0}},function(e,t,r){(function(d,u,c,v){e.exports=function g(y,o,n){function s(m,f){if(!o[m]){if(!y[m]){if(i)return i(m,!0);var b=new Error("Cannot find module '"+m+"'");throw b.code="MODULE_NOT_FOUND",b}b=o[m]={exports:{}},y[m][0].call(b.exports,function(C){return s(y[m][1][C]||C)},b,b.exports,g,y,o,n)}return o[m].exports}for(var i=!1,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(g,y,o){var n=g("./utils"),s=g("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(a){for(var m,f,b,C,_,w,M=[],S=0,I=a.length,x=n.getTypeOf(a)!=="string";S<a.length;)w=I-S,b=x?(m=a[S++],f=S<I?a[S++]:0,S<I?a[S++]:0):(m=a.charCodeAt(S++),f=S<I?a.charCodeAt(S++):0,S<I?a.charCodeAt(S++):0),C=(3&m)<<4|f>>4,_=1<w?(15&f)<<2|b>>6:64,w=2<w?63&b:64,M.push(i.charAt(m>>2)+i.charAt(C)+i.charAt(_)+i.charAt(w));return M.join("")},o.decode=function(a){var m,f,b,C,_,w=0,M=0;if(a.substr(0,5)==="data:")throw new Error("Invalid base64 input, it looks like a data url.");var S,I=3*(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(a.charAt(a.length-1)===i.charAt(64)&&I--,a.charAt(a.length-2)===i.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=new(s.uint8array?Uint8Array:Array)(0|I);w<a.length;)m=i.indexOf(a.charAt(w++))<<2|(C=i.indexOf(a.charAt(w++)))>>4,f=(15&C)<<4|(C=i.indexOf(a.charAt(w++)))>>2,b=(3&C)<<6|(_=i.indexOf(a.charAt(w++))),S[M++]=m,C!==64&&(S[M++]=f),_!==64&&(S[M++]=b);return S}},{"./support":30,"./utils":32}],2:[function(g,y,o){var n=g("./external"),s=g("./stream/DataWorker"),i=g("./stream/Crc32Probe"),a=g("./stream/DataLengthProbe");function m(f,b,C,_,w){this.compressedSize=f,this.uncompressedSize=b,this.crc32=C,this.compression=_,this.compressedContent=w}m.prototype={getContentWorker:function(){var f=new s(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),b=this;return f.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(f,b,C){return f.pipe(new i).pipe(new a("uncompressedSize")).pipe(b.compressWorker(C)).pipe(new a("compressedSize")).withStreamInfo("compression",b)},y.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(g,y,o){var n=g("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(s){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},o.DEFLATE=g("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(g,y,o){var n=g("./utils"),s=function(){for(var i=[],a=0;a<256;a++){for(var m=a,f=0;f<8;f++)m=1&m?3988292384^m>>>1:m>>>1;i[a]=m}return i}();y.exports=function(i,a){return i!==void 0&&i.length?(n.getTypeOf(i)!=="string"?function(m,f,b){var C=s,_=0+b;m^=-1;for(var w=0;w<_;w++)m=m>>>8^C[255&(m^f[w])];return-1^m}:function(m,f,b){var C=s,_=0+b;m^=-1;for(var w=0;w<_;w++)m=m>>>8^C[255&(m^f.charCodeAt(w))];return-1^m})(0|a,i,i.length):0}},{"./utils":32}],5:[function(g,y,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(g,y,o){g=typeof Promise!="undefined"?Promise:g("lie"),y.exports={Promise:g}},{lie:37}],7:[function(g,y,o){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=g("pako"),i=g("./utils"),a=g("./stream/GenericWorker"),m=n?"uint8array":"array";function f(b,C){a.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=C,this.meta={}}o.magic="\b\0",i.inherits(f,a),f.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(m,b.data),!1)},f.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(C){b.push({data:C,meta:b.meta})}},o.compressWorker=function(b){return new f("Deflate",b)},o.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(g,y,o){function n(_,w){for(var M="",S=0;S<w;S++)M+=String.fromCharCode(255&_),_>>>=8;return M}function s(_,w,M,S,I,x){var E=_.file,D=_.compression,R=x!==m.utf8encode,q=i.transformTo("string",x(E.name)),A=i.transformTo("string",m.utf8encode(E.name)),j=E.comment,H=(x=i.transformTo("string",x(j)),i.transformTo("string",m.utf8encode(j))),W=A.length!==E.name.length,X=(j=H.length!==j.length,""),ee=E.dir,ae=E.date,N={crc32:0,compressedSize:0,uncompressedSize:0};return w&&!M||(N.crc32=_.crc32,N.compressedSize=_.compressedSize,N.uncompressedSize=_.uncompressedSize),M=0,w&&(M|=8),R||!W&&!j||(M|=2048),_=0,w=0,ee&&(_|=16),I==="UNIX"?(w=798,_|=(65535&((R=E.unixPermissions)?R:ee?16893:33204))<<16):(w=20,_|=63&(E.dosPermissions||0)),I=ae.getUTCHours(),I=(I=((I<<=6)|ae.getUTCMinutes())<<5)|ae.getUTCSeconds()/2,R=ae.getUTCFullYear()-1980,R=(R=((R<<=4)|ae.getUTCMonth()+1)<<5)|ae.getUTCDate(),W&&(ee=n(1,1)+n(f(q),4)+A,X+="up"+n(ee.length,2)+ee),j&&(E=n(1,1)+n(f(x),4)+H,X+="uc"+n(E.length,2)+E),ae="",ae=(ae=(ae=(ae=(ae=(ae=(ae=(ae=(ae=(ae+=`
\0`)+n(M,2))+D.magic)+n(I,2))+n(R,2))+n(N.crc32,4))+n(N.compressedSize,4))+n(N.uncompressedSize,4))+n(q.length,2))+n(X.length,2),{fileRecord:b.LOCAL_FILE_HEADER+ae+q+X,dirRecord:b.CENTRAL_FILE_HEADER+n(w,2)+ae+n(x.length,2)+"\0\0\0\0"+n(_,4)+n(S,4)+q+X+x}}var i=g("../utils"),a=g("../stream/GenericWorker"),m=g("../utf8"),f=g("../crc32"),b=g("../signature");function C(_,w,M,S){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=M,this.encodeFileName=S,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(C,a),C.prototype.push=function(_){var w=_.meta.percent||0,M=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,a.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:M?(w+100*(M-S-1))/M:100}}))},C.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var w=this.streamFiles&&!_.file.dir;w?(_=s(_,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:_.fileRecord,meta:{percent:0}})):this.accumulate=!0},C.prototype.closedSource=function(_){this.accumulate=!1;var w=this.streamFiles&&!_.file.dir,M=s(_,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(M.dirRecord),w)this.push({data:(w=_,b.DATA_DESCRIPTOR+n(w.crc32,4)+n(w.compressedSize,4)+n(w.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:M.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},C.prototype.flush=function(){for(var _=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var M=this.bytesWritten-_;M=function(S,I,x,E,D){return D=i.transformTo("string",D(E)),b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(S,2)+n(S,2)+n(I,4)+n(x,4)+n(D.length,2)+D}(this.dirRecords.length,M,_,this.zipComment,this.encodeFileName),this.push({data:M,meta:{percent:100}})},C.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},C.prototype.registerPrevious=function(_){this._sources.push(_);var w=this;return _.on("data",function(M){w.processChunk(M)}),_.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),_.on("error",function(M){w.error(M)}),this},C.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},C.prototype.error=function(_){var w=this._sources;if(!a.prototype.error.call(this,_))return!1;for(var M=0;M<w.length;M++)try{w[M].error(_)}catch{}return!0},C.prototype.lock=function(){a.prototype.lock.call(this);for(var _=this._sources,w=0;w<_.length;w++)_[w].lock()},y.exports=C},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(g,y,o){var n=g("../compressions"),s=g("./ZipFileWorker");o.generateWorker=function(i,a,m){var f=new s(a.streamFiles,m,a.platform,a.encodeFileName),b=0;try{i.forEach(function(C,_){b++;var w=function(x,E){if(E=n[x=x||E])return E;throw new Error(x+" is not a valid compression method !")}(_.options.compression,a.compression),M=_.options.compressionOptions||a.compressionOptions||{},S=_.dir,I=_.date;_._compressWorker(w,M).withStreamInfo("file",{name:C,dir:S,date:I,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(f)}),f.entriesCount=b}catch(C){f.error(C)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(g,y,o){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s,i=new n;for(s in this)typeof this[s]!="function"&&(i[s]=this[s]);return i}}(n.prototype=g("./object")).loadAsync=g("./load"),n.support=g("./support"),n.defaults=g("./defaults"),n.version="3.10.0",n.loadAsync=function(s,i){return new n().loadAsync(s,i)},n.external=g("./external"),y.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(g,y,o){var n=g("./utils"),s=g("./external"),i=g("./utf8"),a=g("./zipEntries"),m=g("./stream/Crc32Probe"),f=g("./nodejsUtils");y.exports=function(b,C){var _=this;return C=n.extend(C||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),f.isNode&&f.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",b,!0,C.optimizedBinaryString,C.base64).then(function(w){var M=new a(C);return M.load(w),M}).then(function(w){var M=[s.Promise.resolve(w)],S=w.files;if(C.checkCRC32)for(var I=0;I<S.length;I++)M.push(function(x){return new s.Promise(function(E,D){var R=x.decompressed.getContentWorker().pipe(new m);R.on("error",function(q){D(q)}).on("end",function(){R.streamInfo.crc32!==x.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}(S[I]));return s.Promise.all(M)}).then(function(w){for(var M=(w=w.shift()).files,S=0;S<M.length;S++){var I=M[S],x=I.fileNameStr,E=n.resolve(I.fileNameStr);_.file(E,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:C.createFolders}),I.dir||(_.file(E).unsafeOriginalName=x)}return w.zipComment.length&&(_.comment=w.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(g,y,o){var n=g("../utils"),s=g("../stream/GenericWorker");function i(a,m){s.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(m)}n.inherits(i,s),i.prototype._bindStream=function(a){var m=this;(this._stream=a).pause(),a.on("data",function(f){m.push({data:f,meta:{percent:0}})}).on("error",function(f){m.isPaused?this.generatedError=f:m.error(f)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},i.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},y.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(g,y,o){var n=g("readable-stream").Readable;function s(i,a,m){n.call(this,a),this._helper=i;var f=this;i.on("data",function(b,C){f.push(b)||f._helper.pause(),m&&m(C)}).on("error",function(b){f.emit("error",b)}).on("end",function(){f.push(null)})}g("../utils").inherits(s,n),s.prototype._read=function(){this._helper.resume()},y.exports=s},{"../utils":32,"readable-stream":16}],14:[function(g,y,o){y.exports={isNode:d!==void 0,newBufferFrom:function(n,s){if(d.from&&d.from!==Uint8Array.from)return d.from(n,s);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new d(n,s)},allocBuffer:function(n){return d.alloc?d.alloc(n):((n=new d(n)).fill(0),n)},isBuffer:function(n){return d.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(g,y,o){function n(E,D,R){var q=a.getTypeOf(D),A=a.extend(R||{},b),j=(A.date=A.date||new Date,A.compression!==null&&(A.compression=A.compression.toUpperCase()),typeof A.unixPermissions=="string"&&(A.unixPermissions=parseInt(A.unixPermissions,8)),A.unixPermissions&&16384&A.unixPermissions&&(A.dir=!0),A.dosPermissions&&16&A.dosPermissions&&(A.dir=!0),A.dir&&(E=I(E)),A.createFolders&&(j=function(H){var W=(H=H.slice(-1)==="/"?H.substring(0,H.length-1):H).lastIndexOf("/");return 0<W?H.substring(0,W):""}(E))&&s.call(this,j,!0),q==="string"&&A.binary===!1&&A.base64===!1);R&&R.binary!==void 0||(A.binary=!j),(D instanceof C&&D.uncompressedSize===0||A.dir||!D||D.length===0)&&(A.base64=!1,A.binary=!0,D="",A.compression="STORE"),q=D instanceof C||D instanceof m?D:M.isNode&&M.isStream(D)?new S(E,D):a.prepareContent(E,D,A.binary,A.optimizedBinaryString,A.base64),R=new _(E,q,A),this.files[E]=R}function s(E,D){return D=D!==void 0?D:b.createFolders,E=I(E),this.files[E]||n.call(this,E,null,{dir:!0,createFolders:D}),this.files[E]}var i=g("./utf8"),a=g("./utils"),m=g("./stream/GenericWorker"),f=g("./stream/StreamHelper"),b=g("./defaults"),C=g("./compressedObject"),_=g("./zipObject"),w=g("./generate"),M=g("./nodejsUtils"),S=g("./nodejs/NodejsStreamInputAdapter"),I=function(E){return E.slice(-1)!=="/"&&(E+="/"),E};function x(E){return Object.prototype.toString.call(E)==="[object RegExp]"}y.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var D,R,q;for(D in this.files)q=this.files[D],(R=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&E(R,q)},filter:function(E){var D=[];return this.forEach(function(R,q){E(R,q)&&D.push(q)}),D},file:function(E,D,R){return arguments.length!==1?(E=this.root+E,n.call(this,E,D,R),this):x(E)?(q=E,this.filter(function(A,j){return!j.dir&&q.test(A)})):(D=this.files[this.root+E])&&!D.dir?D:null;var q},folder:function(E){if(!E)return this;if(x(E))return this.filter(function(q,A){return A.dir&&E.test(q)});var D=this.root+E,R=(D=s.call(this,D),this.clone());return R.root=D.name,R},remove:function(E){E=this.root+E;var D=this.files[E];if(D||(E.slice(-1)!=="/"&&(E+="/"),D=this.files[E]),D&&!D.dir)delete this.files[E];else for(var R=this.filter(function(A,j){return j.name.slice(0,E.length)===E}),q=0;q<R.length;q++)delete this.files[R[q].name];return this},generate:function(E){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var D={};try{if((D=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");a.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var R=D.comment||this.comment||"",q=w.generateWorker(this,D,R)}catch(A){(q=new m("error")).error(A)}return new f(q,D.type||"string",D.mimeType)},generateAsync:function(E,D){return this.generateInternalStream(E).accumulate(D)},generateNodeStream:function(E,D){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(D)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(g,y,o){y.exports=g("stream")},{stream:void 0}],17:[function(g,y,o){var n=g("./DataReader");function s(i){n.call(this,i);for(var a=0;a<this.data.length;a++)i[a]=255&i[a]}g("../utils").inherits(s,n),s.prototype.byteAt=function(i){return this.data[this.zero+i]},s.prototype.lastIndexOfSignature=function(i){for(var a=i.charCodeAt(0),m=i.charCodeAt(1),f=i.charCodeAt(2),b=i.charCodeAt(3),C=this.length-4;0<=C;--C)if(this.data[C]===a&&this.data[C+1]===m&&this.data[C+2]===f&&this.data[C+3]===b)return C-this.zero;return-1},s.prototype.readAndCheckSignature=function(i){var a=i.charCodeAt(0),m=i.charCodeAt(1),f=i.charCodeAt(2),b=(i=i.charCodeAt(3),this.readData(4));return a===b[0]&&m===b[1]&&f===b[2]&&i===b[3]},s.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,a},y.exports=s},{"../utils":32,"./DataReader":18}],18:[function(g,y,o){var n=g("../utils");function s(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(i){},readInt:function(i){var a,m=0;for(this.checkOffset(i),a=this.index+i-1;a>=this.index;a--)m=(m<<8)+this.byteAt(a);return this.index+=i,m},readString:function(i){return n.transformTo("string",this.readData(i))},readData:function(i){},lastIndexOfSignature:function(i){},readAndCheckSignature:function(i){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},y.exports=s},{"../utils":32}],19:[function(g,y,o){var n=g("./Uint8ArrayReader");function s(i){n.call(this,i)}g("../utils").inherits(s,n),s.prototype.readData=function(i){this.checkOffset(i);var a=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,a},y.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(g,y,o){var n=g("./DataReader");function s(i){n.call(this,i)}g("../utils").inherits(s,n),s.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},s.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},s.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},s.prototype.readData=function(i){this.checkOffset(i);var a=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,a},y.exports=s},{"../utils":32,"./DataReader":18}],21:[function(g,y,o){var n=g("./ArrayReader");function s(i){n.call(this,i)}g("../utils").inherits(s,n),s.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,a},y.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(g,y,o){var n=g("../utils"),s=g("../support"),i=g("./ArrayReader"),a=g("./StringReader"),m=g("./NodeBufferReader"),f=g("./Uint8ArrayReader");y.exports=function(b){var C=n.getTypeOf(b);return n.checkSupport(C),C!=="string"||s.uint8array?C==="nodebuffer"?new m(b):s.uint8array?new f(n.transformTo("uint8array",b)):new i(n.transformTo("array",b)):new a(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(g,y,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(g,y,o){var n=g("./GenericWorker"),s=g("../utils");function i(a){n.call(this,"ConvertWorker to "+a),this.destType=a}s.inherits(i,n),i.prototype.processChunk=function(a){this.push({data:s.transformTo(this.destType,a.data),meta:a.meta})},y.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(g,y,o){var n=g("./GenericWorker"),s=g("../crc32");function i(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}g("../utils").inherits(i,n),i.prototype.processChunk=function(a){this.streamInfo.crc32=s(a.data,this.streamInfo.crc32||0),this.push(a)},y.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(g,y,o){var n=g("../utils"),s=g("./GenericWorker");function i(a){s.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}n.inherits(i,s),i.prototype.processChunk=function(a){var m;a&&(m=this.streamInfo[this.propName]||0,this.streamInfo[this.propName]=m+a.data.length),s.prototype.processChunk.call(this,a)},y.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(g,y,o){var n=g("../utils"),s=g("./GenericWorker");function i(a){s.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(f){m.dataIsReady=!0,m.data=f,m.max=f&&f.length||0,m.type=n.getTypeOf(f),m.isPaused||m._tickAndRepeat()},function(f){m.error(f)})}n.inherits(i,s),i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,m);break;case"uint8array":a=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":a=this.data.slice(this.index,m)}return this.index=m,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},y.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(g,y,o){function n(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,i){return this._listeners[s].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,i){if(this._listeners[s])for(var a=0;a<this._listeners[s].length;a++)this._listeners[s][a].call(this,i)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var i=this;return s.on("data",function(a){i.processChunk(a)}),s.on("end",function(){i.end()}),s.on("error",function(a){i.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,i){return this.extraStreamInfo[s]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},y.exports=n},{}],29:[function(g,y,o){var n=g("../utils"),s=g("./ConvertWorker"),i=g("./GenericWorker"),a=g("../base64"),m=g("../support"),f=g("../external"),b=null;if(m.nodestream)try{b=g("../nodejs/NodejsStreamOutputAdapter")}catch{}function C(_,w,M){var S=w;switch(w){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=w,this._mimeType=M,n.checkSupport(S),this._worker=_.pipe(new s(S)),_.lock()}catch(I){this._worker=new i("error"),this._worker.error(I)}}C.prototype={accumulate:function(_){return w=this,M=_,new f.Promise(function(S,I){var x=[],E=w._internalType,D=w._outputType,R=w._mimeType;w.on("data",function(q,A){x.push(q),M&&M(A)}).on("error",function(q){x=[],I(q)}).on("end",function(){try{var q=function(A,j,H){switch(A){case"blob":return n.newBlob(n.transformTo("arraybuffer",j),H);case"base64":return a.encode(j);default:return n.transformTo(A,j)}}(D,function(A,j){for(var H=0,W=null,X=0,ee=0;ee<j.length;ee++)X+=j[ee].length;switch(A){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(W=new Uint8Array(X),ee=0;ee<j.length;ee++)W.set(j[ee],H),H+=j[ee].length;return W;case"nodebuffer":return d.concat(j);default:throw new Error("concat : unsupported type '"+A+"'")}}(E,x),R);S(q)}catch(A){I(A)}x=[]}).resume()});var w,M},on:function(_,w){var M=this;return _==="data"?this._worker.on(_,function(S){w.call(M,S.data,S.meta)}):this._worker.on(_,function(){n.delay(w,arguments,M)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},_)}},y.exports=C},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(g,y,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",o.nodebuffer=d!==void 0,o.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")o.blob=!1;else{var n=new ArrayBuffer(0);try{o.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(n),o.blob=s.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!g("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(g,y,o){for(var n=g("./utils"),s=g("./support"),i=g("./nodejsUtils"),a=g("./stream/GenericWorker"),m=new Array(256),f=0;f<256;f++)m[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function b(){a.call(this,"utf-8 decode"),this.leftOver=null}function C(){a.call(this,"utf-8 encode")}m[254]=m[254]=1,o.utf8encode=function(_){if(s.nodebuffer)return i.newBufferFrom(_,"utf-8");for(var w,M,S,I,x=_,E=x.length,D=0,R=0;R<E;R++)(64512&(M=x.charCodeAt(R)))==55296&&R+1<E&&(64512&(S=x.charCodeAt(R+1)))==56320&&(M=65536+(M-55296<<10)+(S-56320),R++),D+=M<128?1:M<2048?2:M<65536?3:4;for(w=new(s.uint8array?Uint8Array:Array)(D),R=I=0;I<D;R++)(64512&(M=x.charCodeAt(R)))==55296&&R+1<E&&(64512&(S=x.charCodeAt(R+1)))==56320&&(M=65536+(M-55296<<10)+(S-56320),R++),M<128?w[I++]=M:(M<2048?w[I++]=192|M>>>6:(M<65536?w[I++]=224|M>>>12:(w[I++]=240|M>>>18,w[I++]=128|M>>>12&63),w[I++]=128|M>>>6&63),w[I++]=128|63&M);return w},o.utf8decode=function(_){if(s.nodebuffer)return n.transformTo("nodebuffer",_).toString("utf-8");for(var w,M,S,I=_=n.transformTo(s.uint8array?"uint8array":"array",_),x=I.length,E=new Array(2*x),D=w=0;D<x;)if((M=I[D++])<128)E[w++]=M;else if(4<(S=m[M]))E[w++]=65533,D+=S-1;else{for(M&=S===2?31:S===3?15:7;1<S&&D<x;)M=M<<6|63&I[D++],S--;1<S?E[w++]=65533:M<65536?E[w++]=M:(M-=65536,E[w++]=55296|M>>10&1023,E[w++]=56320|1023&M)}return E.length!==w&&(E.subarray?E=E.subarray(0,w):E.length=w),n.applyFromCharCode(E)},n.inherits(b,a),b.prototype.processChunk=function(_){var w=n.transformTo(s.uint8array?"uint8array":"array",_.data),M=(this.leftOver&&this.leftOver.length&&(s.uint8array?(M=w,(w=new Uint8Array(M.length+this.leftOver.length)).set(this.leftOver,0),w.set(M,this.leftOver.length)):w=this.leftOver.concat(w),this.leftOver=null),function(I,x){for(var E=(x=(x=x||I.length)>I.length?I.length:x)-1;0<=E&&(192&I[E])==128;)E--;return!(E<0)&&E!==0&&E+m[I[E]]>x?E:x}(w)),S=w;M!==w.length&&(s.uint8array?(S=w.subarray(0,M),this.leftOver=w.subarray(M,w.length)):(S=w.slice(0,M),this.leftOver=w.slice(M,w.length))),this.push({data:o.utf8decode(S),meta:_.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=b,n.inherits(C,a),C.prototype.processChunk=function(_){this.push({data:o.utf8encode(_.data),meta:_.meta})},o.Utf8EncodeWorker=C},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(g,y,o){var n=g("./support"),s=g("./base64"),i=g("./nodejsUtils"),a=g("./external");function m(M){return M}function f(M,S){for(var I=0;I<M.length;++I)S[I]=255&M.charCodeAt(I);return S}g("setimmediate"),o.newBlob=function(M,S){o.checkSupport("blob");try{return new Blob([M],{type:S})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(M),I.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(M,S,I){var x=[],E=0,D=M.length;if(D<=I)return String.fromCharCode.apply(null,M);for(;E<D;)S==="array"||S==="nodebuffer"?x.push(String.fromCharCode.apply(null,M.slice(E,Math.min(E+I,D)))):x.push(String.fromCharCode.apply(null,M.subarray(E,Math.min(E+I,D)))),E+=I;return x.join("")},stringifyByChar:function(M){for(var S="",I=0;I<M.length;I++)S+=String.fromCharCode(M[I]);return S},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch{return!1}}()}};function C(M){var S=65536,I=o.getTypeOf(M),x=!0;if(I==="uint8array"?x=b.applyCanBeUsed.uint8array:I==="nodebuffer"&&(x=b.applyCanBeUsed.nodebuffer),x)for(;1<S;)try{return b.stringifyByChunk(M,I,S)}catch{S=Math.floor(S/2)}return b.stringifyByChar(M)}function _(M,S){for(var I=0;I<M.length;I++)S[I]=M[I];return S}o.applyFromCharCode=C;var w={};w.string={string:m,array:function(M){return f(M,new Array(M.length))},arraybuffer:function(M){return w.string.uint8array(M).buffer},uint8array:function(M){return f(M,new Uint8Array(M.length))},nodebuffer:function(M){return f(M,i.allocBuffer(M.length))}},w.array={string:C,array:m,arraybuffer:function(M){return new Uint8Array(M).buffer},uint8array:function(M){return new Uint8Array(M)},nodebuffer:function(M){return i.newBufferFrom(M)}},w.arraybuffer={string:function(M){return C(new Uint8Array(M))},array:function(M){return _(new Uint8Array(M),new Array(M.byteLength))},arraybuffer:m,uint8array:function(M){return new Uint8Array(M)},nodebuffer:function(M){return i.newBufferFrom(new Uint8Array(M))}},w.uint8array={string:C,array:function(M){return _(M,new Array(M.length))},arraybuffer:function(M){return M.buffer},uint8array:m,nodebuffer:function(M){return i.newBufferFrom(M)}},w.nodebuffer={string:C,array:function(M){return _(M,new Array(M.length))},arraybuffer:function(M){return w.nodebuffer.uint8array(M).buffer},uint8array:function(M){return _(M,new Uint8Array(M.length))},nodebuffer:m},o.transformTo=function(M,S){if(S=S||"",!M)return S;o.checkSupport(M);var I=o.getTypeOf(S);return w[I][M](S)},o.resolve=function(M){for(var S=M.split("/"),I=[],x=0;x<S.length;x++){var E=S[x];E==="."||E===""&&x!==0&&x!==S.length-1||(E===".."?I.pop():I.push(E))}return I.join("/")},o.getTypeOf=function(M){return typeof M=="string"?"string":Object.prototype.toString.call(M)==="[object Array]"?"array":n.nodebuffer&&i.isBuffer(M)?"nodebuffer":n.uint8array&&M instanceof Uint8Array?"uint8array":n.arraybuffer&&M instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(M){if(!n[M.toLowerCase()])throw new Error(M+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(M){for(var S,I="",x=0;x<(M||"").length;x++)I+="\\x"+((S=M.charCodeAt(x))<16?"0":"")+S.toString(16).toUpperCase();return I},o.delay=function(M,S,I){u(function(){M.apply(I||null,S||[])})},o.inherits=function(M,S){function I(){}I.prototype=S.prototype,M.prototype=new I},o.extend=function(){for(var M,S={},I=0;I<arguments.length;I++)for(M in arguments[I])arguments[I].hasOwnProperty(M)&&S[M]===void 0&&(S[M]=arguments[I][M]);return S},o.prepareContent=function(M,S,I,x,E){return a.Promise.resolve(S).then(function(D){return n.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader!="undefined"?new a.Promise(function(R,q){var A=new FileReader;A.onload=function(j){R(j.target.result)},A.onerror=function(j){q(j.target.error)},A.readAsArrayBuffer(D)}):D}).then(function(D){var R=o.getTypeOf(D);return R?(R==="arraybuffer"?D=o.transformTo("uint8array",D):R==="string"&&(E?D=s.decode(D):I&&x!==!0&&(D=f(R=D,new(n.uint8array?Uint8Array:Array)(R.length)))),D):a.Promise.reject(new Error("Can't read the data of '"+M+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(g,y,o){var n=g("./reader/readerFor"),s=g("./utils"),i=g("./signature"),a=g("./zipEntry"),m=(g("./utf8"),g("./support"));function f(b){this.files=[],this.loadOptions=b}f.prototype={checkSignature:function(b){var C;if(!this.reader.readAndCheckSignature(b))throw this.reader.index-=4,C=this.reader.readString(4),new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(C)+", expected "+s.pretty(b)+")")},isSignature:function(b,C){var _=this.reader.index;return this.reader.setIndex(b),b=this.reader.readString(4)===C,this.reader.setIndex(_),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),C=m.uint8array?"uint8array":"array";C=s.transformTo(C,b),this.zipComment=this.loadOptions.decodeFileName(C)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,C,_,w=this.zip64EndOfCentralSize-44;0<w;)b=this.reader.readInt(2),C=this.reader.readInt(4),_=this.reader.readData(C),this.zip64ExtensibleData[b]={id:b,length:C,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){for(var b,C=0;C<this.files.length;C++)b=this.files[C],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(b=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var C=b;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}if(b=this.centralDirOffset+this.centralDirSize,0<(b=C-(b=this.zip64?b+20+(12+this.zip64EndOfCentralSize):b)))this.isSignature(C,i.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(b){this.reader=n(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},y.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(g,y,o){var n=g("./reader/readerFor"),s=g("./utils"),i=g("./compressedObject"),a=g("./crc32"),m=g("./utf8"),f=g("./compressions"),b=g("./support");function C(_,w){this.options=_,this.loadOptions=w}C.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var w;if(_.skip(22),this.fileNameLength=_.readInt(2),w=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(M){for(var S in f)if(f.hasOwnProperty(S)&&f[S].magic===M)return f[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,w,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var w=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(w),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(_){var w;this.extraFields[1]&&(w=n(this.extraFields[1].value),this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4)))},readExtraFields:function(_){var w,M,S,I=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<I;)w=_.readInt(2),M=_.readInt(2),S=_.readData(M),this.extraFields[w]={id:w,length:M,value:S};_.setIndex(I)},handleUTF8:function(){var _,w=b.uint8array?"uint8array":"array";this.useUTF8()?(this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment)):((_=this.findExtraFieldUnicodePath())!==null?this.fileNameStr=_:(_=s.transformTo(w,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(_)),(_=this.findExtraFieldUnicodeComment())!==null?this.fileCommentStr=_:(_=s.transformTo(w,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(_)))},findExtraFieldUnicodePath:function(){var _,w=this.extraFields[28789];return w&&(_=n(w.value)).readInt(1)===1&&a(this.fileName)===_.readInt(4)?m.utf8decode(_.readData(w.length-5)):null},findExtraFieldUnicodeComment:function(){var _,w=this.extraFields[25461];return w&&(_=n(w.value)).readInt(1)===1&&a(this.fileComment)===_.readInt(4)?m.utf8decode(_.readData(w.length-5)):null}},y.exports=C},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(g,y,o){function n(w,M,S){this.name=w,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=M,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var s=g("./stream/StreamHelper"),i=g("./stream/DataWorker"),a=g("./utf8"),m=g("./compressedObject"),f=g("./stream/GenericWorker");n.prototype={internalStream:function(w){var M=null,S="string";try{if(!w)throw new Error("No output type specified.");var I=(S=w.toLowerCase())==="string"||S==="text",x=(S!=="binarystring"&&S!=="text"||(S="string"),M=this._decompressWorker(),!this._dataBinary);x&&!I&&(M=M.pipe(new a.Utf8EncodeWorker)),!x&&I&&(M=M.pipe(new a.Utf8DecodeWorker))}catch(E){(M=new f("error")).error(E)}return new s(M,S,"")},async:function(w,M){return this.internalStream(w).accumulate(M)},nodeStream:function(w,M){return this.internalStream(w||"nodebuffer").toNodejsStream(M)},_compressWorker:function(w,M){if(this._data instanceof m&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new a.Utf8EncodeWorker)),m.createWorkerFrom(S,w,M)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof f?this._data:new i(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],C=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<b.length;_++)n.prototype[b[_]]=C;y.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(g,y,o){(function(n){var s,i,a,m,f=n.MutationObserver||n.WebKitMutationObserver,b=f?(i=0,f=new f(_),a=n.document.createTextNode(""),f.observe(a,{characterData:!0}),function(){a.data=i=++i%2}):n.setImmediate||n.MessageChannel===void 0?"document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var w=n.document.createElement("script");w.onreadystatechange=function(){_(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},n.document.documentElement.appendChild(w)}:function(){setTimeout(_,0)}:((m=new n.MessageChannel).port1.onmessage=_,function(){m.port2.postMessage(0)}),C=[];function _(){var w,M;s=!0;for(var S=C.length;S;){for(M=C,C=[],w=-1;++w<S;)M[w]();S=C.length}s=!1}y.exports=function(w){C.push(w)!==1||s||b()}}).call(this,c!==void 0?c:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(g,y,o){var n=g("immediate");function s(){}var i={},a=["REJECTED"],m=["FULFILLED"],f=["PENDING"];function b(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,I!==s&&M(this,I)}function C(I,x,E){this.promise=I,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function _(I,x,E){n(function(){var D;try{D=x(E)}catch(R){return i.reject(I,R)}D===I?i.reject(I,new TypeError("Cannot resolve promise with itself")):i.resolve(I,D)})}function w(I){var x=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof x=="function")return function(){x.apply(I,arguments)}}function M(I,x){var E=!1;function D(A){E||(E=!0,i.reject(I,A))}function R(A){E||(E=!0,i.resolve(I,A))}var q=S(function(){x(R,D)});q.status==="error"&&D(q.value)}function S(I,x){var E={};try{E.value=I(x),E.status="success"}catch(D){E.status="error",E.value=D}return E}(y.exports=b).prototype.finally=function(I){if(typeof I!="function")return this;var x=this.constructor;return this.then(function(E){return x.resolve(I()).then(function(){return E})},function(E){return x.resolve(I()).then(function(){throw E})})},b.prototype.catch=function(I){return this.then(null,I)},b.prototype.then=function(I,x){if(typeof I!="function"&&this.state===m||typeof x!="function"&&this.state===a)return this;var E=new this.constructor(s);return this.state!==f?_(E,this.state===m?I:x,this.outcome):this.queue.push(new C(E,I,x)),E},C.prototype.callFulfilled=function(I){i.resolve(this.promise,I)},C.prototype.otherCallFulfilled=function(I){_(this.promise,this.onFulfilled,I)},C.prototype.callRejected=function(I){i.reject(this.promise,I)},C.prototype.otherCallRejected=function(I){_(this.promise,this.onRejected,I)},i.resolve=function(I,x){var E=S(w,x);if(E.status==="error")return i.reject(I,E.value);if(E=E.value)M(I,E);else{I.state=m,I.outcome=x;for(var D=-1,R=I.queue.length;++D<R;)I.queue[D].callFulfilled(x)}return I},i.reject=function(I,x){I.state=a,I.outcome=x;for(var E=-1,D=I.queue.length;++E<D;)I.queue[E].callRejected(x);return I},b.resolve=function(I){return I instanceof this?I:i.resolve(new this(s),I)},b.reject=function(I){var x=new this(s);return i.reject(x,I)},b.all=function(I){var x=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=I.length,D=!1;if(!E)return this.resolve([]);for(var R=new Array(E),q=0,A=-1,j=new this(s);++A<E;)(function(H,W){x.resolve(H).then(function(X){R[W]=X,++q!==E||D||(D=!0,i.resolve(j,R))},function(X){D||(D=!0,i.reject(j,X))})})(I[A],A);return j},b.race=function(I){if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=I.length,E=!1;if(!x)return this.resolve([]);for(var D,R=-1,q=new this(s);++R<x;)D=I[R],this.resolve(D).then(function(A){E||(E=!0,i.resolve(q,A))},function(A){E||(E=!0,i.reject(q,A))});return q}},{immediate:36}],38:[function(g,y,o){var n={};(0,g("./lib/utils/common").assign)(n,g("./lib/deflate"),g("./lib/inflate"),g("./lib/zlib/constants")),y.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(g,y,o){var n=g("./zlib/deflate"),s=g("./utils/common"),i=g("./utils/strings"),a=g("./zlib/messages"),m=g("./zlib/zstream"),f=Object.prototype.toString;function b(_){if(!(this instanceof b))return new b(_);this.options=s.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},_||{});var w=((_=this.options).raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0,n.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy));if(w!==0)throw new Error(a[w]);if(_.header&&n.deflateSetHeader(this.strm,_.header),_.dictionary){if(_=typeof _.dictionary=="string"?i.string2buf(_.dictionary):f.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(w=n.deflateSetDictionary(this.strm,_))!==0)throw new Error(a[w]);this._dict_set=!0}}function C(_,w){if((w=new b(w)).push(_,!0),w.err)throw w.msg||a[w.err];return w.result}b.prototype.push=function(_,w){var M,S,I=this.strm,x=this.options.chunkSize;if(this.ended)return!1;S=w===~~w?w:w===!0?4:0,typeof _=="string"?I.input=i.string2buf(_):f.call(_)==="[object ArrayBuffer]"?I.input=new Uint8Array(_):I.input=_,I.next_in=0,I.avail_in=I.input.length;do if(I.avail_out===0&&(I.output=new s.Buf8(x),I.next_out=0,I.avail_out=x),(M=n.deflate(I,S))!==1&&M!==0)return this.onEnd(M),!(this.ended=!0);while(I.avail_out!==0&&(I.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(s.shrinkBuf(I.output,I.next_out))):this.onData(s.shrinkBuf(I.output,I.next_out))),(0<I.avail_in||I.avail_out===0)&&M!==1);return S===4?(M=n.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===0):S!==2||(this.onEnd(0),!(I.avail_out=0))},b.prototype.onData=function(_){this.chunks.push(_)},b.prototype.onEnd=function(_){_===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},o.Deflate=b,o.deflate=C,o.deflateRaw=function(_,w){return(w=w||{}).raw=!0,C(_,w)},o.gzip=function(_,w){return(w=w||{}).gzip=!0,C(_,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(g,y,o){var n=g("./zlib/inflate"),s=g("./utils/common"),i=g("./utils/strings"),a=g("./zlib/constants"),m=g("./zlib/messages"),f=g("./zlib/zstream"),b=g("./zlib/gzheader"),C=Object.prototype.toString;function _(M){if(!(this instanceof _))return new _(M);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},M||{});var S=this.options;if((M=(S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||M&&M.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0,n.inflateInit2(this.strm,S.windowBits)))!==a.Z_OK)throw new Error(m[M]);this.header=new b,n.inflateGetHeader(this.strm,this.header)}function w(M,S){if((S=new _(S)).push(M,!0),S.err)throw S.msg||m[S.err];return S.result}_.prototype.push=function(M,S){var I,x,E,D,R,q=this.strm,A=this.options.chunkSize,j=this.options.dictionary,H=!1;if(this.ended)return!1;x=S===~~S?S:S===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof M=="string"?q.input=i.binstring2buf(M):C.call(M)==="[object ArrayBuffer]"?q.input=new Uint8Array(M):q.input=M,q.next_in=0,q.avail_in=q.input.length;do if(q.avail_out===0&&(q.output=new s.Buf8(A),q.next_out=0,q.avail_out=A),(I=n.inflate(q,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&j&&(R=typeof j=="string"?i.string2buf(j):C.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,I=n.inflateSetDictionary(this.strm,R)),I===a.Z_BUF_ERROR&&H===!0&&(I=a.Z_OK,H=!1),I!==a.Z_STREAM_END&&I!==a.Z_OK)return this.onEnd(I),!(this.ended=!0);while(!q.next_out||q.avail_out!==0&&I!==a.Z_STREAM_END&&(q.avail_in!==0||x!==a.Z_FINISH&&x!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=i.utf8border(q.output,q.next_out),E=q.next_out-R,D=i.buf2string(q.output,R),q.next_out=E,q.avail_out=A-E,E&&s.arraySet(q.output,q.output,R,E,0),this.onData(D)):this.onData(s.shrinkBuf(q.output,q.next_out))),q.avail_in===0&&q.avail_out===0&&(H=!0),(0<q.avail_in||q.avail_out===0)&&I!==a.Z_STREAM_END);return(x=I===a.Z_STREAM_END?a.Z_FINISH:x)===a.Z_FINISH?(I=n.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===a.Z_OK):x!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(q.avail_out=0))},_.prototype.onData=function(M){this.chunks.push(M)},_.prototype.onEnd=function(M){M===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},o.Inflate=_,o.inflate=w,o.inflateRaw=function(M,S){return(S=S||{}).raw=!0,w(M,S)},o.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(g,y,o){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined",s=(o.assign=function(a){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var f=m.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var b in f)f.hasOwnProperty(b)&&(a[b]=f[b])}}return a},o.shrinkBuf=function(a,m){return a.length===m?a:a.subarray?a.subarray(0,m):(a.length=m,a)},{arraySet:function(a,m,f,b,C){if(m.subarray&&a.subarray)a.set(m.subarray(f,f+b),C);else for(var _=0;_<b;_++)a[C+_]=m[f+_]},flattenChunks:function(a){for(var m,f,b,C,_=m=0,w=a.length;_<w;_++)m+=a[_].length;for(C=new Uint8Array(m),_=f=0,w=a.length;_<w;_++)b=a[_],C.set(b,f),f+=b.length;return C}}),i={arraySet:function(a,m,f,b,C){for(var _=0;_<b;_++)a[C+_]=m[f+_]},flattenChunks:function(a){return[].concat.apply([],a)}};o.setTyped=function(a){a?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,s)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,i))},o.setTyped(n)},{}],42:[function(g,y,o){var n=g("./common"),s=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var a=new n.Buf8(256),m=0;m<256;m++)a[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function f(b,C){if(C<65537&&(b.subarray&&i||!b.subarray&&s))return String.fromCharCode.apply(null,n.shrinkBuf(b,C));for(var _="",w=0;w<C;w++)_+=String.fromCharCode(b[w]);return _}a[254]=a[254]=1,o.string2buf=function(b){for(var C,_,w,M,S=b.length,I=0,x=0;x<S;x++)(64512&(_=b.charCodeAt(x)))==55296&&x+1<S&&(64512&(w=b.charCodeAt(x+1)))==56320&&(_=65536+(_-55296<<10)+(w-56320),x++),I+=_<128?1:_<2048?2:_<65536?3:4;for(C=new n.Buf8(I),x=M=0;M<I;x++)(64512&(_=b.charCodeAt(x)))==55296&&x+1<S&&(64512&(w=b.charCodeAt(x+1)))==56320&&(_=65536+(_-55296<<10)+(w-56320),x++),_<128?C[M++]=_:(_<2048?C[M++]=192|_>>>6:(_<65536?C[M++]=224|_>>>12:(C[M++]=240|_>>>18,C[M++]=128|_>>>12&63),C[M++]=128|_>>>6&63),C[M++]=128|63&_);return C},o.buf2binstring=function(b){return f(b,b.length)},o.binstring2buf=function(b){for(var C=new n.Buf8(b.length),_=0,w=C.length;_<w;_++)C[_]=b.charCodeAt(_);return C},o.buf2string=function(b,C){for(var _,w,M,S=C||b.length,I=new Array(2*S),x=_=0;x<S;)if((w=b[x++])<128)I[_++]=w;else if(4<(M=a[w]))I[_++]=65533,x+=M-1;else{for(w&=M===2?31:M===3?15:7;1<M&&x<S;)w=w<<6|63&b[x++],M--;1<M?I[_++]=65533:w<65536?I[_++]=w:(w-=65536,I[_++]=55296|w>>10&1023,I[_++]=56320|1023&w)}return f(I,_)},o.utf8border=function(b,C){for(var _=(C=(C=C||b.length)>b.length?b.length:C)-1;0<=_&&(192&b[_])==128;)_--;return!(_<0)&&_!==0&&_+a[b[_]]>C?_:C}},{"./common":41}],43:[function(g,y,o){y.exports=function(n,s,i,a){for(var m=65535&n|0,f=n>>>16&65535|0,b=0;i!==0;){for(i-=b=2e3<i?2e3:i;f=f+(m=m+s[a++]|0)|0,--b;);m%=65521,f%=65521}return m|f<<16|0}},{}],44:[function(g,y,o){y.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(g,y,o){var n=function(){for(var s=[],i=0;i<256;i++){for(var a=i,m=0;m<8;m++)a=1&a?3988292384^a>>>1:a>>>1;s[i]=a}return s}();y.exports=function(s,i,a,m){var f=n,b=m+a;s^=-1;for(var C=m;C<b;C++)s=s>>>8^f[255&(s^i[C])];return-1^s}},{}],46:[function(g,y,o){var n,s=g("../utils/common"),i=g("./trees"),a=g("./adler32"),m=g("./crc32"),f=g("./messages"),b=-2,C=258,_=262,w=113;function M(k,L){return k.msg=f[L],L}function S(k){return(k<<1)-(4<k?9:0)}function I(k){for(var L=k.length;0<=--L;)k[L]=0}function x(k){var L=k.state,$=L.pending;($=$>k.avail_out?k.avail_out:$)!==0&&(s.arraySet(k.output,L.pending_buf,L.pending_out,$,k.next_out),k.next_out+=$,L.pending_out+=$,k.total_out+=$,k.avail_out-=$,L.pending-=$,L.pending===0&&(L.pending_out=0))}function E(k,L){i._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,L),k.block_start=k.strstart,x(k.strm)}function D(k,L){k.pending_buf[k.pending++]=L}function R(k,L){k.pending_buf[k.pending++]=L>>>8&255,k.pending_buf[k.pending++]=255&L}function q(k,L){var $,B,G=k.max_chain_length,Z=k.strstart,re=k.prev_length,z=k.nice_match,ie=k.strstart>k.w_size-_?k.strstart-(k.w_size-_):0,se=k.window,Ce=k.w_mask,Se=k.prev,F=k.strstart+C,J=se[Z+re-1],he=se[Z+re];k.prev_length>=k.good_match&&(G>>=2),z>k.lookahead&&(z=k.lookahead);do if(se[($=L)+re]===he&&se[$+re-1]===J&&se[$]===se[Z]&&se[++$]===se[Z+1]){for(Z+=2,$++;se[++Z]===se[++$]&&se[++Z]===se[++$]&&se[++Z]===se[++$]&&se[++Z]===se[++$]&&se[++Z]===se[++$]&&se[++Z]===se[++$]&&se[++Z]===se[++$]&&se[++Z]===se[++$]&&Z<F;);if(B=C-(F-Z),Z=F-C,re<B){if(k.match_start=L,z<=(re=B))break;J=se[Z+re-1],he=se[Z+re]}}while((L=Se[L&Ce])>ie&&--G!=0);return re<=k.lookahead?re:k.lookahead}function A(k){var L,$,B,G,Z,re,z,ie,se,Ce=k.w_size;do{if(ie=k.window_size-k.lookahead-k.strstart,k.strstart>=Ce+(Ce-_)){for(s.arraySet(k.window,k.window,Ce,Ce,0),k.match_start-=Ce,k.strstart-=Ce,k.block_start-=Ce,L=$=k.hash_size;B=k.head[--L],k.head[L]=Ce<=B?B-Ce:0,--$;);for(L=$=Ce;B=k.prev[--L],k.prev[L]=Ce<=B?B-Ce:0,--$;);ie+=Ce}if(k.strm.avail_in===0)break;if(Z=k.strm,re=k.window,z=k.strstart+k.lookahead,se=void 0,$=(se=(ie=ie)<(se=Z.avail_in)?ie:se)===0?0:(Z.avail_in-=se,s.arraySet(re,Z.input,Z.next_in,se,z),Z.state.wrap===1?Z.adler=a(Z.adler,re,se,z):Z.state.wrap===2&&(Z.adler=m(Z.adler,re,se,z)),Z.next_in+=se,Z.total_in+=se,se),k.lookahead+=$,k.lookahead+k.insert>=3)for(G=k.strstart-k.insert,k.ins_h=k.window[G],k.ins_h=(k.ins_h<<k.hash_shift^k.window[G+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[G+3-1])&k.hash_mask,k.prev[G&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=G,G++,k.insert--,!(k.lookahead+k.insert<3)););}while(k.lookahead<_&&k.strm.avail_in!==0)}function j(k,L){for(var $,B;;){if(k.lookahead<_){if(A(k),k.lookahead<_&&L===0)return 1;if(k.lookahead===0)break}if($=0,k.lookahead>=3&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,$=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),$!==0&&k.strstart-$<=k.w_size-_&&(k.match_length=q(k,$)),k.match_length>=3)if(B=i._tr_tally(k,k.strstart-k.match_start,k.match_length-3),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=3){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,$=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else B=i._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(B&&(E(k,!1),k.strm.avail_out===0))return 1}return k.insert=k.strstart<2?k.strstart:2,L===4?(E(k,!0),k.strm.avail_out===0?3:4):k.last_lit&&(E(k,!1),k.strm.avail_out===0)?1:2}function H(k,L){for(var $,B,G;;){if(k.lookahead<_){if(A(k),k.lookahead<_&&L===0)return 1;if(k.lookahead===0)break}if($=0,k.lookahead>=3&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,$=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=2,$!==0&&k.prev_length<k.max_lazy_match&&k.strstart-$<=k.w_size-_&&(k.match_length=q(k,$),k.match_length<=5&&(k.strategy===1||k.match_length===3&&4096<k.strstart-k.match_start)&&(k.match_length=2)),k.prev_length>=3&&k.match_length<=k.prev_length){for(G=k.strstart+k.lookahead-3,B=i._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-3),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=G&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,$=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=2,k.strstart++,B&&(E(k,!1),k.strm.avail_out===0))return 1}else if(k.match_available){if((B=i._tr_tally(k,0,k.window[k.strstart-1]))&&E(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return 1}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(B=i._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<2?k.strstart:2,L===4?(E(k,!0),k.strm.avail_out===0?3:4):k.last_lit&&(E(k,!1),k.strm.avail_out===0)?1:2}function W(k,L,$,B,G){this.good_length=k,this.max_lazy=L,this.nice_length=$,this.max_chain=B,this.func=G}function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(1146),this.dyn_dtree=new s.Buf16(122),this.bl_tree=new s.Buf16(78),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(16),this.heap=new s.Buf16(573),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(573),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ee(k){var L;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=2,(L=k.state).pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?42:w,k.adler=L.wrap===2?0:1,L.last_flush=0,i._tr_init(L),0):M(k,b)}function ae(k){var L=ee(k);return L===0&&((k=k.state).window_size=2*k.w_size,I(k.head),k.max_lazy_match=n[k.level].max_lazy,k.good_match=n[k.level].good_length,k.nice_match=n[k.level].nice_length,k.max_chain_length=n[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=2,k.match_available=0,k.ins_h=0),L}function N(k,L,$,B,G,Z){if(!k)return b;var re=1;if(L===-1&&(L=6),B<0?(re=0,B=-B):15<B&&(re=2,B-=16),G<1||9<G||$!==8||B<8||15<B||L<0||9<L||Z<0||4<Z)return M(k,b);B===8&&(B=9);var z=new X;return(k.state=z).strm=k,z.wrap=re,z.gzhead=null,z.w_bits=B,z.w_size=1<<z.w_bits,z.w_mask=z.w_size-1,z.hash_bits=G+7,z.hash_size=1<<z.hash_bits,z.hash_mask=z.hash_size-1,z.hash_shift=~~((z.hash_bits+3-1)/3),z.window=new s.Buf8(2*z.w_size),z.head=new s.Buf16(z.hash_size),z.prev=new s.Buf16(z.w_size),z.lit_bufsize=1<<G+6,z.pending_buf_size=4*z.lit_bufsize,z.pending_buf=new s.Buf8(z.pending_buf_size),z.d_buf=+z.lit_bufsize,z.l_buf=3*z.lit_bufsize,z.level=L,z.strategy=Z,z.method=$,ae(k)}n=[new W(0,0,0,0,function(k,L){var $=65535;for($>k.pending_buf_size-5&&($=k.pending_buf_size-5);;){if(k.lookahead<=1){if(A(k),k.lookahead===0&&L===0)return 1;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var B=k.block_start+$;if((k.strstart===0||k.strstart>=B)&&(k.lookahead=k.strstart-B,k.strstart=B,E(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-_&&(E(k,!1),k.strm.avail_out===0))return 1}return k.insert=0,L===4?(E(k,!0),k.strm.avail_out===0?3:4):(k.strstart>k.block_start&&(E(k,!1),k.strm.avail_out),1)}),new W(4,4,8,4,j),new W(4,5,16,8,j),new W(4,6,32,32,j),new W(4,4,16,16,H),new W(8,16,32,32,H),new W(8,16,128,128,H),new W(8,32,128,256,H),new W(32,128,258,1024,H),new W(32,258,258,4096,H)],o.deflateInit=function(k,L){return N(k,L,8,15,8,0)},o.deflateInit2=N,o.deflateReset=ae,o.deflateResetKeep=ee,o.deflateSetHeader=function(k,L){return k&&k.state&&k.state.wrap===2?(k.state.gzhead=L,0):b},o.deflate=function(k,L){var $,B,G,Z;if(!k||!k.state||5<L||L<0)return k?M(k,b):b;if(B=k.state,!k.output||!k.input&&k.avail_in!==0||B.status===666&&L!==4)return M(k,k.avail_out===0?-5:b);if(B.strm=k,$=B.last_flush,B.last_flush=L,B.status===42&&(B.wrap===2?(k.adler=0,D(B,31),D(B,139),D(B,8),B.gzhead?(D(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),D(B,255&B.gzhead.time),D(B,B.gzhead.time>>8&255),D(B,B.gzhead.time>>16&255),D(B,B.gzhead.time>>24&255),D(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),D(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(D(B,255&B.gzhead.extra.length),D(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(k.adler=m(k.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(D(B,0),D(B,0),D(B,0),D(B,0),D(B,0),D(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),D(B,3),B.status=w)):(re=8+(B.w_bits-8<<4)<<8,re|=(2<=B.strategy||B.level<2?0:B.level<6?1:B.level===6?2:3)<<6,B.strstart!==0&&(re|=32),re+=31-re%31,B.status=w,R(B,re),B.strstart!==0&&(R(B,k.adler>>>16),R(B,65535&k.adler)),k.adler=1)),B.status===69)if(B.gzhead.extra){for(G=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>G&&(k.adler=m(k.adler,B.pending_buf,B.pending-G,G)),x(k),G=B.pending,B.pending!==B.pending_buf_size));)D(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>G&&(k.adler=m(k.adler,B.pending_buf,B.pending-G,G)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(B.status===73)if(B.gzhead.name){G=B.pending;do if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>G&&(k.adler=m(k.adler,B.pending_buf,B.pending-G,G)),x(k),G=B.pending,B.pending===B.pending_buf_size)){Z=1;break}while(Z=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,D(B,Z),Z!==0);B.gzhead.hcrc&&B.pending>G&&(k.adler=m(k.adler,B.pending_buf,B.pending-G,G)),Z===0&&(B.gzindex=0,B.status=91)}else B.status=91;if(B.status===91)if(B.gzhead.comment){G=B.pending;do if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>G&&(k.adler=m(k.adler,B.pending_buf,B.pending-G,G)),x(k),G=B.pending,B.pending===B.pending_buf_size)){Z=1;break}while(Z=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,D(B,Z),Z!==0);B.gzhead.hcrc&&B.pending>G&&(k.adler=m(k.adler,B.pending_buf,B.pending-G,G)),Z===0&&(B.status=103)}else B.status=103;if(B.status===103&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&x(k),B.pending+2<=B.pending_buf_size&&(D(B,255&k.adler),D(B,k.adler>>8&255),k.adler=0,B.status=w)):B.status=w),B.pending!==0){if(x(k),k.avail_out===0)return B.last_flush=-1,0}else if(k.avail_in===0&&S(L)<=S($)&&L!==4)return M(k,-5);if(B.status===666&&k.avail_in!==0)return M(k,-5);if(k.avail_in!==0||B.lookahead!==0||L!==0&&B.status!==666){var re=B.strategy===2?function(z,ie){for(var se;;){if(z.lookahead===0&&(A(z),z.lookahead===0)){if(ie===0)return 1;break}if(z.match_length=0,se=i._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,se&&(E(z,!1),z.strm.avail_out===0))return 1}return z.insert=0,ie===4?(E(z,!0),z.strm.avail_out===0?3:4):z.last_lit&&(E(z,!1),z.strm.avail_out===0)?1:2}(B,L):B.strategy===3?function(z,ie){for(var se,Ce,Se,F,J=z.window;;){if(z.lookahead<=C){if(A(z),z.lookahead<=C&&ie===0)return 1;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=3&&0<z.strstart&&(Ce=J[Se=z.strstart-1])===J[++Se]&&Ce===J[++Se]&&Ce===J[++Se]){for(F=z.strstart+C;Ce===J[++Se]&&Ce===J[++Se]&&Ce===J[++Se]&&Ce===J[++Se]&&Ce===J[++Se]&&Ce===J[++Se]&&Ce===J[++Se]&&Ce===J[++Se]&&Se<F;);z.match_length=C-(F-Se),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=3?(se=i._tr_tally(z,1,z.match_length-3),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(se=i._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),se&&(E(z,!1),z.strm.avail_out===0))return 1}return z.insert=0,ie===4?(E(z,!0),z.strm.avail_out===0?3:4):z.last_lit&&(E(z,!1),z.strm.avail_out===0)?1:2}(B,L):n[B.level].func(B,L);if(re!==3&&re!==4||(B.status=666),re===1||re===3)return k.avail_out===0&&(B.last_flush=-1),0;if(re===2&&(L===1?i._tr_align(B):L!==5&&(i._tr_stored_block(B,0,0,!1),L===3&&(I(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),x(k),k.avail_out===0))return B.last_flush=-1,0}return L!==4?0:B.wrap<=0?1:(B.wrap===2?(D(B,255&k.adler),D(B,k.adler>>8&255),D(B,k.adler>>16&255),D(B,k.adler>>24&255),D(B,255&k.total_in),D(B,k.total_in>>8&255),D(B,k.total_in>>16&255),D(B,k.total_in>>24&255)):(R(B,k.adler>>>16),R(B,65535&k.adler)),x(k),0<B.wrap&&(B.wrap=-B.wrap),B.pending!==0?0:1)},o.deflateEnd=function(k){var L;return k&&k.state?(L=k.state.status)!==42&&L!==69&&L!==73&&L!==91&&L!==103&&L!==w&&L!==666?M(k,b):(k.state=null,L===w?M(k,-3):0):b},o.deflateSetDictionary=function(k,L){var $,B,G,Z,re,z,ie,se=L.length;if(!k||!k.state||(Z=($=k.state).wrap)===2||Z===1&&$.status!==42||$.lookahead)return b;for(Z===1&&(k.adler=a(k.adler,L,se,0)),$.wrap=0,se>=$.w_size&&(Z===0&&(I($.head),$.strstart=0,$.block_start=0,$.insert=0),ie=new s.Buf8($.w_size),s.arraySet(ie,L,se-$.w_size,$.w_size,0),L=ie,se=$.w_size),ie=k.avail_in,re=k.next_in,z=k.input,k.avail_in=se,k.next_in=0,k.input=L,A($);$.lookahead>=3;){for(B=$.strstart,G=$.lookahead-2;$.ins_h=($.ins_h<<$.hash_shift^$.window[B+3-1])&$.hash_mask,$.prev[B&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=B,B++,--G;);$.strstart=B,$.lookahead=2,A($)}return $.strstart+=$.lookahead,$.block_start=$.strstart,$.insert=$.lookahead,$.lookahead=0,$.match_length=$.prev_length=2,$.match_available=0,k.next_in=re,k.input=z,k.avail_in=ie,$.wrap=Z,0},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(g,y,o){y.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(g,y,o){y.exports=function(n,s){var i,a,m,f,b,C,_=n.state,w=n.next_in,M=n.input,S=w+(n.avail_in-5),I=n.next_out,x=n.output,E=I-(s-n.avail_out),D=I+(n.avail_out-257),R=_.dmax,q=_.wsize,A=_.whave,j=_.wnext,H=_.window,W=_.hold,X=_.bits,ee=_.lencode,ae=_.distcode,N=(1<<_.lenbits)-1,k=(1<<_.distbits)-1;e:do for(X<15&&(W+=M[w++]<<X,X+=8,W+=M[w++]<<X,X+=8),i=ee[W&N];;){if(W>>>=a=i>>>24,X-=a,(a=i>>>16&255)==0)x[I++]=65535&i;else{if(!(16&a)){if((64&a)==0){i=ee[(65535&i)+(W&(1<<a)-1)];continue}if(32&a){_.mode=12;break e}n.msg="invalid literal/length code",_.mode=30;break e}for(m=65535&i,(a&=15)&&(X<a&&(W+=M[w++]<<X,X+=8),m+=W&(1<<a)-1,W>>>=a,X-=a),X<15&&(W+=M[w++]<<X,X+=8,W+=M[w++]<<X,X+=8),i=ae[W&k];;){if(W>>>=a=i>>>24,X-=a,!(16&(a=i>>>16&255))){if((64&a)==0){i=ae[(65535&i)+(W&(1<<a)-1)];continue}n.msg="invalid distance code",_.mode=30;break e}if(f=65535&i,X<(a&=15)&&(W+=M[w++]<<X,(X+=8)<a&&(W+=M[w++]<<X,X+=8)),R<(f+=W&(1<<a)-1)){n.msg="invalid distance too far back",_.mode=30;break e}if(W>>>=a,X-=a,(a=I-E)<f){if(A<(a=f-a)&&_.sane){n.msg="invalid distance too far back",_.mode=30;break e}if(C=H,(b=0)===j){if(b+=q-a,a<m){for(m-=a;x[I++]=H[b++],--a;);b=I-f,C=x}}else if(j<a){if(b+=q+j-a,(a-=j)<m){for(m-=a;x[I++]=H[b++],--a;);if(b=0,j<m){for(m-=a=j;x[I++]=H[b++],--a;);b=I-f,C=x}}}else if(b+=j-a,a<m){for(m-=a;x[I++]=H[b++],--a;);b=I-f,C=x}for(;2<m;)x[I++]=C[b++],x[I++]=C[b++],x[I++]=C[b++],m-=3;m&&(x[I++]=C[b++],1<m&&(x[I++]=C[b++]))}else{for(b=I-f;x[I++]=x[b++],x[I++]=x[b++],x[I++]=x[b++],2<(m-=3););m&&(x[I++]=x[b++],1<m&&(x[I++]=x[b++]))}break}}break}while(w<S&&I<D);w-=m=X>>3,W&=(1<<(X-=m<<3))-1,n.next_in=w,n.next_out=I,n.avail_in=w<S?S-w+5:5-(w-S),n.avail_out=I<D?D-I+257:257-(I-D),_.hold=W,_.bits=X}},{}],49:[function(g,y,o){var n=g("../utils/common"),s=g("./adler32"),i=g("./crc32"),a=g("./inffast"),m=g("./inftrees"),f=-2;function b(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(R){var q;return R&&R.state?(q=R.state,R.total_in=R.total_out=q.total=0,R.msg="",q.wrap&&(R.adler=1&q.wrap),q.mode=1,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new n.Buf32(852),q.distcode=q.distdyn=new n.Buf32(592),q.sane=1,q.back=-1,0):f}function w(R){var q;return R&&R.state?((q=R.state).wsize=0,q.whave=0,q.wnext=0,_(R)):f}function M(R,q){var A,j;return R&&R.state?(j=R.state,q<0?(A=0,q=-q):(A=1+(q>>4),q<48&&(q&=15)),q&&(q<8||15<q)?f:(j.window!==null&&j.wbits!==q&&(j.window=null),j.wrap=A,j.wbits=q,w(R))):f}function S(R,q){var A;return R?(A=new C,(R.state=A).window=null,(A=M(R,q))!==0&&(R.state=null),A):f}var I,x,E=!0;function D(R,q,A,j){var H;return(R=R.state).window===null&&(R.wsize=1<<R.wbits,R.wnext=0,R.whave=0,R.window=new n.Buf8(R.wsize)),j>=R.wsize?(n.arraySet(R.window,q,A-R.wsize,R.wsize,0),R.wnext=0,R.whave=R.wsize):(j<(H=R.wsize-R.wnext)&&(H=j),n.arraySet(R.window,q,A-j,H,R.wnext),(j-=H)?(n.arraySet(R.window,q,A-j,j,0),R.wnext=j,R.whave=R.wsize):(R.wnext+=H,R.wnext===R.wsize&&(R.wnext=0),R.whave<R.wsize&&(R.whave+=H))),0}o.inflateReset=w,o.inflateReset2=M,o.inflateResetKeep=_,o.inflateInit=function(R){return S(R,15)},o.inflateInit2=S,o.inflate=function(R,q){var A,j,H,W,X,ee,ae,N,k,L,$,B,G,Z,re,z,ie,se,Ce,Se,F,J,he,de,ge=0,_e=new n.Buf8(4),fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return f;(A=R.state).mode===12&&(A.mode=13),X=R.next_out,H=R.output,ae=R.avail_out,W=R.next_in,j=R.input,ee=R.avail_in,N=A.hold,k=A.bits,L=ee,$=ae,J=0;e:for(;;)switch(A.mode){case 1:if(A.wrap===0){A.mode=13;break}for(;k<16;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}if(2&A.wrap&&N===35615){_e[A.check=0]=255&N,_e[1]=N>>>8&255,A.check=i(A.check,_e,2,0),k=N=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&N)<<8)+(N>>8))%31){R.msg="incorrect header check",A.mode=30;break}if((15&N)!=8){R.msg="unknown compression method",A.mode=30;break}if(k-=4,F=8+(15&(N>>>=4)),A.wbits===0)A.wbits=F;else if(F>A.wbits){R.msg="invalid window size",A.mode=30;break}A.dmax=1<<F,R.adler=A.check=1,A.mode=512&N?10:12,k=N=0;break;case 2:for(;k<16;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}if(A.flags=N,(255&A.flags)!=8){R.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){R.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=N>>8&1),512&A.flags&&(_e[0]=255&N,_e[1]=N>>>8&255,A.check=i(A.check,_e,2,0)),k=N=0,A.mode=3;case 3:for(;k<32;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}A.head&&(A.head.time=N),512&A.flags&&(_e[0]=255&N,_e[1]=N>>>8&255,_e[2]=N>>>16&255,_e[3]=N>>>24&255,A.check=i(A.check,_e,4,0)),k=N=0,A.mode=4;case 4:for(;k<16;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}A.head&&(A.head.xflags=255&N,A.head.os=N>>8),512&A.flags&&(_e[0]=255&N,_e[1]=N>>>8&255,A.check=i(A.check,_e,2,0)),k=N=0,A.mode=5;case 5:if(1024&A.flags){for(;k<16;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}A.length=N,A.head&&(A.head.extra_len=N),512&A.flags&&(_e[0]=255&N,_e[1]=N>>>8&255,A.check=i(A.check,_e,2,0)),k=N=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&((B=ee<(B=A.length)?ee:B)&&(A.head&&(F=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),n.arraySet(A.head.extra,j,W,B,F)),512&A.flags&&(A.check=i(A.check,j,B,W)),ee-=B,W+=B,A.length-=B),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(ee===0)break e;for(B=0;F=j[W+B++],A.head&&F&&A.length<65536&&(A.head.name+=String.fromCharCode(F)),F&&B<ee;);if(512&A.flags&&(A.check=i(A.check,j,B,W)),ee-=B,W+=B,F)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(ee===0)break e;for(B=0;F=j[W+B++],A.head&&F&&A.length<65536&&(A.head.comment+=String.fromCharCode(F)),F&&B<ee;);if(512&A.flags&&(A.check=i(A.check,j,B,W)),ee-=B,W+=B,F)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;k<16;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}if(N!==(65535&A.check)){R.msg="header crc mismatch",A.mode=30;break}k=N=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),R.adler=A.check=0,A.mode=12;break;case 10:for(;k<32;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}R.adler=A.check=b(N),k=N=0,A.mode=11;case 11:if(A.havedict===0)return R.next_out=X,R.avail_out=ae,R.next_in=W,R.avail_in=ee,A.hold=N,A.bits=k,2;R.adler=A.check=1,A.mode=12;case 12:if(q===5||q===6)break e;case 13:if(A.last){N>>>=7&k,k-=7&k,A.mode=27;break}for(;k<3;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}switch(A.last=1&N,--k,3&(N>>>=1)){case 0:A.mode=14;break;case 1:we=ke=void 0;var we,ke=A;if(E){for(I=new n.Buf32(512),x=new n.Buf32(32),we=0;we<144;)ke.lens[we++]=8;for(;we<256;)ke.lens[we++]=9;for(;we<280;)ke.lens[we++]=7;for(;we<288;)ke.lens[we++]=8;for(m(1,ke.lens,0,288,I,0,ke.work,{bits:9}),we=0;we<32;)ke.lens[we++]=5;m(2,ke.lens,0,32,x,0,ke.work,{bits:5}),E=!1}if(ke.lencode=I,ke.lenbits=9,ke.distcode=x,ke.distbits=5,A.mode=20,q!==6)break;N>>>=2,k-=2;break e;case 2:A.mode=17;break;case 3:R.msg="invalid block type",A.mode=30}N>>>=2,k-=2;break;case 14:for(N>>>=7&k,k-=7&k;k<32;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}if((65535&N)!=(N>>>16^65535)){R.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&N,k=N=0,A.mode=15,q===6)break e;case 15:A.mode=16;case 16:if(B=A.length){if((B=ae<(B=ee<B?ee:B)?ae:B)===0)break e;n.arraySet(H,j,W,B,X),ee-=B,W+=B,ae-=B,X+=B,A.length-=B;break}A.mode=12;break;case 17:for(;k<14;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}if(A.nlen=257+(31&N),N>>>=5,k-=5,A.ndist=1+(31&N),N>>>=5,k-=5,A.ncode=4+(15&N),N>>>=4,k-=4,286<A.nlen||30<A.ndist){R.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;k<3;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}A.lens[fe[A.have++]]=7&N,N>>>=3,k-=3}for(;A.have<19;)A.lens[fe[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,he={bits:A.lenbits},J=m(0,A.lens,0,19,A.lencode,0,A.work,he),A.lenbits=he.bits,J){R.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;z=(ge=A.lencode[N&(1<<A.lenbits)-1])>>>16&255,ie=65535&ge,!((re=ge>>>24)<=k);){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}if(ie<16)N>>>=re,k-=re,A.lens[A.have++]=ie;else{if(ie===16){for(de=re+2;k<de;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}if(N>>>=re,k-=re,A.have===0){R.msg="invalid bit length repeat",A.mode=30;break}F=A.lens[A.have-1],B=3+(3&N),N>>>=2,k-=2}else if(ie===17){for(de=re+3;k<de;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}F=0,B=3+(7&(N>>>=re)),N>>>=3,k=k-re-3}else{for(de=re+7;k<de;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}F=0,B=11+(127&(N>>>=re)),N>>>=7,k=k-re-7}if(A.have+B>A.nlen+A.ndist){R.msg="invalid bit length repeat",A.mode=30;break}for(;B--;)A.lens[A.have++]=F}}if(A.mode===30)break;if(A.lens[256]===0){R.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,he={bits:A.lenbits},J=m(1,A.lens,0,A.nlen,A.lencode,0,A.work,he),A.lenbits=he.bits,J){R.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,he={bits:A.distbits},J=m(2,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,he),A.distbits=he.bits,J){R.msg="invalid distances set",A.mode=30;break}if(A.mode=20,q===6)break e;case 20:A.mode=21;case 21:if(6<=ee&&258<=ae){R.next_out=X,R.avail_out=ae,R.next_in=W,R.avail_in=ee,A.hold=N,A.bits=k,a(R,$),X=R.next_out,H=R.output,ae=R.avail_out,W=R.next_in,j=R.input,ee=R.avail_in,N=A.hold,k=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;z=(ge=A.lencode[N&(1<<A.lenbits)-1])>>>16&255,ie=65535&ge,!((re=ge>>>24)<=k);){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}if(z&&(240&z)==0){for(se=re,Ce=z,Se=ie;z=(ge=A.lencode[Se+((N&(1<<se+Ce)-1)>>se)])>>>16&255,ie=65535&ge,!(se+(re=ge>>>24)<=k);){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}N>>>=se,k-=se,A.back+=se}if(N>>>=re,k-=re,A.back+=re,A.length=ie,z===0){A.mode=26;break}if(32&z){A.back=-1,A.mode=12;break}if(64&z){R.msg="invalid literal/length code",A.mode=30;break}A.extra=15&z,A.mode=22;case 22:if(A.extra){for(de=A.extra;k<de;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}A.length+=N&(1<<A.extra)-1,N>>>=A.extra,k-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;z=(ge=A.distcode[N&(1<<A.distbits)-1])>>>16&255,ie=65535&ge,!((re=ge>>>24)<=k);){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}if((240&z)==0){for(se=re,Ce=z,Se=ie;z=(ge=A.distcode[Se+((N&(1<<se+Ce)-1)>>se)])>>>16&255,ie=65535&ge,!(se+(re=ge>>>24)<=k);){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}N>>>=se,k-=se,A.back+=se}if(N>>>=re,k-=re,A.back+=re,64&z){R.msg="invalid distance code",A.mode=30;break}A.offset=ie,A.extra=15&z,A.mode=24;case 24:if(A.extra){for(de=A.extra;k<de;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}A.offset+=N&(1<<A.extra)-1,N>>>=A.extra,k-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){R.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(ae===0)break e;if(A.offset>(B=$-ae)){if((B=A.offset-B)>A.whave&&A.sane){R.msg="invalid distance too far back",A.mode=30;break}G=B>A.wnext?(B-=A.wnext,A.wsize-B):A.wnext-B,B>A.length&&(B=A.length),Z=A.window}else Z=H,G=X-A.offset,B=A.length;for(ae-=B=ae<B?ae:B,A.length-=B;H[X++]=Z[G++],--B;);A.length===0&&(A.mode=21);break;case 26:if(ae===0)break e;H[X++]=A.length,ae--,A.mode=21;break;case 27:if(A.wrap){for(;k<32;){if(ee===0)break e;ee--,N|=j[W++]<<k,k+=8}if($-=ae,R.total_out+=$,A.total+=$,$&&(R.adler=A.check=(A.flags?i:s)(A.check,H,$,X-$)),$=ae,(A.flags?N:b(N))!==A.check){R.msg="incorrect data check",A.mode=30;break}k=N=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;k<32;){if(ee===0)break e;ee--,N+=j[W++]<<k,k+=8}if(N!==(4294967295&A.total)){R.msg="incorrect length check",A.mode=30;break}k=N=0}A.mode=29;case 29:J=1;break e;case 30:J=-3;break e;case 31:return-4;default:return f}return R.next_out=X,R.avail_out=ae,R.next_in=W,R.avail_in=ee,A.hold=N,A.bits=k,(A.wsize||$!==R.avail_out&&A.mode<30&&(A.mode<27||q!==4))&&D(R,R.output,R.next_out,$-R.avail_out)?(A.mode=31,-4):(L-=R.avail_in,$-=R.avail_out,R.total_in+=L,R.total_out+=$,A.total+=$,A.wrap&&$&&(R.adler=A.check=(A.flags?i:s)(A.check,H,$,R.next_out-$)),R.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),J=(L==0&&$===0||q===4)&&J===0?-5:J)},o.inflateEnd=function(R){if(!R||!R.state)return f;var q=R.state;return q.window&&(q.window=null),R.state=null,0},o.inflateGetHeader=function(R,q){return R&&R.state&&(2&(R=R.state).wrap)!=0?((R.head=q).done=!1,0):f},o.inflateSetDictionary=function(R,q){var A,j=q.length;return!R||!R.state||(A=R.state).wrap!==0&&A.mode!==11?f:A.mode===11&&s(1,q,j,0)!==A.check?-3:D(R,q,j,j)?(A.mode=31,-4):(A.havedict=1,0)},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(g,y,o){var n=g("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];y.exports=function(f,b,C,_,w,M,S,I){var x,E,D,R,q,A,j,H,W,X=I.bits,ee=0,ae=0,N=0,k=0,L=0,$=0,B=0,G=0,Z=0,re=0,z=null,ie=0,se=new n.Buf16(16),Ce=new n.Buf16(16),Se=null,F=0;for(ee=0;ee<=15;ee++)se[ee]=0;for(ae=0;ae<_;ae++)se[b[C+ae]]++;for(L=X,k=15;1<=k&&se[k]===0;k--);if(k<L&&(L=k),k===0)return w[M++]=20971520,w[M++]=20971520,I.bits=1,0;for(N=1;N<k&&se[N]===0;N++);for(L<N&&(L=N),ee=G=1;ee<=15;ee++)if((G=(G<<1)-se[ee])<0)return-1;if(0<G&&(f===0||k!==1))return-1;for(Ce[1]=0,ee=1;ee<15;ee++)Ce[ee+1]=Ce[ee]+se[ee];for(ae=0;ae<_;ae++)b[C+ae]!==0&&(S[Ce[b[C+ae]]++]=ae);if(A=f===0?(z=Se=S,19):f===1?(z=s,ie-=257,Se=i,F-=257,256):(z=a,Se=m,-1),ee=N,q=M,B=ae=re=0,D=-1,R=(Z=1<<($=L))-1,f===1&&852<Z||f===2&&592<Z)return 1;for(;;){for(W=S[ae]<A?(H=0,S[ae]):S[ae]>A?(H=Se[F+S[ae]],z[ie+S[ae]]):(H=96,0),x=1<<(j=ee-B),N=E=1<<$;w[q+(re>>B)+(E-=x)]=j<<24|H<<16|W|0,E!==0;);for(x=1<<ee-1;re&x;)x>>=1;if(re=x!==0?(re&x-1)+x:0,ae++,--se[ee]==0){if(ee===k)break;ee=b[C+S[ae]]}if(L<ee&&(re&R)!==D){for(q+=N,G=1<<($=ee-(B=B===0?L:B));$+B<k&&!((G-=se[$+B])<=0);)$++,G<<=1;if(Z+=1<<$,f===1&&852<Z||f===2&&592<Z)return 1;w[D=re&R]=L<<24|$<<16|q-M|0}}return re!==0&&(w[q+re]=ee-B<<24|64<<16|0),I.bits=L,0}},{"../utils/common":41}],51:[function(g,y,o){y.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(g,y,o){var n=g("../utils/common");function s(z){for(var ie=z.length;0<=--ie;)z[ie]=0}var i=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],b=new Array(576),C=(s(b),new Array(60)),_=(s(C),new Array(512)),w=(s(_),new Array(256)),M=(s(w),new Array(29));s(M);var S,I,x,E=new Array(30);function D(z,ie,se,Ce,Se){this.static_tree=z,this.extra_bits=ie,this.extra_base=se,this.elems=Ce,this.max_length=Se,this.has_stree=z&&z.length}function R(z,ie){this.dyn_tree=z,this.max_code=0,this.stat_desc=ie}function q(z){return z<256?_[z]:_[256+(z>>>7)]}function A(z,ie){z.pending_buf[z.pending++]=255&ie,z.pending_buf[z.pending++]=ie>>>8&255}function j(z,ie,se){z.bi_valid>16-se?(z.bi_buf|=ie<<z.bi_valid&65535,A(z,z.bi_buf),z.bi_buf=ie>>16-z.bi_valid,z.bi_valid+=se-16):(z.bi_buf|=ie<<z.bi_valid&65535,z.bi_valid+=se)}function H(z,ie,se){j(z,se[2*ie],se[2*ie+1])}function W(z,ie){for(var se=0;se|=1&z,z>>>=1,se<<=1,0<--ie;);return se>>>1}function X(z,ie,se){for(var Ce,Se=new Array(16),F=0,J=1;J<=15;J++)Se[J]=F=F+se[J-1]<<1;for(Ce=0;Ce<=ie;Ce++){var he=z[2*Ce+1];he!==0&&(z[2*Ce]=W(Se[he]++,he))}}function ee(z){for(var ie=0;ie<286;ie++)z.dyn_ltree[2*ie]=0;for(ie=0;ie<30;ie++)z.dyn_dtree[2*ie]=0;for(ie=0;ie<19;ie++)z.bl_tree[2*ie]=0;z.dyn_ltree[512]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function ae(z){8<z.bi_valid?A(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function N(z,ie,se,Ce){var Se=2*ie,F=2*se;return z[Se]<z[F]||z[Se]===z[F]&&Ce[ie]<=Ce[se]}function k(z,ie,se){for(var Ce=z.heap[se],Se=se<<1;Se<=z.heap_len&&(Se<z.heap_len&&N(ie,z.heap[Se+1],z.heap[Se],z.depth)&&Se++,!N(ie,Ce,z.heap[Se],z.depth));)z.heap[se]=z.heap[Se],se=Se,Se<<=1;z.heap[se]=Ce}function L(z,ie,se){var Ce,Se,F,J,he=0;if(z.last_lit!==0)for(;Ce=z.pending_buf[z.d_buf+2*he]<<8|z.pending_buf[z.d_buf+2*he+1],Se=z.pending_buf[z.l_buf+he],he++,Ce==0?H(z,Se,ie):(H(z,(F=w[Se])+256+1,ie),(J=i[F])!==0&&j(z,Se-=M[F],J),H(z,F=q(--Ce),se),(J=a[F])!==0&&j(z,Ce-=E[F],J)),he<z.last_lit;);H(z,256,ie)}function $(z,ie){var se,Ce,Se,F=ie.dyn_tree,J=ie.stat_desc.static_tree,he=ie.stat_desc.has_stree,de=ie.stat_desc.elems,ge=-1;for(z.heap_len=0,z.heap_max=573,se=0;se<de;se++)F[2*se]!==0?(z.heap[++z.heap_len]=ge=se,z.depth[se]=0):F[2*se+1]=0;for(;z.heap_len<2;)F[2*(Se=z.heap[++z.heap_len]=ge<2?++ge:0)]=1,z.depth[Se]=0,z.opt_len--,he&&(z.static_len-=J[2*Se+1]);for(ie.max_code=ge,se=z.heap_len>>1;1<=se;se--)k(z,F,se);for(Se=de;se=z.heap[1],z.heap[1]=z.heap[z.heap_len--],k(z,F,1),Ce=z.heap[1],z.heap[--z.heap_max]=se,z.heap[--z.heap_max]=Ce,F[2*Se]=F[2*se]+F[2*Ce],z.depth[Se]=(z.depth[se]>=z.depth[Ce]?z.depth[se]:z.depth[Ce])+1,F[2*se+1]=F[2*Ce+1]=Se,z.heap[1]=Se++,k(z,F,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1];for(var _e,fe,we,ke,Ie,De=z,Ee=ie.dyn_tree,U=ie.max_code,oe=ie.stat_desc.static_tree,te=ie.stat_desc.has_stree,ue=ie.stat_desc.extra_bits,pe=ie.stat_desc.extra_base,K=ie.stat_desc.max_length,ce=0,me=0;me<=15;me++)De.bl_count[me]=0;for(Ee[2*De.heap[De.heap_max]+1]=0,_e=De.heap_max+1;_e<573;_e++)K<(me=Ee[2*Ee[2*(fe=De.heap[_e])+1]+1]+1)&&(me=K,ce++),Ee[2*fe+1]=me,U<fe||(De.bl_count[me]++,ke=0,pe<=fe&&(ke=ue[fe-pe]),Ie=Ee[2*fe],De.opt_len+=Ie*(me+ke),te&&(De.static_len+=Ie*(oe[2*fe+1]+ke)));if(ce!==0){do for(me=K-1;De.bl_count[me]===0;)me--;while(De.bl_count[me]--,De.bl_count[me+1]+=2,De.bl_count[K]--,0<(ce-=2));for(me=K;me!==0;me--)for(fe=De.bl_count[me];fe!==0;)U<(we=De.heap[--_e])||(Ee[2*we+1]!==me&&(De.opt_len+=(me-Ee[2*we+1])*Ee[2*we],Ee[2*we+1]=me),fe--)}X(F,ge,z.bl_count)}function B(z,ie,se){var Ce,Se,F=-1,J=ie[1],he=0,de=7,ge=4;for(J===0&&(de=138,ge=3),ie[2*(se+1)+1]=65535,Ce=0;Ce<=se;Ce++)Se=J,J=ie[2*(Ce+1)+1],++he<de&&Se===J||(he<ge?z.bl_tree[2*Se]+=he:Se!==0?(Se!==F&&z.bl_tree[2*Se]++,z.bl_tree[32]++):he<=10?z.bl_tree[34]++:z.bl_tree[36]++,F=Se,ge=(he=0)===J?(de=138,3):Se===J?(de=6,3):(de=7,4))}function G(z,ie,se){var Ce,Se,F=-1,J=ie[1],he=0,de=7,ge=4;for(J===0&&(de=138,ge=3),Ce=0;Ce<=se;Ce++)if(Se=J,J=ie[2*(Ce+1)+1],!(++he<de&&Se===J)){if(he<ge)for(;H(z,Se,z.bl_tree),--he!=0;);else Se!==0?(Se!==F&&(H(z,Se,z.bl_tree),he--),H(z,16,z.bl_tree),j(z,he-3,2)):he<=10?(H(z,17,z.bl_tree),j(z,he-3,3)):(H(z,18,z.bl_tree),j(z,he-11,7));F=Se,ge=(he=0)===J?(de=138,3):Se===J?(de=6,3):(de=7,4)}}s(E);var Z=!1;function re(z,ie,se,Ce){j(z,0+(Ce?1:0),3),Ce=ie,ie=se,ae(se=z),A(se,ie),A(se,~ie),n.arraySet(se.pending_buf,se.window,Ce,ie,se.pending),se.pending+=ie}o._tr_init=function(z){if(!Z){for(var ie,se,Ce,Se,F=new Array(16),J=Ce=0;J<28;J++)for(M[J]=Ce,ie=0;ie<1<<i[J];ie++)w[Ce++]=J;for(w[Ce-1]=J,J=Se=0;J<16;J++)for(E[J]=Se,ie=0;ie<1<<a[J];ie++)_[Se++]=J;for(Se>>=7;J<30;J++)for(E[J]=Se<<7,ie=0;ie<1<<a[J]-7;ie++)_[256+Se++]=J;for(se=0;se<=15;se++)F[se]=0;for(ie=0;ie<=143;)b[2*ie+1]=8,ie++,F[8]++;for(;ie<=255;)b[2*ie+1]=9,ie++,F[9]++;for(;ie<=279;)b[2*ie+1]=7,ie++,F[7]++;for(;ie<=287;)b[2*ie+1]=8,ie++,F[8]++;for(X(b,287,F),ie=0;ie<30;ie++)C[2*ie+1]=5,C[2*ie]=W(ie,5);S=new D(b,i,257,286,15),I=new D(C,a,0,30,15),x=new D(new Array(0),m,0,19,7),Z=!0}z.l_desc=new R(z.dyn_ltree,S),z.d_desc=new R(z.dyn_dtree,I),z.bl_desc=new R(z.bl_tree,x),z.bi_buf=0,z.bi_valid=0,ee(z)},o._tr_stored_block=re,o._tr_flush_block=function(z,ie,se,Ce){var Se,F,J,he=0;if(0<z.level?(z.strm.data_type===2&&(z.strm.data_type=function(_e){for(var fe=4093624447,we=0;we<=31;we++,fe>>>=1)if(1&fe&&_e.dyn_ltree[2*we]!==0)return 0;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return 1;for(we=32;we<256;we++)if(_e.dyn_ltree[2*we]!==0)return 1;return 0}(z)),$(z,z.l_desc),$(z,z.d_desc),he=function(_e){var fe;for(B(_e,_e.dyn_ltree,_e.l_desc.max_code),B(_e,_e.dyn_dtree,_e.d_desc.max_code),$(_e,_e.bl_desc),fe=18;3<=fe&&_e.bl_tree[2*f[fe]+1]===0;fe--);return _e.opt_len+=3*(fe+1)+5+5+4,fe}(z),Se=z.opt_len+3+7>>>3,(F=z.static_len+3+7>>>3)<=Se&&(Se=F)):Se=F=se+5,se+4<=Se&&ie!==-1)re(z,ie,se,Ce);else if(z.strategy===4||F===Se)j(z,2+(Ce?1:0),3),L(z,b,C);else{j(z,4+(Ce?1:0),3);var de=z,ge=(ie=z.l_desc.max_code+1,se=z.d_desc.max_code+1,he+1);for(j(de,ie-257,5),j(de,se-1,5),j(de,ge-4,4),J=0;J<ge;J++)j(de,de.bl_tree[2*f[J]+1],3);G(de,de.dyn_ltree,ie-1),G(de,de.dyn_dtree,se-1),L(z,z.dyn_ltree,z.dyn_dtree)}ee(z),Ce&&ae(z)},o._tr_tally=function(z,ie,se){return z.pending_buf[z.d_buf+2*z.last_lit]=ie>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&ie,z.pending_buf[z.l_buf+z.last_lit]=255&se,z.last_lit++,ie===0?z.dyn_ltree[2*se]++:(z.matches++,ie--,z.dyn_ltree[2*(w[se]+256+1)]++,z.dyn_dtree[2*q(ie)]++),z.last_lit===z.lit_bufsize-1},o._tr_align=function(z){j(z,2,3),H(z,256,b),(z=z).bi_valid===16?(A(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)}},{"../utils/common":41}],53:[function(g,y,o){y.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(g,y,o){(function(n){(function(s,i){var a,m,f,b,C,_,w,M,S;function I(D){delete C[D]}function x(D){if(_)setTimeout(x,0,D);else{var R=C[D];if(R){_=!0;try{var q=R.callback,A=R.args;switch(A.length){case 0:q();break;case 1:q(A[0]);break;case 2:q(A[0],A[1]);break;case 3:q(A[0],A[1],A[2]);break;default:q.apply(void 0,A)}}finally{I(D),_=!1}}}}function E(D){D.source===s&&typeof D.data=="string"&&D.data.indexOf(f)===0&&x(+D.data.slice(f.length))}s.setImmediate||(b=1,_=!(C={}),w=s.document,M=(M=Object.getPrototypeOf&&Object.getPrototypeOf(s))&&M.setTimeout?M:s,S={}.toString.call(s.process)==="[object process]"?function(D){v.nextTick(function(){x(D)})}:function(){var D,R;if(s.postMessage&&!s.importScripts)return D=!0,R=s.onmessage,s.onmessage=function(){D=!1},s.postMessage("","*"),s.onmessage=R,D}()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",E,!1):s.attachEvent("onmessage",E),function(D){s.postMessage(f+D,"*")}):s.MessageChannel?((m=new MessageChannel).port1.onmessage=function(D){x(D.data)},function(D){m.port2.postMessage(D)}):w&&"onreadystatechange"in w.createElement("script")?(a=w.documentElement,function(D){var R=w.createElement("script");R.onreadystatechange=function(){x(D),R.onreadystatechange=null,a.removeChild(R),R=null},a.appendChild(R)}):function(D){setTimeout(x,0,D)},M.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var R=new Array(arguments.length-1),q=0;q<R.length;q++)R[q]=arguments[q+1];return C[b]={callback:D,args:R},S(b),b++},M.clearImmediate=I)})(typeof self=="undefined"?n===void 0?this:n:self)}).call(this,c!==void 0?c:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)}).call(this,r(46).Buffer,r(118).setImmediate,r(11),r(47))},function(e,t,r){r.d(t,"a",function(){return v}),t=r(4);var d=r.n(t),u=r(1),c=r(0),v=(Object.defineProperty(g.prototype,"queryTimeout",{get:function(){return 3e3},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"requestTimeout",{get:function(){return 3e4},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"connectionTimeout",{get:function(){return 3e5},enumerable:!1,configurable:!0}),g.prototype.init=function(y,o){this.engineConfigMap.set(y,{handle:y,appID:o,userID:"",userName:"",userExtendedData:"",token:"",tokenExpireTime:0})},g.prototype.unInit=function(y){var o=this.getEngineConfig(y);o.cloudTimer&&(o.cloudTimer&&clearInterval(o.cloudTimer),o.cloudTimer=0),this.engineConfigMap.delete(y)},g.prototype.getEngineConfig=function(y){return this.engineConfigMap.get(y)||{}},g.prototype.setDBUser=function(y){this.curDBUser=y},g.prototype.getDBUser=function(){return this.curDBUser},g.prototype.fetchZGLogConfig=function(){var y=(n=this.cloudSetting.app_config).main_domain_url,o=n.data_reporter_url,n=n.log_uploader_url;return["https://".concat(this.appendBackupDomain(n,y),"/zglog/zip"),"wss://".concat(this.appendBackupDomain(o,y),"/zglog/web")]},g.prototype.startSyncRemoteConfig=function(y,o,n){var s=this,i=this.getEngineConfig(o);return i.cloudTimer||(i.cloudTimer=setInterval(function(){s.syncRemoteConfig(y,i)},36e5)),this.syncRemoteConfig(y,i,n)},g.prototype.syncRemoteConfig=function(y,o,n){var s=this;return n={appid:o.appID,id_name:o.userID,product:"ZIM",files:["config"],param:{platform:"1"},timestamp:Date.now(),biztype:0,deviceid:u.b,compress:!1,mode:"online",token:n||o.token},y.sendHttpRequest({url:"/cloud-setting/get",method:"POST"},n).then(function(i){if(!(i&&i.data&&i.data.config&&i.data.config.data))return!1;var a=(i=i.data.config.data).app_config;if(i=i.login_config,!a||!i)return!1;var m=(m=a.room_config)==null?void 0:m.get_user_attribute_qps,f=(f=a.room_config)==null?void 0:f.get_user_attribute_interval;return m&&(c.g.get_user_attribute_qps=m),f&&(c.g.get_user_attribute_interval=f),s.cloudSetting=Object.freeze({app_config:a,login_config:i}),!0})},g.prototype.appendBackupDomain=function(y,o){return y.indexOf(".")==-1?"".concat(y,".").concat(o):y},g.prototype.onNetworkStatusChange=function(){var y,o=this,n={wifi:2,"2g":3,"3g":4,"4g":5,unknown:32};u.h?(u.k.getNetworkType({success:function(s){o.netType=s.networkType||"unknown",o.deviceInfo.net_type=n[o.netType]||n.unknown}}),u.k.onNetworkStatusChange(function(s){o.netType=s.networkType||"unknown",o.deviceInfo.net_type=n[o.netType]||n.unknown})):(y=navigator.connection||navigator.mozConnection||navigator.webkitConnection)&&(this.netType=y.type||y.effectiveType||"unknown",this.deviceInfo.net_type=n[this.netType]||n.unknown,y.addEventListener("change",function(){o.netType=y.type||y.effectiveType||"unknown",o.deviceInfo.net_type=n[o.netType]||n.unknown}))},g);function g(y){this.engineConfigMap=new Map,this.curDBUser={},this.cloudSetting=Object.freeze({app_config:{main_domain_url:"zego.im",data_reporter_url:"webzim-report.zego.im",log_uploader_url:"webzim-detaillog.zego.im",request_control:100,room_config:{get_user_attribute_qps:c.g.get_user_attribute_qps,get_user_attribute_interval:c.g.get_user_attribute_interval}},login_config:{login_retry_interval:4e3,login_retry_count:2,login_retry_max_interval:32e3}}),this.advancedConfig=new Map,this.netType="",this.serverOffsetTime=0,this.hbTimeoutMaxCount=3,this.needReloginCodeList=Object.freeze([50107,103015,103021]),this.mailHBFetchConfig={conv_list_seq:d.a.fromString("0"),group_list_seq:d.a.fromString("0"),c2c_msg_seq:d.a.fromString("0"),c2c_statemsg_seq:d.a.fromString("0"),extra_msg_list_seq:d.a.fromString("0"),fetch_c2c_msg_count:0,fetch_group_msg_count:0,fetch_room_msg_count:0,fetch_conv_list:0,fetch_group_list:0,usermail_hb_interval:1e4,seq_fallback_timeout:1e4,msg_to:1e4,msg_itvl:3e4,list_to:1e4,list_itvl:3e4,conv_to:0,conv_itvl:0,group_to:0,group_itvl:0,gmemb_to:0,gmemb_itvl:0,gattr_to:0,gattr_itvl:0,ulist_to:0,ulist_itvl:0,rattr_to:0,rattr_itvl:0},this.deviceInfo={sdk_ver:y.split(".").reverse().reduce(function(o,n,s){return o+ +n*Math.pow(100,s)},0),term_type:u.h?7:6,device_id:u.b,net_type:32},this.onNetworkStatusChange()}},function(e,t,r){r.d(t,"a",function(){return g});var d=r(84),u=r(1),c=r(0),v=function(){return(v=Object.assign||function(o){for(var n,s=1,i=arguments.length;s<i;s++)for(var a in n=arguments[s])Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a]);return o}).apply(this,arguments)},g=(y.prototype.init=function(o,n){this.isInited||(this.isInited=!0,this.dataReport.init({appID:o,deviceID:this.commonFields.deviceid,serverUrl:n,importantLevel:0,levels:[0,10]}))},y.prototype.start=function(o,n,s){this.commonFields.user_id=o;var i=new Map;i.set("userID",o),i.set("token",n),s&&i.set("serverUrl",s),this.dataReport.startReport(i),n?this.dataReport.resume():this.dataReport.pause()},y.prototype.begin=function(o,n,s){return s=this.createDateEvent(o,s),this.evenDatatMap.set(o+n,s),s},y.prototype.end=function(o,n,s){var i=this.evenDatatMap.get(o+n);i&&(Object.assign(i,s),this.upload(i),this.evenDatatMap.delete(o+n))},y.prototype.report=function(o,n){o=this.createDateEvent(o,n),this.upload(o)},y.prototype.beginNetworkRequest=function(o,n,s,i){o=this.getNameByCMD(o);var a=this.createDateEvent(o);return a.caller_type=i,a._req_=s,this.evenDatatMap.set(o+n,a),a},y.prototype.endNetworkRequest=function(o,n,s,i){o=this.getNameByCMD(o);var a=this.evenDatatMap.get(o+n);return a?((s=s||{}).code?(a.error=s.code,a.error_message=s.message||""):a._rsp_=s,i&&Object.assign(a,i),this.upload(a),this.evenDatatMap.delete(o+n),a):null},y.prototype.reportNetworkRequest=function(o,n,s){o=this.getNameByCMD(o),(o=this.createDateEvent(o))._rsp_=n,o.time_consumed=s,this.upload(o)},y.prototype.setServerUserID=function(o){this.commonFields.usernid=o},y.prototype.getNameByCMD=function(o){return o.replace("_rsp","")},y.prototype.createDateEvent=function(o,n){return v(v({event:o,event_time:Date.now(),time_consumed:0,time_offset:this.settings.serverOffsetTime},this.commonFields),n)},y.prototype.upload=function(o){o.net_type=this.settings.netType,o.time_consumed||(o.time_consumed=Date.now()-o.event_time);try{this.hookEvent(o)}catch{}this.isProd&&this.dataReport.report(JSON.stringify(o),0)},y.prototype.hookEvent=function(o){var n;if(!o.error||o._rsp_){var s=o._req_,i=o._rsp_;switch(delete o._req_,delete o._rsp_,o.event){case c.a.sw_login:o.zpns_push_id=s.zpns_push_id,o.hb_interval=i.hb_interval,o.hb_timeout=i.hb_timeout,o.im_conf_json=i.im_conf_json,o.server_timestamp=+((n=i.server_timestamp)==null?void 0:n.toString())||0;break;case c.a.sw_logout:o.logout_reason=s.logout_reason;break;case c.a.sw_hb:o.heartbeat_interval=i.heartbeat_interval,o.hb_timeout=i.hb_timeout,o.server_timestamp=+((n=i.server_timestamp)==null?void 0:n.toString())||0;break;case c.a.sw_push_kickout:o.error=i.code,o.error_message=i.key,o.need_relogin=i.seq;break;case c.a.im_modify_user_info:o.set_flag=s.set_flag;break;case c.a.im_fetch_user_info:o.result_len=i.result.length,o.err_list_len=i.err_list.length,o.result=i.result.map(function(a){return a.user_id}).join(),o.err_list=i.err_list.map(function(a){return a.user_id}).join();break;case c.a.im_userstate_zpns_report:o.zpns_push_id=s.key;break;case c.a.im_usermail_hb:o.conv_list_seq=+s.conv_sid.toString(),o.rsp_conv_list_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0,o.group_list_seq=+((n=i.group_list_seq)==null?void 0:n.toString())||0,o.c2c_msg_seq=+((n=i.c2c_msg_seq)==null?void 0:n.toString())||0,o.c2c_statemsg_seq=+((n=i.c2c_statemsg_seq)==null?void 0:n.toString())||0,o.extra_msg_list_seq,(n=i.extra_msg_list_seq)!=null&&n.toString(),o.im_conf_json=JSON.stringify(Object(u.m)(this.pickCmds.im_usermail_hb,i));break;case c.a.im_usermail_convlist:o.how=s.how,o.count=s.count,o.full_pull=s.full_pull,o.conv_list_seq=+s.conv_list_seq.toString(),o.rsp_conv_list_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0,o.max_list_seq=+((n=i.max)==null?void 0:n.toString())||0,o.full_list=i.full_list,o.fetch_end=i.fetch_end,o.conv_list_len=i.svrCount,o.degree=i.degree;break;case c.a.im_usermail_del_conv:o.conv_id=s.conv_id,o.conv_type=s.conv_type,o.conv_list_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0,o.conv_msg_seq=+((n=i.conv_msg_seq)==null?void 0:n.toString())||0;break;case c.a.im_usermail_update_read_seq:o.conv_id=s.conv_id,o.conv_type=s.conv_type,o.read_seq=+s.read_seq.toString();break;case c.a.im_c2c_msglist:o.conv_id=s.conv_id,o.conv_type=s.conv_type,o.count=s.count,o.mode=s.mode,o.login_fetch=s.login_fetch,o.how=s.how,o.degree=i.degree,o.fetch_end=i.fetch_end,o.msgs_len=i.svrCount,o.conv_msg_seq=+s.conv_msg_seq.toString(),o.rsp_conv_msg_seq=+i.next_seq,o.max_conv_msg_seq=i.maxSeq;break;case c.a.im_group_msglist:o.group_id=s.group_id,o.count=s.count,o.sort_type=s.sort_type,o.how=s.how,o.degree=i.degree,o.fetch_end=i.fetch_end,o.msgs_len=i.svrCount,o.conv_msg_seq=+s.conv_msg_seq.toString(),o.rsp_conv_msg_seq=+i.next_seq,o.max_conv_msg_seq=i.maxSeq;break;case c.a.im_room_msglist:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString(),o.count=s.count,o.sort_type=s.sort_type,o.how=s.how,o.degree=i.degree,o.fetch_end=i.fetch_end,o.msgs_len=i.svrCount,o.conv_msg_seq=+s.conv_msg_seq.toString()||0,o.rsp_conv_msg_seq=+i.next_seq,o.max_conv_msg_seq=i.maxSeq;break;case c.a.im_c2c_msg:o.peer_user_id=s.peer_user_id,o.fetch_peer_user_info=s.fetch_peer_user_info,o.msg_type=s.msg_info.msg_type,o.msg_len=s.msg_info.msg.length,o.priority=s.msg_info.priority_type,o.offline_push=!!s.msg_info.offline_push,o.conv_disable=i.conv_disable,o.send_count_after_read=+((n=i.send_count_after_read)==null?void 0:n.toString())||0,o.msg_id=((n=i.msg_svr_info.msg_id)==null?void 0:n.toString())||"",o.conv_msg_seq=+((n=i.msg_svr_info.conv_msg_seq)==null?void 0:n.toString())||0,o.c2c_msg_seq=+((n=i.msg_svr_info.c2c_msg_seq)==null?void 0:n.toString())||0,o.has_content=i.msg_svr_info.has_content,o.msg_version=i.msg_svr_info.version;break;case c.a.im_c2c_command:o.peer_user_id=s.peer_user_id,o.msg_type=s.command_msg_info.msg_type,o.msg_len=s.command_msg_info.msg.length,o.priority=s.command_msg_info.priority_type,o.msg_id=((n=i.command_svr_info.msg_id)==null?void 0:n.toString())||"",o.msg_time=+((n=i.command_svr_info.conv_msg_seq)==null?void 0:n.toString())||0;break;case c.a.im_c2c_del_msg:o.conv_id=s.conv_id,o.conv_type=s.conv_type,o.msg_ids_len=s.msg_ids.length,0<o.msg_ids_len&&o.msg_ids_len<6&&(o.msg_ids=s.msg_ids.join());break;case c.a.im_c2c_del_all_msg:o.conv_id=s.conv_id,o.conv_type=s.conv_type;break;case c.a.im_group_msg:o.group_id=s.peer_user_id,o.msg_type=s.msg_info.msg_type,o.msg_len=s.msg_info.msg.length,o.priority=s.msg_info.priority_type,o.offline_push=!!s.msg_info.offline_push,o.send_count_after_read=+((n=i.send_count_after_read)==null?void 0:n.toString())||0,o.msg_id=((n=i.msg_svr_info.msg_id)==null?void 0:n.toString())||"",o.conv_msg_seq=+((n=i.msg_svr_info.conv_msg_seq)==null?void 0:n.toString())||0,o.has_content=i.msg_svr_info.has_content,o.msg_version=i.msg_svr_info.version;break;case c.a.im_group_command:o.group_id=s.peer_user_id,o.msg_type=s.command_msg_info.msg_type,o.msg_len=s.command_msg_info.msg.length,o.priority=s.command_msg_info.priority_type,o.msg_id=((n=i.command_svr_info.msg_id)==null?void 0:n.toString())||"",o.msg_time=+((n=i.command_svr_info.conv_msg_seq)==null?void 0:n.toString())||0;break;case c.a.im_group_del_msg:o.group_id=s.conv_id,o.conv_msg_seq_len=s.conv_msg_seq.length,0<o.conv_msg_seq_len&&o.conv_msg_seq_len<6&&(o.conv_msg_seqs=s.conv_msg_seq.map(function(a){return a.toString()}).join());break;case c.a.im_group_del_all_msg:o.group_id=s.conv_id;break;case c.a.im_room_msg:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString(),o.msg_type=s.msg_info.msg_type,o.msg_len=s.msg_info.msg.length,o.priority=s.msg_info.priority_type,o.msg_id=((n=i.msg_svr_info.msg_id)==null?void 0:n.toString())||"",o.conv_msg_seq=+((n=i.msg_svr_info.conv_msg_seq)==null?void 0:n.toString())||0,o.has_content=i.msg_svr_info.has_content,o.msg_version=i.msg_svr_info.version;break;case c.a.im_room_command:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString(),o.msg_type=s.msg_info.msg_type,o.msg_len=s.msg_info.msg.length,o.priority=s.msg_info.priority_type,o.msg_id=((n=i.msg_id)==null?void 0:n.toString())||"";break;case c.a.im_file_upload:o.md5=s.md5,o.file_type=s.file_type,o.name=s.name,o.size=s.size,o.duration=s.duration,o.state=i.state,o.upload_url=i.upload_req.url;break;case c.a.im_file_process:o.md5=s.md5,o.file_type=s.file_type,o.state=i.state,o.download_url=i.download_url;break;case c.a.im_file_delete:o.md5=s.md5;break;case c.a.im_c2c_conv_read_receipt:o.conv_id=s.group_id,o.conv_msg_seq=+s.conv_msg_seq.toString(),o.receipt_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0;break;case c.a.im_c2c_msg_read_receipt:o.conv_id=s.conv_id,o.conv_msg_seq_len=s.conv_msg_seq.length,o.receipt_seqs=JSON.stringify(i.conv_msg_seq2_receipt_seq);break;case c.a.im_group_msg_read_receipt:o.group_id=s.conv_id,o.conv_msg_seq_len=s.conv_msg_seq.length,o.receipt_seqs=JSON.stringify(i.conv_msg_seq2_receipt_seq);break;case c.a.im_c2c_msg_revoke:case c.a.im_group_msg_revoke:s.conv_id&&(o.conv_id=s.conv_id),o.conv_msg_seq=s.conv_msg_seq,o.offline_push=!!s.offline_push,o.extended_data_len=((n=s.payload)==null?void 0:n.length)||0,o.statemsg_seq=+((n=i.statemsg_seq)==null?void 0:n.toString())||0;break;case c.a.im_extra_msglist:o.how=s.how,o.count=s.count,o.fetch_end=i.fetch_end,o.list_seq=+s.list_seq.toString(),o.next_list_seq=+((n=i.next_list_seq)==null?void 0:n.toString())||0,o.list_len=i.svrCount,o.degree=i.degree;break;case c.a.im_c2c_msg_state_list:case c.a.im_group_msg_state_list:s.conv_id&&(o.conv_id=s.conv_id,o.min_msg_seq=s.min_msg_seq,o.max_msg_seq=s.max_msg_seq),o.how=s.how,o.statemsg_seq=+s.statemsg_seq.toString(),o.count=s.count,o.fetch_end=i.fetch_end,o.next_statemsg_seq=+((n=i.next_statemsg_seq)==null?void 0:n.toString())||0,o.statemsg_list_len=i.svrCount,o.degree=i.degree;break;case c.a.im_msg_read_receipt_detail:o.group_id=s.group_id,o.conv_msg_seq=+s.conv_msg_seq.toString(),o.list_seq=i.list_seq,o.count=s.count,o.fetch_end=i.fetch_end,o.next_list_seq=+((n=i.next_list_seq)==null?void 0:n.toString())||0,o.read_count=i.read_count,o.unread_count=i.unread_count,o.read_members_len=i.read_members_len,o.unread_members_len=i.unread_members_len,o.degree=i.degree;break;case c.a.im_room_create:o.room_id=s.room_id,o.sub_room_id=i.sub_room_id,o.room_session_id=i.room_session_id.toString(),o.room_user_session_id=i.room_user_session_id.toString(),o.destroy_delay=s.destroy_delay||i.destroy_delay,o.room_info_interval=i.room_info_interval,o.userlist_enable=i.userlist_enable,o.userlist_merge_timeout=i.userlist_merge_timeout,o.userlist_interval=i.userlist_interval,i.attributes&&(o.attribute_seq=i.attributes.attribute_seq,o.attributes_len=i.attributes.attributes.length),o.attributes_pull_interval=i.attributes_pull_interval,o.attributes_merge_timeout=i.attributes_merge_timeout,o.enabled_offline_msg=i.enabled_offline_msg,o.msg_merge_timeout=i.msg_merge_timeout,o.msg_pull_interval=i.msg_pull_interval;break;case c.a.im_room_enter:o.room_id=s.room_id,o.sub_room_id=i.sub_room_id,o.room_session_id=i.room_session_id.toString(),o.room_user_session_id=i.room_user_session_id.toString(),o.destroy_delay=s.destroy_delay||i.destroy_delay,o.create_if_not_exist=s.create_if_not_exist,o.userlist_seq=i.userlist_seq,o.user_count=i.user_count,o.room_info_interval=i.room_info_interval,o.userlist_enable=i.userlist_enable,o.userlist_merge_timeout=i.userlist_merge_timeout,o.userlist_interval=i.userlist_interval,i.attributes&&(o.attribute_seq=i.attributes.attribute_seq,o.attributes_len=i.attributes.attributes.length),o.attributes_pull_interval=i.attributes_pull_interval,o.attributes_merge_timeout=i.attributes_merge_timeout,o.enabled_offline_msg=i.enabled_offline_msg,o.msg_merge_timeout=i.msg_merge_timeout,o.msg_pull_interval=i.msg_pull_interval,o.attribute_seq=i.attribute_seq,o.conv_msg_seq=+((n=i.conv_msg_seq)==null?void 0:n.toString())||0;break;case c.a.im_room_quit:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString();break;case c.a.im_room_info:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString(),o.userlist_seq=i.userlist_seq,o.user_count=i.user_count,o.room_info_interval=i.room_info_interval,o.ulist_to=i.ulist_to,o.ulist_itvl=i.ulist_itvl,o.attribute_seq=i.attribute_seq,o.max_conv_msg_seq=+((n=i.max_conv_msg_seq)==null?void 0:n.toString())||0;break;case c.a.im_room_userlist:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString(),o.count=s.count,o.mode=s.mode,o.expect_seq=s.expect_seq,o.pos_flag=s.pos_flag,o.rsp_pos_flag=i.pos_flag,o.userlist_seq=i.userlist_seq,o.user_count=i.user_count,o.users_len=i.svrCount,o.degree=i.degree;break;case c.a.im_room_attributes:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString(),o.attribute_seq=s.attributes.attribute_seq,i.attributes&&(o.rsp_attribute_seq=i.attributes.attribute_seq,o.attributes_len=i.attributes.attributes.length);break;case c.a.im_room_attributes_modify:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString(),o.force_modify=s.force_modify,o.set_member=s.set_member,o.op_fail_fast=s.op_fail_fast,o.attribute_seq=s.attribute_seq,o.attribute_action=(n=s.attributes[0])==null?void 0:n.action,o.attributes_len=s.attributes.length,i.attributes&&(o.rsp_attribute_seq=i.attributes.attribute_seq,o.rsp_attributes_len=i.attributes.attributes.length),o.err_list_len=i.err_list.length,o.err_list=i.err_list.map(function(a){return a.key}).join();break;case c.a.im_room_user_attributes_modify:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString(),o.force_modify=s.force_modify,o.auto_save=s.auto_save,o.op_fail_fast=s.op_fail_fast,o.user_ids_len=s.attributes.user_ids.length,o.attributes_len=s.attributes.modify_attribute.length,o.user_attributes_len=i.user_attributes.length,o.user_err_list_len=i.user_err_list.length,o.user_err_list=i.user_err_list.map(function(a){return a.user_id}).join();break;case c.a.im_room_user_attributes_get:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString(),o.req_attributes_len=s.req_attributes.length,o.user_attributes_len=i.user_attributes.length;break;case c.a.im_room_user_attributes_list_get:o.room_id=s.room_id,o.sub_room_id=s.sub_room_id,o.room_session_id=(n=s.room_session_id)==null?void 0:n.toString(),o.room_user_session_id=(n=s.room_user_session_id)==null?void 0:n.toString(),o.pos_flag=s.pos_flag,o.count=s.count,o.rsp_pos_flag=i.pos_flag,o.user_count=i.user_count,o.user_attributes_list_seq=i.user_attributes_list_seq,o.user_attributes_len=s.user_attributes.length;break;case c.a.im_group_create:o.group_id=s.group_id,o.group_name=s.group_name,o.group_notice=s.group_notice,o.user_ids_len=s.user_ids.length,o.attributes_len=((n=s.attributes)==null?void 0:n.length)||0,o.group_avatar_len=((n=s.group_avatar)==null?void 0:n.length)||0,o.members_len=i.members.length,o.member_count=i.member_count,o.group_list_seq=+((n=i.group_list_seq)==null?void 0:n.toString())||0,o.group_data_seq=+((n=i.group_data_seq)==null?void 0:n.toString())||0,o.group_attribute_seq=+((n=i.group_attribute_seq)==null?void 0:n.toString())||0,o.member_all_seq=+((n=i.member_all_seq)==null?void 0:n.toString())||0,o.error_users_len=i.error_users.length,o.error_users=i.error_users.map(function(a){return a.user_id}).join();break;case c.a.im_group_enter:o.group_id=s.group_id,o.group_name=i.group_name,o.group_avatar_len=((n=i.group_avatar)==null?void 0:n.length)||0,i.properties&&(o.attributes_len=i.properties.attributes.length),o.member_count=i.member_count,o.group_list_seq=+((n=i.group_list_seq)==null?void 0:n.toString())||0,o.group_data_seq=+((n=i.group_data_seq)==null?void 0:n.toString())||0,o.group_attribute_seq=+((n=i.group_attribute_seq)==null?void 0:n.toString())||0,o.member_all_seq=+((n=i.member_all_seq)==null?void 0:n.toString())||0,o.conv_msg_seq=+((n=i.conv_msg_seq)==null?void 0:n.toString())||0;break;case c.a.im_group_invite:o.group_id=s.group_id,o.user_ids_len=s.user_ids.length,o.member_count=i.member_count,o.members_len=i.members.length,o.group_data_seq=+((n=i.group_data_seq)==null?void 0:n.toString())||0,o.group_attribute_seq=+((n=i.group_attribute_seq)==null?void 0:n.toString())||0,o.member_all_seq=+((n=i.member_all_seq)==null?void 0:n.toString())||0,o.error_users_len=i.error_users.length,o.error_users=i.error_users.map(function(a){return a.user_id}).join();break;case c.a.im_group_quit:o.group_id=s.group_id,o.user_ids_len=s.user_ids.length,o.kickout_reason=s.kickout_reason,o.member_count=i.member_count,o.member_all_seq=+((n=i.member_all_seq)==null?void 0:n.toString())||0,o.error_users_len=i.error_users.length,o.error_users=i.error_users.map(function(a){return a.user_id}).join();break;case c.a.im_group_kickout:o.group_id=s.group_id,o.group_list_seq=+((n=i.group_list_seq)==null?void 0:n.toString())||0;break;case c.a.im_group_destroy:o.group_id=s.group_id,o.group_list_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0;break;case c.a.im_group_list:o.how=s.how,o.full_pull=s.full_pull,o.count=s.count,o.fetch_end=i.fetch_end,o.full_list=i.full_list,o.cur_list_seq=+((n=s.cur_list_seq)==null?void 0:n.toString()),o.rsp_cur_list_seq=+((n=i.cur_list_seq)==null?void 0:n.toString()),o.max_list_seq=+((n=i.max)==null?void 0:n.toString())||0,o.groups_len=i.svrCount,o.degree=i.degree;break;case c.a.im_group_owner_transfer:o.group_id=s.group_id,o.req_user_id=s.group_name,o.old_owner_data_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0,o.new_owner_data_seq=+((n=i.conv_msg_seq)==null?void 0:n.toString())||0;break;case c.a.im_group_data:o.group_id=s.group_id,o.group_name=i.group_name,o.group_notice=i.group_notice,o.group_avatar_len=((n=i.group_avatar)==null?void 0:n.length)||0,o.group_data_seq=+((n=i.group_data_seq)==null?void 0:n.toString())||0;break;case c.a.im_group_attributes:o.group_id=s.group_id,o.attributes_len=s.attributes.attributes.length,o.attribute_seq=+((n=s.attributes.seq)==null?void 0:n.toString())||0,o.rsp_attributes_len=i.attributes.attributes.length,o.rsp_attribute_seq=+((n=i.attributes.seq)==null?void 0:n.toString())||0;break;case c.a.im_group_mute:o.group_id=s.group_id,o.enable=s.enable;break;case c.a.im_group_modify_name:o.group_id=s.group_id,o.group_name=s.group_name,o.group_data_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0;break;case c.a.im_group_modify_avatar:o.group_id=s.user_id,o.group_avatar_len=s.user_name.length,o.group_data_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0;break;case c.a.im_group_modify_notice:o.group_id=s.group_id,o.group_notice=s.group_name,o.group_data_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0;break;case c.a.im_group_modify_attributes:o.group_id=s.group_id,o.attribute_action=s.attributes.action,o.attributes_len=s.attributes.attributes.length,o.attribute_seq=+((n=i.attributes.seq)==null?void 0:n.toString())||0,o.fail_keys_len=i.fail_keys.length,o.fail_keys=i.fail_keys.map(function(a){return a.key}).join();break;case c.a.im_group_member_list:o.how=s.how,o.group_id=s.group_id,o.count=s.count,o.full_pull=s.full_pull,o.degree=i.degree,o.cur_member_seq=+((n=s.cur_member_seq)==null?void 0:n.toString())||0,o.rsp_cur_member_seq=+((n=i.cur_member_seq)==null?void 0:n.toString())||0,o.member_all_seq=+((n=i.member_all_seq)==null?void 0:n.toString())||0,o.full_list=i.full_list,o.fetch_end=i.fetch_end,o.member_count=i.member_count,o.change_list_len=i.svrCount;break;case c.a.im_group_members_by_seq:o.group_id=s.conv_id,o.member_seqs_len=s.conv_msg_seq.length,o.members_len=i.members.length;break;case c.a.im_group_member_data:o.group_id=s.group_id,o.req_user_id=s.user_id;break;case c.a.im_group_member_nickname_set:o.group_id=s.group_id,o.req_user_id=s.group_name,o.member_nickname=s.group_notice,o.member_data_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0;break;case c.a.im_group_member_role_set:o.group_id=s.group_id,o.req_user_id=s.user_id,o.role=s.role,o.member_data_seq=+((n=i.conv_list_seq)==null?void 0:n.toString())||0;break;case c.a.im_call_create:o.call_id=s.call_id,o.timeout=s.timeout||i.timeout,o.user_ids_len=s.user_ids.length,o.extended_data_len=((n=s.payload)==null?void 0:n.length)||0,o.offline_push=s.offline_info?s.offline_info.pushStrategyId:"",o.err_list_len=i.err_list.length,o.err_list=i.err_list.map(function(a){return a.user_id}).join("");break;case c.a.im_call_cancel:o.call_id=s.call_id,o.state=s.timeout,o.user_ids_len=s.user_ids.length,o.extended_data_len=((n=s.payload)==null?void 0:n.length)||0,o.err_list_len=i.user_list.length,o.err_list=i.err_list.map(function(a){return a.user_id}).join("");break;case c.a.im_call_accept:o.call_id=s.user_id,o.extended_data_len=((n=s.user_name)==null?void 0:n.length)||0;break;case c.a.im_call_refuse:o.call_id=s.call_id,o.extended_data_len=((n=s.extended_data)==null?void 0:n.length)||0;break;case c.a.im_call_ack:o.call_id=s.call_id;break;case c.a.im_call_info:o.call_id=s.call_id,o.user_list_len=i.user_list.length}}},y);function y(o){this.settings=o,this.dataReport=new d.a("zim",u.k),this.evenDatatMap=new Map,this.isProd=!0,this.isInited=!1,this.commonFields={error:0,error_message:"",deviceid:"",sdk_version:"2.5.0.0",user_id:"",usernid:"",os_type:u.d,net_type:"",term_type:"",cross_platform:""},this.pickCmds={im_usermail_hb:["seq_fallback_timeout","msg_to","msg_itvl","list_to","list_itvl","conv_to","conv_itvl","group_to","group_itvl"]};var n=(o=this.settings.deviceInfo).device_id;o=o.term_type,this.commonFields.deviceid=n,this.commonFields.term_type=o==7?"miniprogram":"web",this.commonFields.cross_platform=this.settings.advancedConfig.get("zim_cross_platform")||""}},function(e,t,r){var d=r(48);r.d(t,"a",function(){return d.a})},function(e,t,r){r.d(t,"a",function(){return y});var d=r(5),u=r(86),c=r(89),v=function(n,s){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a,m,f=i.call(n),b=[];try{for(;(s===void 0||0<s--)&&!(a=f.next()).done;)b.push(a.value)}catch(C){m={error:C}}finally{try{a&&!a.done&&(i=f.return)&&i.call(f)}finally{if(m)throw m.error}}return b},g=function(n,s,i){if(i||arguments.length===2)for(var a,m=0,f=s.length;m<f;m++)!a&&m in s||((a=a||Array.prototype.slice.call(s,0,m))[m]=s[m]);return n.concat(a||Array.prototype.slice.call(s))},y=(o.getInstance=function(n,s){return o.instance=o.instance?o.instance:new o(n,s)},o.prototype.setLogServer=function(n){try{return this.openWebSocketLogServer(n),!0}catch{return!1}},o.prototype.setLogUrlParams=function(n){this.logParams=n},o.prototype.openWebSocketLogServer=function(n){var s=this;this.url!=n&&(this.url=n)&&(this.stopWebSocketServer(),this.logParams.id_name&&(n+="?product=".concat(this.logParams.product,"&appid=").concat(this.logParams.appid,"&token=").concat(encodeURIComponent(this.logParams.signature),"&deviceid=").concat(this.logParams.deviceid,"&id_name=").concat(this.logParams.id_name),this.service.createSocket(n),this.service.openHandler(function(){s.service.onPush(),s.service.startCheck(),s.openHandler()}),this.service.closeHandler(function(){s.service.closeSocket()}),this.service.errorHandler(function(){s.service.closeSocket()})))},o.prototype.stopWebSocketServer=function(){this.service.closeSocket()},o.prototype.openHandler=function(){this.startReport()},o.prototype.setPostSucCallback=function(n,s){this.postSucCallbackList[n]=s},o.prototype.setPostFailCallback=function(n,s){this.postFailCallbackList[n]=s},o.prototype.reportAllowed=function(){return this.packageLen<this.PACKAGE_MAX_LEN},o.prototype.report=function(n,s,i){this.packageLen++,this.packagesDataSize+=s,this.reportQueue.enqueue({reportDatas:n,dataLen:s,product:i}),this.netWorkFail=!1,this.failCount=0,this.failStartTime=0,this.startReport()},o.prototype.setBps=function(n){this.tokenBucket=new c.a(d.a.bucketSize,n/8,"sec")},o.prototype.startReport=function(){var n,s,i,a,m=this;0<this.reportQueue.size()&&(n=this.reportQueue.dequeue(),s=n.reportDatas,i=n.dataLen,a=n.product,this.tokenBucket.removeTokens(i,function(){m.netWorkFail?m.postFailCallbackList[a](s):m.reportData(s,i,a,function(){m.failCount=0,m.failStartTime=0,m.packageLen--,m.packagesDataSize-=i,m.postSucCallbackList[a]&&m.postSucCallbackList[a](s,i,a)},function(f){m.reportQueue.enqueue({reportDatas:s,dataLen:i,product:a}),m.failCount++,m.failCount==0&&(m.failStartTime=Date.now());var b,C=(Date.now()-m.failStartTime)/1e3;if(10<=m.failCount&&60<C)return m.netWorkFail=!0,b=m.decodeReportQueue(),void Object.keys(m.postFailCallbackList).forEach(function(_){m.postFailCallbackList[a](b[_])});f!==d.g&&m.startReport()})}))},o.prototype.reportData=function(n,s,i,a,m){var f=this,b=[];n.forEach(function(C){b.push(C.packagedContent)}),this.service.sendMessage("report",b,a,function(C){var _;C===d.g&&(_=f.url,f.url="",f.setLogServer(_)),m&&m(C)})},o.prototype.unsigned2signed=function(n){var s=parseInt(n,10);if(256<s)return s%256;for(var i=[];0<s;)s%2!=0?i.push(1):i.push(0),s=Number(s/2);for(i.reverse();i.length<8;)i.unshift(0);var a="";if((i=i.join("")).substr(0,1)==1){for(var m=1;m<i.length;m++)i.substr(m,1)==1?a+=0:a+=1;return"-"+(parseInt(a,2)+1)}for(m=0;m<i.length;m++)a+=i.substr(m,1);return parseInt(a,2)},o.prototype.decodeReportQueue=function(){for(var n={};this.reportQueue.size();){var s,i=(s=this.reportQueue.dequeue()).reportDatas;n[s=s.product]||(n[s]=[]),n[s]=g(g([],v(n[s]),!1),v(i),!1)}return n},o);function o(n,s){this.logType=d.d.WEBSOCKET,this.packageLen=0,this.packagesDataSize=0,this.PACKAGE_MAX_LEN=5,this.msgID=0,this.logUploadTimer=null,this.logUploadInterval=1e4,this.logCacheSend=[],this.logCacheMax=100,this.postSucCallbackList={},this.postFailCallbackList={},this.failCount=0,this.failStartTime=0,this.netWorkFail=!1,this.service=new u.a(n),this.setBps(s),this.reportQueue=new d.f}},function(e,t,r){r.d(t,"a",function(){return c});var d=r(87),u=r(5),c=(v.prototype.handleSendCommandMsgRsp=function(g){var y,o=this,n=this.service.sendCommandMap[g.messageId];n!=null&&(y=n._data,delete this.service.sendCommandMap[g.messageId],this.service.sendCommandList.remove(n),g.code===0?setTimeout(function(){y&&y.success!=null&&y.success(g,o.cmdSeq)},0):setTimeout(function(){y&&y.error!=null&&y.error(g,o.cmdSeq)},0))},v.prototype.onPush=function(){var g=this;this.service.onMessage=function(y){g.handleSendCommandMsgRsp(y)}},v.prototype.closeHandler=function(g){this.service.closeHandler(g)},v.prototype.openHandler=function(g){this.service.openHandler(g)},v.prototype.errorHandler=function(g){this.service.errorHandler(g)},v.prototype.getHeader=function(g){return{Protocol:"req",cmd:g,appid:123,seq:++this.cmdSeq,session_id:""}},v.prototype.startCheck=function(){this.service.startCheck()},v.prototype.stopCheck=function(){this.service.stopCheck()},v.prototype.isDisConnect=function(){return!this.service||this.service.isDisConnect()},v.prototype.createSocket=function(g){this.service.createSocket(g),this.responseRouters={}},v.prototype.closeSocket=function(){this.service.closeSocket()},v.prototype.sendMessage=function(g,y,o,n,s,i){return this.service.isDisConnect()?(n&&n(u.g),0):(s=s||this.getHeader(g),this.service.sendMessage(s,y,o,n,{timeOut:1e3*u.c.netTimeout}))},v.prototype.on=function(g,y){this.responseRouters[g]=y},v);function v(g){this.cmdSeq=0,this.responseRouters={},this.service=new d.a(g)}},function(e,t,r){r.d(t,"a",function(){return c});var d=r(88),u=r(5),c=(v.prototype.createSocket=function(g){var y=this.miniProgram?"zego.impl.wx":"zego.impl.web";y=r(49)("./"+y).createZegoWebSocket,this.socket=y(g,this.miniProgram),this.socket.binaryType="arraybuffer"},v.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},v.prototype.isDisConnect=function(){return!this.socket||this.socket.readyState!==1},v.prototype.sendMessage=function(g,y,o,n,s){return o===void 0&&(o=null),n===void 0&&(n=null),s===void 0&&(s={timeOut:6e3}),s={data:y={message_id:g.seq,s:JSON.stringify({speed_detail:y})},seq:g.seq,deleted:!1,sendTime:Date.parse(new Date+""),timeOut:s.timeOut,success:o,error:n},o=this.sendCommandList.push(s),this.sendCommandMap[s.seq]=o,this.socket&&(n=Object(d.a)(JSON.stringify(y)),this.socket.send(this.miniProgram?n.buffer:n)),g.seq},v.prototype.checkSendMessageList=function(g){for(var y=g.getFirst();y!=null;)g.remove(y),y._data&&y._data.error&&setTimeout(function(){y&&y._data&&y._data.error&&y._data.error(u.j.TIMEOUT,y._data.data.message_id,y._data.data.s)},0),y=g.getFirst()},v.prototype.checkMessageListTimeout=function(g,y){for(var o=g.getFirst(),n=Date.parse(new Date+""),s=0;!(o==null||o._data&&o._data.sendTime+o._data.timeOut>n||(o._data&&delete y[o._data.data.message_id],g.remove(o),o._data&&o._data.error==null||o._data&&o._data.sendTime+this.sendDataDropTimeout<n||o&&o._data&&o._data.error&&o._data.error(u.j.TIMEOUT,o._data.data.message_id,o._data.data.s),++s>=this.sendDataCheckOnceCount));)o=g.getFirst()},v.prototype.startCheck=function(){var g=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout(function(){g.startCheck()},this.sendDataCheckInterval)},v.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},v.prototype.openHandler=function(g){var y=this;this.socket&&(this.socket.onopen=function(o){y.responseHandler(),g(o)})},v.prototype.responseHandler=function(){var g=this;this.socket&&(this.socket.onmessage=function(y){y=typeof y.data=="string"?JSON.parse(y.data):JSON.parse(String.fromCharCode.apply(null,new Uint8Array(y.data))),g.onMessage(y)})},v.prototype.closeHandler=function(g){this.socket&&(this.socket.onclose=function(y){g(y)})},v.prototype.errorHandler=function(g){this.socket&&(this.socket.onerror=g)},v.prototype.onMessage=function(g){},v);function v(g){this.miniProgram=g,this.socket=null,this.sendCommandList=new u.e,this.sendCommandMap={},this.sendDataCheckOnceCount=100,this.sendDataDropTimeout=1e4,this.sendDataCheckInterval=2e3}},function(e,t,r){r.d(t,"a",function(){return Tt});function d(P){let ne=P.length;for(;0<=--ne;)P[ne]=0}const u=256,c=286,v=30,g=15,y=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),s=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i=new Array(576),a=(d(i),new Array(60)),m=(d(a),new Array(512)),f=(d(m),new Array(256)),b=(d(f),new Array(29)),C=(d(b),new Array(v));function _(P,ne,le,ve,V){this.static_tree=P,this.extra_bits=ne,this.extra_base=le,this.elems=ve,this.max_length=V,this.has_stree=P&&P.length}let w,M,S;function I(P,ne){this.dyn_tree=P,this.max_code=0,this.stat_desc=ne}d(C);const x=P=>P<256?m[P]:m[256+(P>>>7)],E=(P,ne)=>{P.pending_buf[P.pending++]=255&ne,P.pending_buf[P.pending++]=ne>>>8&255},D=(P,ne,le)=>{P.bi_valid>16-le?(P.bi_buf|=ne<<P.bi_valid&65535,E(P,P.bi_buf),P.bi_buf=ne>>16-P.bi_valid,P.bi_valid+=le-16):(P.bi_buf|=ne<<P.bi_valid&65535,P.bi_valid+=le)},R=(P,ne,le)=>{D(P,le[2*ne],le[2*ne+1])},q=(P,ne)=>{let le=0;for(;le|=1&P,P>>>=1,le<<=1,0<--ne;);return le>>>1},A=(P,ne,le)=>{const ve=new Array(16);let V,xe,ye=0;for(V=1;V<=g;V++)ve[V]=ye=ye+le[V-1]<<1;for(xe=0;xe<=ne;xe++){var Ae=P[2*xe+1];Ae!==0&&(P[2*xe]=q(ve[Ae]++,Ae))}},j=P=>{let ne;for(ne=0;ne<c;ne++)P.dyn_ltree[2*ne]=0;for(ne=0;ne<v;ne++)P.dyn_dtree[2*ne]=0;for(ne=0;ne<19;ne++)P.bl_tree[2*ne]=0;P.dyn_ltree[512]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0},H=P=>{8<P.bi_valid?E(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0},W=(P,ne,le,ve)=>{var V=2*ne,xe=2*le;return P[V]<P[xe]||P[V]===P[xe]&&ve[ne]<=ve[le]},X=(P,ne,le)=>{var ve=P.heap[le];let V=le<<1;for(;V<=P.heap_len&&(V<P.heap_len&&W(ne,P.heap[V+1],P.heap[V],P.depth)&&V++,!W(ne,ve,P.heap[V],P.depth));)P.heap[le]=P.heap[V],le=V,V<<=1;P.heap[le]=ve},ee=(P,ne,le)=>{var ve;let V,xe,ye,Ae=0;if(P.last_lit!==0)for(;ve=P.pending_buf[P.d_buf+2*Ae]<<8|P.pending_buf[P.d_buf+2*Ae+1],V=P.pending_buf[P.l_buf+Ae],Ae++,ve==0?R(P,V,ne):(xe=f[V],R(P,xe+u+1,ne),(ye=y[xe])!==0&&(V-=b[xe],D(P,V,ye)),ve--,xe=x(ve),R(P,xe,le),(ye=o[xe])!==0&&(ve-=C[xe],D(P,ve,ye))),Ae<P.last_lit;);R(P,256,ne)},ae=(P,ne)=>{const le=ne.dyn_tree;var ve=ne.stat_desc.static_tree,V=ne.stat_desc.has_stree,xe=ne.stat_desc.elems;let ye,Ae,Le,Be=-1;for(P.heap_len=0,P.heap_max=573,ye=0;ye<xe;ye++)le[2*ye]!==0?(P.heap[++P.heap_len]=Be=ye,P.depth[ye]=0):le[2*ye+1]=0;for(;P.heap_len<2;)Le=P.heap[++P.heap_len]=Be<2?++Be:0,le[2*Le]=1,P.depth[Le]=0,P.opt_len--,V&&(P.static_len-=ve[2*Le+1]);for(ne.max_code=Be,ye=P.heap_len>>1;1<=ye;ye--)X(P,le,ye);for(Le=xe;ye=P.heap[1],P.heap[1]=P.heap[P.heap_len--],X(P,le,1),Ae=P.heap[1],P.heap[--P.heap_max]=ye,P.heap[--P.heap_max]=Ae,le[2*Le]=le[2*ye]+le[2*Ae],P.depth[Le]=(P.depth[ye]>=P.depth[Ae]?P.depth[ye]:P.depth[Ae])+1,le[2*ye+1]=le[2*Ae+1]=Le,P.heap[1]=Le++,X(P,le,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],((Ne,Fe)=>{const ze=Fe.dyn_tree;var et,nt=Fe.max_code,Bt=Fe.stat_desc.static_tree,Pt=Fe.stat_desc.has_stree,Nt=Fe.stat_desc.extra_bits,Ct=Fe.stat_desc.extra_base,ot=Fe.stat_desc.max_length;let it,Ke,st,Ge,at,_t=0;for(Ge=0;Ge<=g;Ge++)Ne.bl_count[Ge]=0;for(ze[2*Ne.heap[Ne.heap_max]+1]=0,it=Ne.heap_max+1;it<573;it++)Ke=Ne.heap[it],(Ge=ze[2*ze[2*Ke+1]+1]+1)>ot&&(Ge=ot,_t++),ze[2*Ke+1]=Ge,Ke>nt||(Ne.bl_count[Ge]++,at=0,Ke>=Ct&&(at=Nt[Ke-Ct]),et=ze[2*Ke],Ne.opt_len+=et*(Ge+at),Pt&&(Ne.static_len+=et*(Bt[2*Ke+1]+at)));if(_t!==0){do for(Ge=ot-1;Ne.bl_count[Ge]===0;)Ge--;while(Ne.bl_count[Ge]--,Ne.bl_count[Ge+1]+=2,Ne.bl_count[ot]--,0<(_t-=2));for(Ge=ot;Ge!==0;Ge--)for(Ke=Ne.bl_count[Ge];Ke!==0;)nt<(st=Ne.heap[--it])||(ze[2*st+1]!==Ge&&(Ne.opt_len+=(Ge-ze[2*st+1])*ze[2*st],ze[2*st+1]=Ge),Ke--)}})(P,ne),A(le,Be,P.bl_count)},N=(P,ne,le)=>{let ve,V=-1;var xe;let ye=ne[1],Ae=0,Le=7,Be=4;for(ye===0&&(Le=138,Be=3),ne[2*(le+1)+1]=65535,ve=0;ve<=le;ve++)xe=ye,ye=ne[2*(ve+1)+1],++Ae<Le&&xe===ye||(Ae<Be?P.bl_tree[2*xe]+=Ae:xe!==0?(xe!==V&&P.bl_tree[2*xe]++,P.bl_tree[32]++):Ae<=10?P.bl_tree[34]++:P.bl_tree[36]++,Ae=0,V=xe,Be=ye===0?(Le=138,3):xe===ye?(Le=6,3):(Le=7,4))},k=(P,ne,le)=>{let ve,V=-1;var xe;let ye=ne[1],Ae=0,Le=7,Be=4;for(ye===0&&(Le=138,Be=3),ve=0;ve<=le;ve++)if(xe=ye,ye=ne[2*(ve+1)+1],!(++Ae<Le&&xe===ye)){if(Ae<Be)for(;R(P,xe,P.bl_tree),--Ae!=0;);else xe!==0?(xe!==V&&(R(P,xe,P.bl_tree),Ae--),R(P,16,P.bl_tree),D(P,Ae-3,2)):Ae<=10?(R(P,17,P.bl_tree),D(P,Ae-3,3)):(R(P,18,P.bl_tree),D(P,Ae-11,7));Ae=0,V=xe,Be=ye===0?(Le=138,3):xe===ye?(Le=6,3):(Le=7,4)}};let L=!1;const $=(P,ne,le,ve)=>{D(P,0+(ve?1:0),3),ve=P,P=ne,ne=le,le=!0,H(ve),le&&(E(ve,ne),E(ve,~ne)),ve.pending_buf.set(ve.window.subarray(P,P+ne),ve.pending),ve.pending+=ne};r={_tr_init:P=>{if(!L){{let ne,le,ve,V,xe;const ye=new Array(16);for(ve=0,V=0;V<28;V++)for(b[V]=ve,ne=0;ne<1<<y[V];ne++)f[ve++]=V;for(f[ve-1]=V,xe=0,V=0;V<16;V++)for(C[V]=xe,ne=0;ne<1<<o[V];ne++)m[xe++]=V;for(xe>>=7;V<v;V++)for(C[V]=xe<<7,ne=0;ne<1<<o[V]-7;ne++)m[256+xe++]=V;for(le=0;le<=g;le++)ye[le]=0;for(ne=0;ne<=143;)i[2*ne+1]=8,ne++,ye[8]++;for(;ne<=255;)i[2*ne+1]=9,ne++,ye[9]++;for(;ne<=279;)i[2*ne+1]=7,ne++,ye[7]++;for(;ne<=287;)i[2*ne+1]=8,ne++,ye[8]++;for(A(i,287,ye),ne=0;ne<v;ne++)a[2*ne+1]=5,a[2*ne]=q(ne,5);w=new _(i,y,257,c,g),M=new _(a,o,0,v,g),S=new _(new Array(0),n,0,19,7)}L=!0}P.l_desc=new I(P.dyn_ltree,w),P.d_desc=new I(P.dyn_dtree,M),P.bl_desc=new I(P.bl_tree,S),P.bi_buf=0,P.bi_valid=0,j(P)},_tr_stored_block:$,_tr_flush_block:(P,ne,le,ve)=>{let V,xe,ye=0;if(0<P.level?(P.strm.data_type===2&&(P.strm.data_type=(Be=>{let Ne,Fe=4093624447;for(Ne=0;Ne<=31;Ne++,Fe>>>=1)if(1&Fe&&Be.dyn_ltree[2*Ne]!==0)return 0;if(Be.dyn_ltree[18]!==0||Be.dyn_ltree[20]!==0||Be.dyn_ltree[26]!==0)return 1;for(Ne=32;Ne<u;Ne++)if(Be.dyn_ltree[2*Ne]!==0)return 1;return 0})(P)),ae(P,P.l_desc),ae(P,P.d_desc),ye=(Be=>{let Ne;for(N(Be,Be.dyn_ltree,Be.l_desc.max_code),N(Be,Be.dyn_dtree,Be.d_desc.max_code),ae(Be,Be.bl_desc),Ne=18;3<=Ne&&Be.bl_tree[2*s[Ne]+1]===0;Ne--);return Be.opt_len+=3*(Ne+1)+5+5+4,Ne})(P),V=P.opt_len+3+7>>>3,(xe=P.static_len+3+7>>>3)<=V&&(V=xe)):V=xe=le+5,le+4<=V&&ne!==-1)$(P,ne,le,ve);else if(P.strategy===4||xe===V)D(P,2+(ve?1:0),3),ee(P,i,a);else{D(P,4+(ve?1:0),3);{var Ae=P;ne=P.l_desc.max_code+1,le=P.d_desc.max_code+1;var Le=ye+1;let Be;for(D(Ae,ne-257,5),D(Ae,le-1,5),D(Ae,Le-4,4),Be=0;Be<Le;Be++)D(Ae,Ae.bl_tree[2*s[Be]+1],3);k(Ae,Ae.dyn_ltree,ne-1),k(Ae,Ae.dyn_dtree,le-1)}ee(P,P.dyn_ltree,P.dyn_dtree)}j(P),ve&&H(P)},_tr_tally:(P,ne,le)=>(P.pending_buf[P.d_buf+2*P.last_lit]=ne>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&ne,P.pending_buf[P.l_buf+P.last_lit]=255&le,P.last_lit++,ne===0?P.dyn_ltree[2*le]++:(P.matches++,ne--,P.dyn_ltree[2*(f[le]+u+1)]++,P.dyn_dtree[2*x(ne)]++),P.last_lit===P.lit_bufsize-1),_tr_align:P=>{D(P,2,3),R(P,256,i),(P=P).bi_valid===16?(E(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0):8<=P.bi_valid&&(P.pending_buf[P.pending++]=255&P.bi_buf,P.bi_buf>>=8,P.bi_valid-=8)}};var B=(P,ne,le,ve)=>{let V=65535&P|0,xe=P>>>16&65535|0,ye=0;for(;le!==0;){for(le-=ye=2e3<le?2e3:le;V=V+ne[ve++]|0,xe=xe+V|0,--ye;);V%=65521,xe%=65521}return V|xe<<16|0};const G=new Uint32Array((()=>{let P,ne=[];for(var le=0;le<256;le++){P=le;for(var ve=0;ve<8;ve++)P=1&P?3988292384^P>>>1:P>>>1;ne[le]=P}return ne})());var Z=(P,ne,le,ve)=>{var V=G,xe=ve+le;P^=-1;for(let ye=ve;ye<xe;ye++)P=P>>>8^V[255&(P^ne[ye])];return-1^P},re={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};t={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:z,_tr_stored_block:ie,_tr_flush_block:se,_tr_tally:Ce,_tr_align:Se}=r,{Z_NO_FLUSH:F,Z_PARTIAL_FLUSH:J,Z_FULL_FLUSH:he,Z_FINISH:de,Z_BLOCK:ge,Z_OK:_e,Z_STREAM_END:fe,Z_STREAM_ERROR:we,Z_DATA_ERROR:ke,Z_BUF_ERROR:Ie,Z_DEFAULT_COMPRESSION:De,Z_FILTERED:Ee,Z_HUFFMAN_ONLY:U,Z_RLE:oe,Z_FIXED:te,Z_DEFAULT_STRATEGY:ue,Z_UNKNOWN:pe,Z_DEFLATED:K}=t,ce=258,me=262,be=113,Me=(P,ne)=>(P.msg=re[ne],ne),Oe=P=>(P<<1)-(4<P?9:0),Re=P=>{let ne=P.length;for(;0<=--ne;)P[ne]=0};let Te=(P,ne,le)=>(ne<<P.hash_shift^le)&P.hash_mask;const qe=P=>{const ne=P.state;let le=ne.pending;(le=le>P.avail_out?P.avail_out:le)!==0&&(P.output.set(ne.pending_buf.subarray(ne.pending_out,ne.pending_out+le),P.next_out),P.next_out+=le,ne.pending_out+=le,P.total_out+=le,P.avail_out-=le,ne.pending-=le,ne.pending===0&&(ne.pending_out=0))},$e=(P,ne)=>{se(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,ne),P.block_start=P.strstart,qe(P.strm)},Pe=(P,ne)=>{P.pending_buf[P.pending++]=ne},je=(P,ne)=>{P.pending_buf[P.pending++]=ne>>>8&255,P.pending_buf[P.pending++]=255&ne},We=(P,ne,le,ve)=>{let V=P.avail_in;return(V=V>ve?ve:V)===0?0:(P.avail_in-=V,ne.set(P.input.subarray(P.next_in,P.next_in+V),le),P.state.wrap===1?P.adler=B(P.adler,ne,V,le):P.state.wrap===2&&(P.adler=Z(P.adler,ne,V,le)),P.next_in+=V,P.total_in+=V,V)},Xe=(P,ne)=>{let le,ve=P.max_chain_length,V=P.strstart;var xe;let ye=P.prev_length,Ae=P.nice_match;var Le=P.strstart>P.w_size-me?P.strstart-(P.w_size-me):0,Be=P.window,Ne=P.w_mask,Fe=P.prev,ze=P.strstart+ce;let et=Be[V+ye-1],nt=Be[V+ye];P.prev_length>=P.good_match&&(ve>>=2),Ae>P.lookahead&&(Ae=P.lookahead);do if(Be[(le=ne)+ye]===nt&&Be[le+ye-1]===et&&Be[le]===Be[V]&&Be[++le]===Be[V+1]){for(V+=2,le++;Be[++V]===Be[++le]&&Be[++V]===Be[++le]&&Be[++V]===Be[++le]&&Be[++V]===Be[++le]&&Be[++V]===Be[++le]&&Be[++V]===Be[++le]&&Be[++V]===Be[++le]&&Be[++V]===Be[++le]&&V<ze;);if(xe=ce-(ze-V),V=ze-ce,xe>ye){if(P.match_start=ne,(ye=xe)>=Ae)break;et=Be[V+ye-1],nt=Be[V+ye]}}while((ne=Fe[ne&Ne])>Le&&--ve!=0);return ye<=P.lookahead?ye:P.lookahead},Ye=P=>{var ne=P.w_size;let le,ve,V,xe,ye;do{if(xe=P.window_size-P.lookahead-P.strstart,P.strstart>=ne+(ne-me)){for(P.window.set(P.window.subarray(ne,ne+ne),0),P.match_start-=ne,P.strstart-=ne,P.block_start-=ne,ve=P.hash_size,le=ve;V=P.head[--le],P.head[le]=V>=ne?V-ne:0,--ve;);for(ve=ne,le=ve;V=P.prev[--le],P.prev[le]=V>=ne?V-ne:0,--ve;);xe+=ne}if(P.strm.avail_in===0)break;if(ve=We(P.strm,P.window,P.strstart+P.lookahead,xe),P.lookahead+=ve,P.lookahead+P.insert>=3)for(ye=P.strstart-P.insert,P.ins_h=P.window[ye],P.ins_h=Te(P,P.ins_h,P.window[ye+1]);P.insert&&(P.ins_h=Te(P,P.ins_h,P.window[ye+3-1]),P.prev[ye&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=ye,ye++,P.insert--,!(P.lookahead+P.insert<3)););}while(P.lookahead<me&&P.strm.avail_in!==0)};r=(P,ne)=>{let le,ve;for(;;){if(P.lookahead<me){if(Ye(P),P.lookahead<me&&ne===F)return 1;if(P.lookahead===0)break}if(le=0,P.lookahead>=3&&(P.ins_h=Te(P,P.ins_h,P.window[P.strstart+3-1]),le=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),le!==0&&P.strstart-le<=P.w_size-me&&(P.match_length=Xe(P,le)),P.match_length>=3)if(ve=Ce(P,P.strstart-P.match_start,P.match_length-3),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=3){for(P.match_length--;P.strstart++,P.ins_h=Te(P,P.ins_h,P.window[P.strstart+3-1]),le=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=Te(P,P.ins_h,P.window[P.strstart+1]);else ve=Ce(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(ve&&($e(P,!1),P.strm.avail_out===0))return 1}return P.insert=P.strstart<2?P.strstart:2,ne===de?($e(P,!0),P.strm.avail_out===0?3:4):P.last_lit&&($e(P,!1),P.strm.avail_out===0)?1:2};var Qe=(P,ne)=>{let le,ve;for(var V;;){if(P.lookahead<me){if(Ye(P),P.lookahead<me&&ne===F)return 1;if(P.lookahead===0)break}if(le=0,P.lookahead>=3&&(P.ins_h=Te(P,P.ins_h,P.window[P.strstart+3-1]),le=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=2,le!==0&&P.prev_length<P.max_lazy_match&&P.strstart-le<=P.w_size-me&&(P.match_length=Xe(P,le),P.match_length<=5&&(P.strategy===Ee||P.match_length===3&&4096<P.strstart-P.match_start)&&(P.match_length=2)),P.prev_length>=3&&P.match_length<=P.prev_length){for(V=P.strstart+P.lookahead-3,ve=Ce(P,P.strstart-1-P.prev_match,P.prev_length-3),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=V&&(P.ins_h=Te(P,P.ins_h,P.window[P.strstart+3-1]),le=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=2,P.strstart++,ve&&($e(P,!1),P.strm.avail_out===0))return 1}else if(P.match_available){if((ve=Ce(P,0,P.window[P.strstart-1]))&&$e(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return 1}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(ve=Ce(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<2?P.strstart:2,ne===de?($e(P,!0),P.strm.avail_out===0?3:4):P.last_lit&&($e(P,!1),P.strm.avail_out===0)?1:2};function He(P,ne,le,ve,V){this.good_length=P,this.max_lazy=ne,this.nice_length=le,this.max_chain=ve,this.func=V}const Je=[new He(0,0,0,0,(P,ne)=>{let le=65535;for(le>P.pending_buf_size-5&&(le=P.pending_buf_size-5);;){if(P.lookahead<=1){if(Ye(P),P.lookahead===0&&ne===F)return 1;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var ve=P.block_start+le;if((P.strstart===0||P.strstart>=ve)&&(P.lookahead=P.strstart-ve,P.strstart=ve,$e(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-me&&($e(P,!1),P.strm.avail_out===0))return 1}return P.insert=0,ne===de?($e(P,!0),P.strm.avail_out===0?3:4):(P.strstart>P.block_start&&($e(P,!1),P.strm.avail_out),1)}),new He(4,4,8,4,r),new He(4,5,16,8,r),new He(4,6,32,32,r),new He(4,4,16,16,Qe),new He(8,16,32,32,Qe),new He(8,16,128,128,Qe),new He(8,32,128,256,Qe),new He(32,128,258,1024,Qe),new He(32,258,258,4096,Qe)];function pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Re(this.dyn_ltree),Re(this.dyn_dtree),Re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ht=P=>{if(!P||!P.state)return Me(P,we);P.total_in=P.total_out=0,P.data_type=pe;const ne=P.state;return ne.pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?42:be,P.adler=ne.wrap===2?0:1,ne.last_flush=F,z(ne),_e},ut=P=>{var ne=ht(P);return ne===_e&&((P=P.state).window_size=2*P.w_size,Re(P.head),P.max_lazy_match=Je[P.level].max_lazy,P.good_match=Je[P.level].good_length,P.nice_match=Je[P.level].nice_length,P.max_chain_length=Je[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=2,P.match_available=0,P.ins_h=0),ne};var ct=(P,ne,le,ve,V,xe)=>{if(!P)return we;let ye=1;if(ne===De&&(ne=6),ve<0?(ye=0,ve=-ve):15<ve&&(ye=2,ve-=16),V<1||V>9||le!==K||ve<8||15<ve||ne<0||9<ne||xe<0||xe>te)return Me(P,we);ve===8&&(ve=9);const Ae=new pt;return(P.state=Ae).strm=P,Ae.wrap=ye,Ae.gzhead=null,Ae.w_bits=ve,Ae.w_size=1<<Ae.w_bits,Ae.w_mask=Ae.w_size-1,Ae.hash_bits=V+7,Ae.hash_size=1<<Ae.hash_bits,Ae.hash_mask=Ae.hash_size-1,Ae.hash_shift=~~((Ae.hash_bits+3-1)/3),Ae.window=new Uint8Array(2*Ae.w_size),Ae.head=new Uint16Array(Ae.hash_size),Ae.prev=new Uint16Array(Ae.w_size),Ae.lit_bufsize=1<<V+6,Ae.pending_buf_size=4*Ae.lit_bufsize,Ae.pending_buf=new Uint8Array(Ae.pending_buf_size),Ae.d_buf=+Ae.lit_bufsize,Ae.l_buf=3*Ae.lit_bufsize,Ae.level=ne,Ae.strategy=xe,Ae.method=le,ut(P)},Ve=(P,ne)=>P&&P.state&&P.state.wrap===2?(P.state.gzhead=ne,_e):we,Ze=(P,ne)=>{let le,ve;if(!P||!P.state||ne>ge||ne<0)return P?Me(P,we):we;const V=P.state;if(!P.output||!P.input&&P.avail_in!==0||V.status===666&&ne!==de)return Me(P,P.avail_out===0?Ie:we);V.strm=P;var xe=V.last_flush;if(V.last_flush=ne,V.status===42)if(V.wrap===2)P.adler=0,Pe(V,31),Pe(V,139),Pe(V,8),V.gzhead?(Pe(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),Pe(V,255&V.gzhead.time),Pe(V,V.gzhead.time>>8&255),Pe(V,V.gzhead.time>>16&255),Pe(V,V.gzhead.time>>24&255),Pe(V,V.level===9?2:V.strategy>=U||V.level<2?4:0),Pe(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(Pe(V,255&V.gzhead.extra.length),Pe(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(P.adler=Z(P.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(Pe(V,0),Pe(V,0),Pe(V,0),Pe(V,0),Pe(V,0),Pe(V,V.level===9?2:V.strategy>=U||V.level<2?4:0),Pe(V,3),V.status=be);else{let ye=K+(V.w_bits-8<<4)<<8,Ae=-1;Ae=V.strategy>=U||V.level<2?0:V.level<6?1:V.level===6?2:3,ye|=Ae<<6,V.strstart!==0&&(ye|=32),ye+=31-ye%31,V.status=be,je(V,ye),V.strstart!==0&&(je(V,P.adler>>>16),je(V,65535&P.adler)),P.adler=1}if(V.status===69)if(V.gzhead.extra){for(le=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>le&&(P.adler=Z(P.adler,V.pending_buf,V.pending-le,le)),qe(P),le=V.pending,V.pending!==V.pending_buf_size));)Pe(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>le&&(P.adler=Z(P.adler,V.pending_buf,V.pending-le,le)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){le=V.pending;do if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>le&&(P.adler=Z(P.adler,V.pending_buf,V.pending-le,le)),qe(P),le=V.pending,V.pending===V.pending_buf_size)){ve=1;break}while(ve=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,Pe(V,ve),ve!==0);V.gzhead.hcrc&&V.pending>le&&(P.adler=Z(P.adler,V.pending_buf,V.pending-le,le)),ve===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){le=V.pending;do if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>le&&(P.adler=Z(P.adler,V.pending_buf,V.pending-le,le)),qe(P),le=V.pending,V.pending===V.pending_buf_size)){ve=1;break}while(ve=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,Pe(V,ve),ve!==0);V.gzhead.hcrc&&V.pending>le&&(P.adler=Z(P.adler,V.pending_buf,V.pending-le,le)),ve===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&qe(P),V.pending+2<=V.pending_buf_size&&(Pe(V,255&P.adler),Pe(V,P.adler>>8&255),P.adler=0,V.status=be)):V.status=be),V.pending!==0){if(qe(P),P.avail_out===0)return V.last_flush=-1,_e}else if(P.avail_in===0&&Oe(ne)<=Oe(xe)&&ne!==de)return Me(P,Ie);if(V.status===666&&P.avail_in!==0)return Me(P,Ie);if(P.avail_in!==0||V.lookahead!==0||ne!==F&&V.status!==666){if((xe=V.strategy===U?((ye,Ae)=>{for(var Le;;){if(ye.lookahead===0&&(Ye(ye),ye.lookahead===0)){if(Ae===F)return 1;break}if(ye.match_length=0,Le=Ce(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++,Le&&($e(ye,!1),ye.strm.avail_out===0))return 1}return ye.insert=0,Ae===de?($e(ye,!0),ye.strm.avail_out===0?3:4):ye.last_lit&&($e(ye,!1),ye.strm.avail_out===0)?1:2})(V,ne):V.strategy===oe?((ye,Ae)=>{let Le;var Be;let Ne,Fe;for(var ze=ye.window;;){if(ye.lookahead<=ce){if(Ye(ye),ye.lookahead<=ce&&Ae===F)return 1;if(ye.lookahead===0)break}if(ye.match_length=0,ye.lookahead>=3&&0<ye.strstart&&(Be=ze[Ne=ye.strstart-1])===ze[++Ne]&&Be===ze[++Ne]&&Be===ze[++Ne]){for(Fe=ye.strstart+ce;Be===ze[++Ne]&&Be===ze[++Ne]&&Be===ze[++Ne]&&Be===ze[++Ne]&&Be===ze[++Ne]&&Be===ze[++Ne]&&Be===ze[++Ne]&&Be===ze[++Ne]&&Ne<Fe;);ye.match_length=ce-(Fe-Ne),ye.match_length>ye.lookahead&&(ye.match_length=ye.lookahead)}if(ye.match_length>=3?(Le=Ce(ye,1,ye.match_length-3),ye.lookahead-=ye.match_length,ye.strstart+=ye.match_length,ye.match_length=0):(Le=Ce(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++),Le&&($e(ye,!1),ye.strm.avail_out===0))return 1}return ye.insert=0,Ae===de?($e(ye,!0),ye.strm.avail_out===0?3:4):ye.last_lit&&($e(ye,!1),ye.strm.avail_out===0)?1:2})(V,ne):Je[V.level].func(V,ne))!==3&&xe!==4||(V.status=666),xe===1||xe===3)return P.avail_out===0&&(V.last_flush=-1),_e;if(xe===2&&(ne===J?Se(V):ne!==ge&&(ie(V,0,0,!1),ne===he&&(Re(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),qe(P),P.avail_out===0))return V.last_flush=-1,_e}return ne!==de?_e:V.wrap<=0?fe:(V.wrap===2?(Pe(V,255&P.adler),Pe(V,P.adler>>8&255),Pe(V,P.adler>>16&255),Pe(V,P.adler>>24&255),Pe(V,255&P.total_in),Pe(V,P.total_in>>8&255),Pe(V,P.total_in>>16&255),Pe(V,P.total_in>>24&255)):(je(V,P.adler>>>16),je(V,65535&P.adler)),qe(P),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?_e:fe)},lt=P=>{if(!P||!P.state)return we;var ne=P.state.status;return ne!==42&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==be&&ne!==666?Me(P,we):(P.state=null,ne===be?Me(P,ke):_e)},mt=(P,ne)=>{let le=ne.length;if(!P||!P.state)return we;const ve=P.state;var V=ve.wrap;if(V===2||V===1&&ve.status!==42||ve.lookahead)return we;if(V===1&&(P.adler=B(P.adler,ne,le,0)),ve.wrap=0,le>=ve.w_size){V===0&&(Re(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0);let Le=new Uint8Array(ve.w_size);Le.set(ne.subarray(le-ve.w_size,le),0),ne=Le,le=ve.w_size}var xe=P.avail_in,ye=P.next_in,Ae=P.input;for(P.avail_in=le,P.next_in=0,P.input=ne,Ye(ve);ve.lookahead>=3;){let Le=ve.strstart,Be=ve.lookahead-2;for(;ve.ins_h=Te(ve,ve.ins_h,ve.window[Le+3-1]),ve.prev[Le&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=Le,Le++,--Be;);ve.strstart=Le,ve.lookahead=2,Ye(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=2,ve.match_available=0,P.next_in=ye,P.input=Ae,P.avail_in=xe,ve.wrap=V,_e};try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const gt=new Uint8Array(256);for(let P=0;P<256;P++)gt[P]=252<=P?6:248<=P?5:240<=P?4:224<=P?3:192<=P?2:1;gt[254]=gt[254]=1;var yt=P=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(P);let ne,le,ve,V,xe,ye=P.length,Ae=0;for(V=0;V<ye;V++)(64512&(le=P.charCodeAt(V)))==55296&&V+1<ye&&(64512&(ve=P.charCodeAt(V+1)))==56320&&(le=65536+(le-55296<<10)+(ve-56320),V++),Ae+=le<128?1:le<2048?2:le<65536?3:4;for(ne=new Uint8Array(Ae),xe=0,V=0;xe<Ae;V++)(64512&(le=P.charCodeAt(V)))==55296&&V+1<ye&&(64512&(ve=P.charCodeAt(V+1)))==56320&&(le=65536+(le-55296<<10)+(ve-56320),V++),le<128?ne[xe++]=le:(le<2048?ne[xe++]=192|le>>>6:(le<65536?ne[xe++]=224|le>>>12:(ne[xe++]=240|le>>>18,ne[xe++]=128|le>>>12&63),ne[xe++]=128|le>>>6&63),ne[xe++]=128|63&le);return ne},St=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const wt=Object.prototype.toString,{Z_NO_FLUSH:kt,Z_SYNC_FLUSH:It,Z_FULL_FLUSH:xt,Z_FINISH:Et,Z_OK:dt,Z_STREAM_END:Dt,Z_DEFAULT_COMPRESSION:Rt,Z_DEFAULT_STRATEGY:At,Z_DEFLATED:Ot}=t;function rt(P){this.options=function(ve){const V=Array.prototype.slice.call(arguments,1);for(;V.length;){var xe=V.shift();if(xe){if(typeof xe!="object")throw new TypeError(xe+"must be non-object");for(const Le in xe)ye=xe,Ae=Le,Object.prototype.hasOwnProperty.call(ye,Ae)&&(ve[Le]=xe[Le])}}var ye,Ae;return ve}({level:Rt,method:Ot,chunkSize:16384,windowBits:15,memLevel:8,strategy:At},P||{});let ne=this.options,le=(ne.raw&&0<ne.windowBits?ne.windowBits=-ne.windowBits:ne.gzip&&0<ne.windowBits&&ne.windowBits<16&&(ne.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new St,this.strm.avail_out=0,ct(this.strm,ne.level,ne.method,ne.windowBits,ne.memLevel,ne.strategy));if(le!==dt)throw new Error(re[le]);if(ne.header&&Ve(this.strm,ne.header),ne.dictionary){let ve;if(ve=typeof ne.dictionary=="string"?yt(ne.dictionary):wt.call(ne.dictionary)==="[object ArrayBuffer]"?new Uint8Array(ne.dictionary):ne.dictionary,(le=mt(this.strm,ve))!==dt)throw new Error(re[le]);this._dict_set=!0}}function vt(P,ne){const le=new rt(ne);if(le.push(P,!0),le.err)throw le.msg||re[le.err];return le.result}rt.prototype.push=function(P,ne){const le=this.strm;var ve=this.options.chunkSize;let V,xe;if(this.ended)return!1;for(xe=ne===~~ne?ne:ne===!0?Et:kt,typeof P=="string"?le.input=yt(P):wt.call(P)==="[object ArrayBuffer]"?le.input=new Uint8Array(P):le.input=P,le.next_in=0,le.avail_in=le.input.length;;)if(le.avail_out===0&&(le.output=new Uint8Array(ve),le.next_out=0,le.avail_out=ve),(xe===It||xe===xt)&&le.avail_out<=6)this.onData(le.output.subarray(0,le.next_out)),le.avail_out=0;else{if(Ze(le,xe)===Dt)return 0<le.next_out&&this.onData(le.output.subarray(0,le.next_out)),V=lt(this.strm),this.onEnd(V),this.ended=!0,V===dt;if(le.avail_out===0)this.onData(le.output);else if(0<xe&&0<le.next_out)this.onData(le.output.subarray(0,le.next_out)),le.avail_out=0;else if(le.avail_in===0)break}return!0},rt.prototype.onData=function(P){this.chunks.push(P)},rt.prototype.onEnd=function(P){P===dt&&(this.result=(ne=>{let le=0;for(let xe=0,ye=ne.length;xe<ye;xe++)le+=ne[xe].length;const ve=new Uint8Array(le);for(let xe=0,ye=0,Ae=ne.length;xe<Ae;xe++){var V=ne[xe];ve.set(V,ye),ye+=V.length}return ve})(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg},r={Deflate:rt,deflate:vt,deflateRaw:function(P,ne){return(ne=ne||{}).raw=!0,vt(P,ne)},gzip:function(P,ne){return(ne=ne||{}).gzip=!0,vt(P,ne)},constants:t};var Tt=Qe=r.deflate},function(e,t,r){r.d(t,"a",function(){return d}),u.prototype.removeTokens=function(c,v){var g=this;return this.bucketSize?c>this.bucketSize?(setTimeout(v.bind(null,"Requested tokens "+c+" exceeds bucket size "+this.bucketSize,null),0),!1):(this.drip(),c>this.content?y():this.parentBucket?this.parentBucket.removeTokens(c,function(o,n){return o?v(o,null):c>g.content?y():(g.content-=c,void v(null,Math.min(n,g.content)))}):(this.content-=c,setTimeout(v.bind(null,null,this.content),0),!0)):(setTimeout(v.bind(null,null,c,Number.POSITIVE_INFINITY),0),!0);function y(){var o=Math.ceil((c-g.content)*(g.interval/g.tokensPerInterval));return setTimeout(function(){g.removeTokens(c,v)},o),!1}},u.prototype.tryRemoveTokens=function(c){return!(this.bucketSize&&(c>this.bucketSize||(this.drip(),c>this.content||this.parentBucket&&!this.parentBucket.tryRemoveTokens(c)||(this.content-=c,0))))},u.prototype.drip=function(){var c,v;this.tokensPerInterval?(v=+new Date,c=Math.max(v-this.lastDrip,0),this.lastDrip=v,v=c*(this.tokensPerInterval/this.interval),this.content=Math.min(this.content+v,this.bucketSize)):this.content=this.bucketSize};var d=u;function u(c,v,g,y){if(this.bucketSize=1,this.tokensPerInterval=1,this.interval=1e3,this.parentBucket=null,this.content=0,this.lastDrip=0,this.bucketSize=c,this.tokensPerInterval=v,typeof g=="string")switch(g){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+g)}else this.interval=g;this.parentBucket=y,this.content=0,this.lastDrip=+new Date}},function(e,t,r){r.d(t,"a",function(){return g});var d=r(5),u=r(6),c=function(o,n,s,i){return new(s=s||Promise)(function(a,m){function f(_){try{C(i.next(_))}catch(w){m(w)}}function b(_){try{C(i.throw(_))}catch(w){m(w)}}function C(_){var w;_.done?a(_.value):((w=_.value)instanceof s?w:new s(function(M){M(w)})).then(f,b)}C((i=i.apply(o,n||[])).next())})},v=function(o,n){var s,i,a,m={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},f={next:b(0),throw:b(1),return:b(2)};return typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function b(C){return function(_){var w=[C,_];if(s)throw new TypeError("Generator is already executing.");for(;m;)try{if(s=1,i&&(a=2&w[0]?i.return:w[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,w[1])).done)return a;switch(i=0,(w=a?[2&w[0],a.value]:w)[0]){case 0:case 1:a=w;break;case 4:return m.label++,{value:w[1],done:!1};case 5:m.label++,i=w[1],w=[0];continue;case 7:w=m.ops.pop(),m.trys.pop();continue;default:if(!(a=0<(a=m.trys).length&&a[a.length-1])&&(w[0]===6||w[0]===2)){m=0;continue}if(w[0]===3&&(!a||w[1]>a[0]&&w[1]<a[3])){m.label=w[1];break}if(w[0]===6&&m.label<a[1]){m.label=a[1],a=w;break}if(a&&m.label<a[2]){m.label=a[2],m.ops.push(w);break}a[2]&&m.ops.pop(),m.trys.pop();continue}w=n.call(o,m)}catch(M){w=[6,M],i=0}finally{s=a=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}}},g=(y.prototype.init=function(){return c(this,void 0,void 0,function(){var o,n;return v(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),[4,this.commonStore.getItem(this.storeName)];case 1:return(o=s.sent())?[3,3]:(n={storeSize:this.storeSize},[4,this.commonStore.setItem(this.storeName,n)]);case 2:return s.sent(),[3,4];case 3:n=typeof o=="string"?JSON.parse(o):o,this.storeSize=n.storeSize,s.label=4;case 4:return[3,6];case 5:return s.sent(),[3,6];case 6:return[2]}})})},y.prototype.setDropCallBack=function(o){this.dropCallBack=o},y.prototype.storeData=function(o){var n=this;return new Promise(function(s,i){return c(n,void 0,void 0,function(){var a,m,f,b,C=this;return v(this,function(_){switch(_.label){case 0:if(this.droping)return this.bufferData.push(o),[2];if(a=o.level,f=o.timestamp,b=o.seq,m=o.content,f=a+"_"+f+"_"+b,b=Object(u.b)(f)+Object(u.b)(m),d.h.totalDBSize-b<=0)return this.dropDBData(a,f,m).then(function(){C.droping=!1,C.bufferDump()}).catch(function(w){}),s(),[2];_.label=1;case 1:return _.trys.push([1,5,,6]),[4,this.store.getItem(f)];case 2:return _.sent()?(s(),[2]):[4,this.store.setItem(f,m)];case 3:return _.sent(),this.storeSize+=b,d.h.totalDBSize-=b,[4,this.refreshStoreInfo()];case 4:return _.sent(),s(),[3,6];case 5:return _.sent().name==="QuotaExceededError"&&this.dropDBData(a,f,m).then(function(){C.droping=!1,C.bufferDump()}).catch(function(w){}),[3,6];case 6:return[2]}})})})},y.prototype.loadPendingData=function(){return c(this,void 0,void 0,function(){var o=this;return v(this,function(n){switch(n.label){case 0:return[4,this.store.keys()];case 1:return n.sent().forEach(function(s){return c(o,void 0,void 0,function(){var i,a=this;return v(this,function(m){switch(m.label){case 0:return s.indexOf("pending")===-1?[3,3]:[4,this.store.getItem(s)];case 1:return(i=m.sent())?(JSON.parse(i).forEach(function(f){return c(a,void 0,void 0,function(){return v(this,function(b){switch(b.label){case 0:return[4,this.storeData(f)];case 1:return b.sent(),[2]}})})}),[4,this.store.removeItem(s)]):[3,3];case 2:m.sent(),m.label=3;case 3:return[2]}})})}),[2]}})})},y.prototype.storePendingData=function(o){return c(this,void 0,void 0,function(){return v(this,function(n){switch(n.label){case 0:return[4,this.store.setItem("pending"+new Date().getTime(),JSON.stringify(o))];case 1:return n.sent(),[2]}})})},y.prototype.bufferDump=function(){return c(this,void 0,void 0,function(){var o;return v(this,function(n){switch(n.label){case 0:return(o=this.bufferData.pop())?[4,this.storeData(o)]:[3,2];case 1:n.sent(),this.bufferDump(),n.label=2;case 2:return[2]}})})},y.prototype.dropDBData=function(o,n,s){return c(this,void 0,void 0,function(){var i=this;return v(this,function(a){return this.droping=!0,[2,new Promise(function(m,f){return c(i,void 0,void 0,function(){var b,C,_,w,M;return v(this,function(S){switch(S.label){case 0:return S.trys.push([0,10,,11]),[4,this.store.keys()];case 1:(b=S.sent()).reverse(),C=Math.ceil(b.length*this.storeDelPer),_=0,S.label=2;case 2:return _<C?[4,this.store.getItem(b[_])]:[3,7];case 3:return(w=S.sent())==null?[3,6]:[4,this.store.removeItem(b[_])];case 4:return S.sent(),M=Object(u.b)(b[_])+Object(u.b)(w),d.h.totalDBSize+=M,this.storeSize-=M,[4,this.refreshStoreInfo()];case 5:S.sent(),this.dropCallBack(w),S.label=6;case 6:return _++,[3,2];case 7:return[4,this.store.setItem(n,s)];case 8:return S.sent(),this.storeSize+=Object(u.b)(n)+Object(u.b)(s),[4,this.refreshStoreInfo()];case 9:return S.sent(),m(),[3,11];case 10:return M=S.sent(),f(M),[3,11];case 11:return[2]}})})})]})})},y.prototype.removeDataItem=function(o){var n=this;return new Promise(function(s,i){return c(n,void 0,void 0,function(){var a,m,f,b,C;return v(this,function(_){switch(_.label){case 0:a=o.level,f=o.timestamp,b=o.seq,o.content,a=a+"_"+f+"_"+b,_.label=1;case 1:return _.trys.push([1,6,,7]),[4,this.store.getItem(a)];case 2:return(m=_.sent())?[4,this.store.removeItem(a)]:[3,5];case 3:return _.sent(),f=this.isMiniProgram?Object(u.b)(JSON.parse(m)):Object(u.b)(m),b=Object(u.b)(a)+f,this.storeSize-=b,d.h.totalDBSize+=b,this.traceType.DB_O_DONE+=b,[4,this.refreshStoreInfo()];case 4:_.sent(),s(),_.label=5;case 5:return[3,7];case 6:return C=_.sent(),i(C),[3,7];case 7:return[2]}})})})},y.prototype.refreshStoreInfo=function(){return c(this,void 0,void 0,function(){return v(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.commonStore.setItem(this.storeName,{storeSize:this.storeSize})];case 1:case 2:return o.sent(),[3,3];case 3:return[2]}})})},y.prototype.readStoreDataItem=function(){var o=this;return new Promise(function(n,s){return c(o,void 0,void 0,function(){var i,a,m,f,b;return v(this,function(C){switch(C.label){case 0:return C.trys.push([0,3,,4]),[4,this.store.keys()];case 1:return i=C.sent(),[4,this.store.getItem(i[0])];case 2:return a=C.sent(),f=Object(u.a)(i[0]),b=f.level,m=f.timestamp,f=f.seq,n({level:b,timestamp:m,seq:f,content:a}),[3,4];case 3:return b=C.sent(),s(b),[3,4];case 4:return[2]}})})})},y.prototype.loadDBData=function(o,n,s,i){var a=this;return new Promise(function(m,f){return c(a,void 0,void 0,function(){var b,C,_,w,M,S,I,x,E,D;return v(this,function(R){switch(R.label){case 0:return R.trys.push([0,6,,7]),[4,this.store.keys()];case 1:b=R.sent(),C=[],S=M=w=_=0,R.label=2;case 2:return S<b.length?i(b[S])?[3,4]:[4,this.store.getItem(b[S])]:[3,5];case 3:if((I=R.sent())==null)return[3,4];if(x=Object(u.a)(b[S]),E=x.level,D=x.timestamp,x=x.seq,C.push({level:E,timestamp:D,seq:x,content:I,key:b[S]}),E=Object(u.b)(I),w+=E,o<=(_+=E)&&(_=0,M++),n<=M&&s<=w)return[3,5];R.label=4;case 4:return S++,[3,2];case 5:return m({datas:C,len:w}),[3,7];case 6:return D=R.sent(),f(D),[3,7];case 7:return[2]}})})})},y.prototype.sortKeys=function(o,n){n===void 0&&(n=!1),o.sort(function(s,i){return s=s.split("_"),+(i=i.split("_"))[0]-+s[0]||+i[1]-+s[1]||+i[2]-+s[2]}),n&&o.reverse()},y);function y(o,n,s){this.storeName=o,this.traceType=n,this.storeSize=0,this.storeDelPer=d.h.storeDelPer,this.droping=!1,this.bufferData=[],this.isMiniProgram=!1,this.isMiniProgram=!!s,n=s?"zego.impl.wx":"zego.impl.web",n=r(49)("./"+n).createZegoStore,this.store=n(o,s),this.commonStore=n("logger_common")}},function(e,t,r){var d=r(120),u=r(46).Buffer;function c(v){return function(g){if(u.isBuffer(g))return g.length;switch(typeof g){case"string":return g.length*d.STRING;case"boolean":return d.BOOLEAN;case"number":return d.NUMBER;case"symbol":return Symbol.keyFor&&Symbol.keyFor(g)?Symbol.keyFor(g).length*d.STRING:(g.toString().length-8)*d.STRING;case"object":return Array.isArray(g)?g.map(c(v)).reduce(function(y,o){return y+o},0):function(y,o){if(o==null)return 0;for(var n=0,s=function(m){const f=[];for(var b in m)f.push(b);return Object.getOwnPropertySymbols&&(m=Object.getOwnPropertySymbols(m),Array.prototype.push.apply(f,m)),f}(o),i=0;i<s.length;i++){var a=s[i];if(typeof o[a]=="object"&&o[a]!==null){if(y.has(o[a]))continue;y.add(o[a])}n+=c(y)(a);try{n+=c(y)(o[a])}catch(m){m instanceof RangeError&&(n=0)}}return n}(v,g);default:return 0}}}e.exports=function(v){return c(new WeakSet)(v)}},function(e,t,r){r.d(t,"a",function(){return g});var d=r(5),u=r(6),c=function(o,n){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var i,a,m=s.call(o),f=[];try{for(;(n===void 0||0<n--)&&!(i=m.next()).done;)f.push(i.value)}catch(b){a={error:b}}finally{try{i&&!i.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}return f},v=function(o,n,s){if(s||arguments.length===2)for(var i,a=0,m=n.length;a<m;a++)!i&&a in n||((i=i||Array.prototype.slice.call(n,0,a))[a]=n[a]);return o.concat(i||Array.prototype.slice.call(n))},g=(y.prototype.enqueue=function(o,n){(n=this.cacheMap.get(n))&&(n.enqueue(o),n=Object(u.b)(o.content),this.pendingDataSize+=n,this.size++,d.b.totalAvailCache-=n,this.enCallback&&this.enCallback(this.byteLength,this.size,this.pendingDataSize))},y.prototype.dequeue=function(o){return o=(o=this.cacheMap.get(o))==null?void 0:o.dequeue(),this.size--,this.deCallback&&this.deCallback(),o},y.prototype.readReportData=function(o){var n=v([],c(this.cacheMap.entries()),!1);return n=this.readData(n,o,!0),this.reset(),{totalLen:n.totalLen,reportDataArr:n.resArr}},y.prototype.readStoreData=function(o){o=Math.ceil(this.pendingDataSize*o);var n=v([],c(this.cacheMap.entries()),!1).reverse();return n=this.readData(n,o,!1),this.refresh(n.totalLen),{totalLen:n.totalLen,storeArr:n.resArr}},y.prototype.readData=function(o,n,s){var i=[],a=0;e:for(var m=0;m<o.length;m++)for(var f=c(o[m],2),b=f[0],C=f[1];C.size();){var _=this.dequeue(b);if(i.push(_),n<(a+=Object(u.b)(_.content)))break e}return{totalLen:a,resArr:i}},y.prototype.decodeReportData=function(o){var n=this;o.forEach(function(s){n.enqueue(s,s.level)})},y.prototype.setListener=function(o){this.enCallback=o.enCallback,this.deCallback=o.deCallback},y.prototype.getPendingDataInfo=function(){return{pendingDataSize:this.pendingDataSize,size:this.size}},y.prototype.refresh=function(o){this.pendingDataSize-=o,d.b.totalAvailCache+=o},y.prototype.reset=function(){this.byteLength=0},y);function y(o,n){var s=this;this.levels=o,this.product=n,this.byteLength=0,this.size=0,this.pendingDataSize=0,this.cacheMap=new Map,o.forEach(function(i){s.cacheMap.set(i,new d.f)})}},function(e,t,r){r.r(t),r.d(t,"ZIM",function(){return v});var d=r(3),u=r(1),c=r(2),v=(g.getVersion=function(){return d.a.getInstance().getVersion()},g.create=function(y){if(!(y=typeof y=="object"?y.appID:y)||typeof y!="number")throw new Error(JSON.stringify(Object(u.o)(c.g.CommonModuleInvalidAppID)));return(y=d.a.getInstance().createEngine(y))?g._instatance=new g(y):null},g.getInstance=function(){return g._instatance},g.setAdvancedConfig=function(y,o){d.a.getInstance().setAdvancedConfig(y,o)},g.prototype.destroy=function(){this.engine&&d.a.getInstance().destroyEngine(this.engine),this.engine=null},g.prototype.setLogConfig=function(y){this.engine&&d.a.getInstance().setLogConfig(y)},g.prototype.uploadLog=function(){return this.engine?this.engine.uploadLog():Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.on=function(y,o){this.engine&&this.engine.on(y,o)},g.prototype.off=function(y){this.engine&&this.engine.off(y)},g.prototype.login=function(y,o){return this.engine?this.engine.login(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.logout=function(){this.engine&&this.engine.logout()},g.prototype.renewToken=function(y){return this.engine?this.engine.renewToken(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryUsersInfo=function(y,o){return this.engine?this.engine.queryUsersInfo(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.updateUserName=function(y){return this.engine?this.engine.updateUserName(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.updateUserAvatarUrl=function(y){return this.engine?this.engine.updateUserAvatarUrl(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.updateUserExtendedData=function(y){return this.engine?this.engine.updateUserExtendedData(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryConversationList=function(y){return this.engine?this.engine.queryConversationList(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.deleteConversation=function(y,o,n){return this.engine?this.engine.deleteConversation(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.setConversationNotificationStatus=function(y,o,n){return this.engine?this.engine.setConversationNotificationStatus(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.clearConversationUnreadMessageCount=function(y,o){return this.engine?this.engine.clearConversationUnreadMessageCount(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.sendPeerMessage=function(y,o,n,s){return this.engine?this.engine.sendMessage(y,o,c.f.Peer,n,s):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.sendGroupMessage=function(y,o,n,s){return this.engine?this.engine.sendMessage(y,o,c.f.Group,n,s):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.sendRoomMessage=function(y,o,n,s){return this.engine?this.engine.sendMessage(y,o,c.f.Room,n,s):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.sendMessage=function(y,o,n,s,i){return this.engine?this.engine.sendMessage(y,o,n,s,i):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.sendMediaMessage=function(y,o,n,s,i){return this.engine?this.engine.sendMediaMessage(y,o,n,s,i):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.deleteMessages=function(y,o,n,s){return this.engine?this.engine.deleteMessages(y,o,n,s):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.deleteAllMessage=function(y,o,n){return this.engine?this.engine.deleteAllMessage(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryHistoryMessage=function(y,o,n){return this.engine?this.engine.queryHistoryMessage(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.insertMessageToLocalDB=function(y,o,n,s){return this.engine?this.engine.insertMessageToLocalDB(y,o,n,s):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.sendConversationMessageReceiptRead=function(y,o){return this.engine?this.engine.sendConversationMessageReceiptRead(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.sendMessageReceiptsRead=function(y,o,n){return this.engine?this.engine.sendMessageReceiptsRead(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryMessageReceiptsInfo=function(y,o,n){return this.engine?this.engine.queryMessageReceiptsInfo(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryGroupMessageReceiptReadMemberList=function(y,o,n){return this.engine?this.engine.queryGroupMessageReceiptMemberList(y,o,n,!0):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryGroupMessageReceiptUnreadMemberList=function(y,o,n){return this.engine?this.engine.queryGroupMessageReceiptMemberList(y,o,n,!1):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.revokeMessage=function(y,o){return this.engine?this.engine.revokeMessage(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.createRoom=function(y,o){return this.engine?this.engine.createRoom(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.enterRoom=function(y,o){return this.engine?this.engine.enterRoom(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.joinRoom=function(y){return this.engine?this.engine.joinRoom(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.leaveRoom=function(y){return this.engine?this.engine.leaveRoom(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryRoomMemberList=function(y,o){return this.engine?this.engine.queryRoomMemberList(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryRoomOnlineMemberCount=function(y){return this.engine?this.engine.queryRoomOnlineMemberCount(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryRoomAllAttributes=function(y){return this.engine?this.engine.queryRoomAllAttributes(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.setRoomAttributes=function(y,o,n){return this.engine?this.engine.setRoomAttributes(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.deleteRoomAttributes=function(y,o,n){return this.engine?this.engine.deleteRoomAttributes(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.beginRoomAttributesBatchOperation=function(y,o){this.engine&&this.engine.beginRoomAttributesBatchOperation(y,o)},g.prototype.endRoomAttributesBatchOperation=function(y){return this.engine?this.engine.endRoomAttributesBatchOperation(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.setRoomMembersAttributes=function(y,o,n,s){return this.engine?this.engine.setRoomMembersAttributes(y,o,n,s):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryRoomMembersAttributes=function(y,o){return this.engine?this.engine.queryRoomMembersAttributes(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryRoomMemberAttributesList=function(y,o){return this.engine?this.engine.queryRoomMemberAttributesList(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.createGroup=function(y,o,n){return this.engine?this.engine.createGroup(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.joinGroup=function(y){return this.engine?this.engine.joinGroup(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.leaveGroup=function(y){return this.engine?this.engine.leaveGroup(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.dismissGroup=function(y){return this.engine?this.engine.dismissGroup(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryGroupList=function(){return this.engine?this.engine.queryGroupList():Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.updateGroupNotice=function(y,o){return this.engine?this.engine.updateGroupNotice(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.updateGroupName=function(y,o){return this.engine?this.engine.updateGroupName(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.updateGroupAvatarUrl=function(y,o){return this.engine?this.engine.updateGroupAvatarUrl(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryGroupInfo=function(y){return this.engine?this.engine.queryGroupInfo(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.setGroupAttributes=function(y,o){return this.engine?this.engine.setGroupAttributes(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.deleteGroupAttributes=function(y,o){return this.engine?this.engine.deleteGroupAttributes(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryGroupAttributes=function(y,o){return this.engine?this.engine.queryGroupAttributes(o,y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryGroupAllAttributes=function(y){return this.engine?this.engine.queryGroupAttributes(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.setGroupMemberNickname=function(y,o,n){return this.engine?this.engine.setGroupMemberNickname(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.setGroupMemberRole=function(y,o,n){return this.engine?this.engine.setGroupMemberRole(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.transferGroupOwner=function(y,o){return this.engine?this.engine.transferGroupOwner(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryGroupMemberInfo=function(y,o){return this.engine?this.engine.queryGroupMemberInfo(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.inviteUsersIntoGroup=function(y,o){return this.engine?this.engine.inviteUsersIntoGroup(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.kickGroupMembers=function(y,o){return this.engine?this.engine.kickGroupMembers(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryGroupMemberList=function(y,o){return this.engine?this.engine.queryGroupMemberList(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.queryGroupMemberCount=function(y){return this.engine?this.engine.queryGroupMemberCount(y):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.callInvite=function(y,o){return this.engine?this.engine.callInvite(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.callCancel=function(y,o,n){return this.engine?this.engine.callCancel(y,o,n):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.callAccept=function(y,o){return this.engine?this.engine.callAccept(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g.prototype.callReject=function(y,o){return this.engine?this.engine.callReject(y,o):Promise.reject(Object(u.o)(c.g.CommonModuleNotInit))},g._instatance=null,g.TAG="Wed, 30 Nov 2022 10:38:08 GMT",g);function g(y){if(!y||!y.setContext)throw new Error("Can not use new.");(this.engine=y).setContext(this)}t.default=v},function(e,t){},function(e,t,r){var d;e.exports=(e=r(7),d=e.lib.WordArray,e.enc.Base64={stringify:function(u){for(var c=u.words,v=u.sigBytes,g=this._map,y=(u.clamp(),[]),o=0;o<v;o+=3)for(var n=(c[o>>>2]>>>24-o%4*8&255)<<16|(c[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|c[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<v;s++)y.push(g.charAt(n>>>6*(3-s)&63));var i=g.charAt(64);if(i)for(;y.length%4;)y.push(i);return y.join("")},parse:function(u){var c=u.length,v=this._map;if(!(g=this._reverseMap))for(var g=this._reverseMap=[],y=0;y<v.length;y++)g[v.charCodeAt(y)]=y;var o=v.charAt(64);return o&&(o=u.indexOf(o))!==-1&&(c=o),function(n,s,i){for(var a,m,f=[],b=0,C=0;C<s;C++)C%4&&(a=i[n.charCodeAt(C-1)]<<C%4*2,m=i[n.charCodeAt(C)]>>>6-C%4*2,f[b>>>2]|=(a|m)<<24-b%4*8,b++);return d.create(f,b)}(u,c,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64)},function(e,t,r){var d,u,c,v;e.exports=(e=r(7),v=(r=e).lib,d=v.WordArray,u=v.Hasher,v=r.algo,c=[],v=v.SHA1=u.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(g,y){for(var o=this._hash.words,n=o[0],s=o[1],i=o[2],a=o[3],m=o[4],f=0;f<80;f++){f<16?c[f]=0|g[y+f]:(b=c[f-3]^c[f-8]^c[f-14]^c[f-16],c[f]=b<<1|b>>>31);var b=(n<<5|n>>>27)+m+c[f];b+=f<20?1518500249+(s&i|~s&a):f<40?1859775393+(s^i^a):f<60?(s&i|s&a|i&a)-1894007588:(s^i^a)-899497514,m=a,a=i,i=s<<30|s>>>2,s=n,n=b}o[0]=o[0]+n|0,o[1]=o[1]+s|0,o[2]=o[2]+i|0,o[3]=o[3]+a|0,o[4]=o[4]+m|0},_doFinalize:function(){var g=this._data,y=g.words,o=8*this._nDataBytes,n=8*g.sigBytes;return y[n>>>5]|=128<<24-n%32,y[14+(64+n>>>9<<4)]=Math.floor(o/4294967296),y[15+(64+n>>>9<<4)]=o,g.sigBytes=4*y.length,this._process(),this._hash},clone:function(){var g=u.clone.call(this);return g._hash=this._hash.clone(),g}}),r.SHA1=u._createHelper(v),r.HmacSHA1=u._createHmacHelper(v),e.SHA1)},function(e,t,r){var d;e.exports=(e=r(7),r=e.lib.Base,d=e.enc.Utf8,void(e.algo.HMAC=r.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=d.parse(c));for(var v=u.blockSize,g=4*v,y=(u=((c=c.sigBytes>g?u.finalize(c):c).clamp(),this._oKey=c.clone()),c=this._iKey=c.clone(),u.words),o=c.words,n=0;n<v;n++)y[n]^=1549556828,o[n]^=909522486;u.sigBytes=c.sigBytes=g,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher;return u=c.finalize(u),c.reset(),c.finalize(this._oKey.clone().concat(u))}})))},function(e,t,r){var d,u,c,v,g,y,o,n,s,i,a,m;e.exports=(e=r(7),r(23),void(e.lib.Cipher||(r=(e=e).lib,d=r.Base,u=r.WordArray,c=r.BufferedBlockAlgorithm,(s=e.enc).Utf8,v=s.Base64,g=e.algo.EvpKDF,y=r.Cipher=c.extend({cfg:d.extend(),createEncryptor:function(f,b){return this.create(this._ENC_XFORM_MODE,f,b)},createDecryptor:function(f,b){return this.create(this._DEC_XFORM_MODE,f,b)},init:function(f,b,C){this.cfg=this.cfg.extend(C),this._xformMode=f,this._key=b,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(f){return this._append(f),this._process()},finalize:function(f){return f&&this._append(f),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function f(b){return typeof b=="string"?m:i}return function(b){return{encrypt:function(C,_,w){return f(_).encrypt(b,C,_,w)},decrypt:function(C,_,w){return f(_).decrypt(b,C,_,w)}}}}()}),r.StreamCipher=y.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),s=e.mode={},o=r.BlockCipherMode=d.extend({createEncryptor:function(f,b){return this.Encryptor.create(f,b)},createDecryptor:function(f,b){return this.Decryptor.create(f,b)},init:function(f,b){this._cipher=f,this._iv=b}}),s=s.CBC=function(){var f=o.extend();function b(C,_,w){var M,S=this._iv;S?(M=S,this._iv=void 0):M=this._prevBlock;for(var I=0;I<w;I++)C[_+I]^=M[I]}return f.Encryptor=f.extend({processBlock:function(C,_){var w=this._cipher,M=w.blockSize;b.call(this,C,_,M),w.encryptBlock(C,_),this._prevBlock=C.slice(_,_+M)}}),f.Decryptor=f.extend({processBlock:function(C,_){var w=this._cipher,M=w.blockSize,S=C.slice(_,_+M);w.decryptBlock(C,_),b.call(this,C,_,M),this._prevBlock=S}}),f}(),a=(e.pad={}).Pkcs7={pad:function(f,b){for(var C=(b=4*b)-f.sigBytes%b,_=C<<24|C<<16|C<<8|C,w=[],M=0;M<C;M+=4)w.push(_);b=u.create(w,C),f.concat(b)},unpad:function(f){var b=255&f.words[f.sigBytes-1>>>2];f.sigBytes-=b}},r.BlockCipher=y.extend({cfg:y.cfg.extend({mode:s,padding:a}),reset:function(){y.reset.call(this);var f,b=(C=this.cfg).iv,C=C.mode;this._xformMode==this._ENC_XFORM_MODE?f=C.createEncryptor:(f=C.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==f?this._mode.init(this,b&&b.words):(this._mode=f.call(C,this,b&&b.words),this._mode.__creator=f)},_doProcessBlock:function(f,b){this._mode.processBlock(f,b)},_doFinalize:function(){var f,b=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(b.pad(this._data,this.blockSize),f=this._process(!0)):(f=this._process(!0),b.unpad(f)),f},blockSize:4}),n=r.CipherParams=d.extend({init:function(f){this.mixIn(f)},toString:function(f){return(f||this.formatter).stringify(this)}}),s=(e.format={}).OpenSSL={stringify:function(f){var b=f.ciphertext;return(f=(f=f.salt)?u.create([1398893684,1701076831]).concat(f).concat(b):b).toString(v)},parse:function(f){var b,C=(f=v.parse(f)).words;return C[0]==1398893684&&C[1]==1701076831&&(b=u.create(C.slice(2,4)),C.splice(0,4),f.sigBytes-=16),n.create({ciphertext:f,salt:b})}},i=r.SerializableCipher=d.extend({cfg:d.extend({format:s}),encrypt:function(f,b,C,_){_=this.cfg.extend(_),b=(w=f.createEncryptor(C,_)).finalize(b);var w=w.cfg;return n.create({ciphertext:b,key:C,iv:w.iv,algorithm:f,mode:w.mode,padding:w.padding,blockSize:f.blockSize,formatter:_.format})},decrypt:function(f,b,C,_){return _=this.cfg.extend(_),b=this._parse(b,_.format),f.createDecryptor(C,_).finalize(b.ciphertext)},_parse:function(f,b){return typeof f=="string"?b.parse(f,this):f}}),a=(e.kdf={}).OpenSSL={execute:function(f,b,C,_){return _=_||u.random(8),f=g.create({keySize:b+C}).compute(f,_),C=u.create(f.words.slice(b),4*C),f.sigBytes=4*b,n.create({key:f,iv:C,salt:_})}},m=r.PasswordBasedCipher=i.extend({cfg:i.cfg.extend({kdf:a}),encrypt:function(f,b,C,_){return C=(_=this.cfg.extend(_)).kdf.execute(C,f.keySize,f.ivSize),_.iv=C.iv,(f=i.encrypt.call(this,f,b,C.key,_)).mixIn(C),f},decrypt:function(f,b,C,_){return _=this.cfg.extend(_),b=this._parse(b,_.format),C=_.kdf.execute(C,f.keySize,f.ivSize,b.salt),_.iv=C.iv,i.decrypt.call(this,f,b,C.key,_)}}))))},function(e,t,r){var d=t;function u(){d.util._configure(),d.Writer._configure(d.BufferWriter),d.Reader._configure(d.BufferReader)}d.build="minimal",d.Writer=r(24),d.BufferWriter=r(108),d.Reader=r(25),d.BufferReader=r(109),d.util=r(12),d.rpc=r(110),d.roots=r(112),d.configure=u,u()},function(e,t,r){e.exports=function(d,u){for(var c=new Array(arguments.length-1),v=0,g=2,y=!0;g<arguments.length;)c[v++]=arguments[g++];return new Promise(function(o,n){c[v]=function(s){if(y)if(y=!1,s)n(s);else{for(var i=new Array(arguments.length-1),a=0;a<i.length;)i[a++]=arguments[a];o.apply(null,i)}};try{d.apply(u||null,c)}catch(s){y&&(y=!1,n(s))}})}},function(e,t,r){t.length=function(g){var y=g.length;if(!y)return 0;for(var o=0;1<--y%4&&g.charAt(y)==="=";)++o;return Math.ceil(3*g.length)/4-o};for(var d=new Array(64),u=new Array(123),c=0;c<64;)u[d[c]=c<26?c+65:c<52?c+71:c<62?c-4:c-59|43]=c++;t.encode=function(g,y,o){for(var n,s=null,i=[],a=0,m=0;y<o;){var f=g[y++];switch(m){case 0:i[a++]=d[f>>2],n=(3&f)<<4,m=1;break;case 1:i[a++]=d[n|f>>4],n=(15&f)<<2,m=2;break;case 2:i[a++]=d[n|f>>6],i[a++]=d[63&f],m=0}8191<a&&((s=s||[]).push(String.fromCharCode.apply(String,i)),a=0)}return m&&(i[a++]=d[n],i[a++]=61,m===1&&(i[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,i.slice(0,a))),s.join("")):String.fromCharCode.apply(String,i.slice(0,a))};var v="invalid encoding";t.decode=function(g,y,o){for(var n,s=o,i=0,a=0;a<g.length;){var m=g.charCodeAt(a++);if(m===61&&1<i)break;if((m=u[m])===void 0)throw Error(v);switch(i){case 0:n=m,i=1;break;case 1:y[o++]=n<<2|(48&m)>>4,n=m,i=2;break;case 2:y[o++]=(15&n)<<4|(60&m)>>2,n=m,i=3;break;case 3:y[o++]=(3&n)<<6|m,i=0}}if(i===1)throw Error(v);return o-s},t.test=function(g){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(g)}},function(e,t,r){function d(){this._listeners={}}(e.exports=d).prototype.on=function(u,c,v){return(this._listeners[u]||(this._listeners[u]=[])).push({fn:c,ctx:v||this}),this},d.prototype.off=function(u,c){if(u===void 0)this._listeners={};else if(c===void 0)this._listeners[u]=[];else for(var v=this._listeners[u],g=0;g<v.length;)v[g].fn===c?v.splice(g,1):++g;return this},d.prototype.emit=function(u){var c=this._listeners[u];if(c){for(var v=[],g=1;g<arguments.length;)v.push(arguments[g++]);for(g=0;g<c.length;)c[g].fn.apply(c[g++].ctx,v)}return this}},function(e,t,r){function d(y){function o(R,q,A,j){var H=q<0?1:0;(q=H?-q:q)===0?R(0<1/q?0:2147483648,A,j):isNaN(q)?R(2143289344,A,j):R(34028234663852886e22<q?(H<<31|2139095040)>>>0:q<11754943508222875e-54?(H<<31|Math.round(q/1401298464324817e-60))>>>0:(H<<31|(R=Math.floor(Math.log(q)/Math.LN2))+127<<23|8388607&Math.round(q*Math.pow(2,-R)*8388608))>>>0,A,j)}function n(R,q,A){return q=2*((R=R(q,A))>>31)+1,A=R>>>23&255,R&=8388607,A==255?R?NaN:1/0*q:A==0?1401298464324817e-60*q*R:q*Math.pow(2,A-150)*(8388608+R)}function s(R,q,A){f[0]=R,q[A]=b[0],q[A+1]=b[1],q[A+2]=b[2],q[A+3]=b[3]}function i(R,q,A){f[0]=R,q[A]=b[3],q[A+1]=b[2],q[A+2]=b[1],q[A+3]=b[0]}function a(R,q){return b[0]=R[q],b[1]=R[q+1],b[2]=R[q+2],b[3]=R[q+3],f[0]}function m(R,q){return b[3]=R[q],b[2]=R[q+1],b[1]=R[q+2],b[0]=R[q+3],f[0]}var f,b,C,_,w;function M(R,q,A,j,H,W){var X,ee,ae=j<0?1:0;(j=ae?-j:j)===0?(R(0,H,W+q),R(0<1/j?0:2147483648,H,W+A)):isNaN(j)?(R(0,H,W+q),R(2146959360,H,W+A)):17976931348623157e292<j?(R(0,H,W+q),R((ae<<31|2146435072)>>>0,H,W+A)):j<22250738585072014e-324?(R((X=j/5e-324)>>>0,H,W+q),R((ae<<31|X/4294967296)>>>0,H,W+A)):((ee=Math.floor(Math.log(j)/Math.LN2))===1024&&(ee=1023),R(4503599627370496*(X=j*Math.pow(2,-ee))>>>0,H,W+q),R((ae<<31|ee+1023<<20|1048576*X&1048575)>>>0,H,W+A))}function S(R,q,A,j,H){return q=R(j,H+q),j=2*((R=R(j,H+A))>>31)+1,A=4294967296*(1048575&R)+q,(H=R>>>20&2047)==2047?A?NaN:1/0*j:H==0?5e-324*j*A:j*Math.pow(2,H-1075)*(A+4503599627370496)}function I(R,q,A){C[0]=R,q[A]=_[0],q[A+1]=_[1],q[A+2]=_[2],q[A+3]=_[3],q[A+4]=_[4],q[A+5]=_[5],q[A+6]=_[6],q[A+7]=_[7]}function x(R,q,A){C[0]=R,q[A]=_[7],q[A+1]=_[6],q[A+2]=_[5],q[A+3]=_[4],q[A+4]=_[3],q[A+5]=_[2],q[A+6]=_[1],q[A+7]=_[0]}function E(R,q){return _[0]=R[q],_[1]=R[q+1],_[2]=R[q+2],_[3]=R[q+3],_[4]=R[q+4],_[5]=R[q+5],_[6]=R[q+6],_[7]=R[q+7],C[0]}function D(R,q){return _[7]=R[q],_[6]=R[q+1],_[5]=R[q+2],_[4]=R[q+3],_[3]=R[q+4],_[2]=R[q+5],_[1]=R[q+6],_[0]=R[q+7],C[0]}return typeof Float32Array!="undefined"?(f=new Float32Array([-0]),w=(b=new Uint8Array(f.buffer))[3]===128,y.writeFloatLE=w?s:i,y.writeFloatBE=w?i:s,y.readFloatLE=w?a:m,y.readFloatBE=w?m:a):(y.writeFloatLE=o.bind(null,u),y.writeFloatBE=o.bind(null,c),y.readFloatLE=n.bind(null,v),y.readFloatBE=n.bind(null,g)),typeof Float64Array!="undefined"?(C=new Float64Array([-0]),w=(_=new Uint8Array(C.buffer))[7]===128,y.writeDoubleLE=w?I:x,y.writeDoubleBE=w?x:I,y.readDoubleLE=w?E:D,y.readDoubleBE=w?D:E):(y.writeDoubleLE=M.bind(null,u,0,4),y.writeDoubleBE=M.bind(null,c,4,0),y.readDoubleLE=S.bind(null,v,0,4),y.readDoubleBE=S.bind(null,g,4,0)),y}function u(y,o,n){o[n]=255&y,o[n+1]=y>>>8&255,o[n+2]=y>>>16&255,o[n+3]=y>>>24}function c(y,o,n){o[n]=y>>>24,o[n+1]=y>>>16&255,o[n+2]=y>>>8&255,o[n+3]=255&y}function v(y,o){return(y[o]|y[o+1]<<8|y[o+2]<<16|y[o+3]<<24)>>>0}function g(y,o){return(y[o]<<24|y[o+1]<<16|y[o+2]<<8|y[o+3])>>>0}e.exports=d(d)},function(module,exports,__webpack_require__){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,r){t.length=function(d){for(var u,c=0,v=0;v<d.length;++v)(u=d.charCodeAt(v))<128?c+=1:u<2048?c+=2:(64512&u)==55296&&(64512&d.charCodeAt(v+1))==56320?(++v,c+=4):c+=3;return c},t.read=function(d,u,c){if(c-u<1)return"";for(var v,g=null,y=[],o=0;u<c;)(v=d[u++])<128?y[o++]=v:191<v&&v<224?y[o++]=(31&v)<<6|63&d[u++]:239<v&&v<365?(v=((7&v)<<18|(63&d[u++])<<12|(63&d[u++])<<6|63&d[u++])-65536,y[o++]=55296+(v>>10),y[o++]=56320+(1023&v)):y[o++]=(15&v)<<12|(63&d[u++])<<6|63&d[u++],8191<o&&((g=g||[]).push(String.fromCharCode.apply(String,y)),o=0);return g?(o&&g.push(String.fromCharCode.apply(String,y.slice(0,o))),g.join("")):String.fromCharCode.apply(String,y.slice(0,o))},t.write=function(d,u,c){for(var v,g,y=c,o=0;o<d.length;++o)(v=d.charCodeAt(o))<128?u[c++]=v:(v<2048?u[c++]=v>>6|192:((64512&v)==55296&&(64512&(g=d.charCodeAt(o+1)))==56320?(++o,u[c++]=(v=65536+((1023&v)<<10)+(1023&g))>>18|240,u[c++]=v>>12&63|128):u[c++]=v>>12|224,u[c++]=v>>6&63|128),u[c++]=63&v|128);return c-y}},function(e,t,r){e.exports=function(d,u,c){var v=c||8192,g=v>>>1,y=null,o=v;return function(n){return n<1||g<n?d(n):(v<o+n&&(y=d(v),o=0),n=u.call(y,o,o+=n),7&o&&(o=1+(7|o)),n)}}},function(e,t,r){e.exports=u;var d=r(12);function u(g,y){this.lo=g>>>0,this.hi=y>>>0}var c=u.zero=new u(0,0),v=(c.toNumber=function(){return 0},c.zzEncode=c.zzDecode=function(){return this},c.length=function(){return 1},u.zeroHash="\0\0\0\0\0\0\0\0",u.fromNumber=function(g){if(g===0)return c;var y=g<0,o=(g=y?-g:g)>>>0;return g=(g-o)/4294967296>>>0,y&&(g=~g>>>0,o=~o>>>0,4294967295<++o&&(o=0,4294967295<++g&&(g=0))),new u(o,g)},u.from=function(g){if(typeof g=="number")return u.fromNumber(g);if(d.isString(g)){if(!d.Long)return u.fromNumber(parseInt(g,10));g=d.Long.fromString(g)}return g.low||g.high?new u(g.low>>>0,g.high>>>0):c},u.prototype.toNumber=function(g){var y;return!g&&this.hi>>>31?(g=1+~this.lo>>>0,y=~this.hi>>>0,-(g+4294967296*(y=g?y:y+1>>>0))):this.lo+4294967296*this.hi},u.prototype.toLong=function(g){return d.Long?new d.Long(0|this.lo,0|this.hi,Boolean(g)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(g)}},String.prototype.charCodeAt);u.fromHash=function(g){return g==="\0\0\0\0\0\0\0\0"?c:new u((v.call(g,0)|v.call(g,1)<<8|v.call(g,2)<<16|v.call(g,3)<<24)>>>0,(v.call(g,4)|v.call(g,5)<<8|v.call(g,6)<<16|v.call(g,7)<<24)>>>0)},u.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},u.prototype.zzEncode=function(){var g=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^g)>>>0,this.lo=(this.lo<<1^g)>>>0,this},u.prototype.zzDecode=function(){var g=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^g)>>>0,this.hi=(this.hi>>>1^g)>>>0,this},u.prototype.length=function(){var g=this.lo,y=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o==0?y==0?g<16384?g<128?1:2:g<2097152?3:4:y<16384?y<128?5:6:y<2097152?7:8:o<128?9:10}},function(e,t,r){e.exports=c;var d=r(24),u=((c.prototype=Object.create(d.prototype)).constructor=c,r(12));function c(){d.call(this)}function v(g,y,o){g.length<40?u.utf8.write(g,y,o):y.utf8Write?y.utf8Write(g,o):y.write(g,o)}c._configure=function(){c.alloc=u._Buffer_allocUnsafe,c.writeBytesBuffer=u.Buffer&&u.Buffer.prototype instanceof Uint8Array&&u.Buffer.prototype.set.name==="set"?function(g,y,o){y.set(g,o)}:function(g,y,o){if(g.copy)g.copy(y,o,0,g.length);else for(var n=0;n<g.length;)y[o++]=g[n++]}},c.prototype.bytes=function(g){var y=(g=u.isString(g)?u._Buffer_from(g,"base64"):g).length>>>0;return this.uint32(y),y&&this._push(c.writeBytesBuffer,y,g),this},c.prototype.string=function(g){var y=u.Buffer.byteLength(g);return this.uint32(y),y&&this._push(v,y,g),this},c._configure()},function(e,t,r){e.exports=c;var d=r(25),u=((c.prototype=Object.create(d.prototype)).constructor=c,r(12));function c(v){d.call(this,v)}c._configure=function(){u.Buffer&&(c.prototype._slice=u.Buffer.prototype.slice)},c.prototype.string=function(){var v=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+v,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+v,this.len))},c._configure()},function(e,t,r){t.Service=r(111)},function(e,t,r){e.exports=u;var d=r(12);function u(c,v,g){if(typeof c!="function")throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=c,this.requestDelimited=Boolean(v),this.responseDelimited=Boolean(g)}((u.prototype=Object.create(d.EventEmitter.prototype)).constructor=u).prototype.rpcCall=function c(v,g,y,o,n){if(!o)throw TypeError("request must be specified");var s=this;if(!n)return d.asPromise(c,s,v,g,y,o);if(s.rpcImpl)try{return s.rpcImpl(v,g[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(i,a){if(i)return s.emit("error",i,v),n(i);if(a!==null){if(!(a instanceof y))try{a=y[s.responseDelimited?"decodeDelimited":"decode"](a)}catch(m){return s.emit("error",m,v),n(m)}return s.emit("data",a,v),n(null,a)}s.end(!0)})}catch(i){return s.emit("error",i,v),void setTimeout(function(){n(i)},0)}else setTimeout(function(){n(Error("already ended"))},0)},u.prototype.end=function(c){return this.rpcImpl&&(c||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,r){e.exports={}},function(e,t,r){var d={"./ZIMFileStoreBase":40,"./ZIMFileStoreBase.ts":40,"./ZIMFileStoreImpl":41,"./ZIMFileStoreImpl.ts":41,"./ZIMIDBImpl":42,"./ZIMIDBImpl.ts":42};function u(v){return v=c(v),r(v)}function c(v){if(r.o(d,v))return d[v];throw(v=new Error("Cannot find module '"+v+"'")).code="MODULE_NOT_FOUND",v}u.keys=function(){return Object.keys(d)},u.resolve=c,(e.exports=u).id=113},function(e,t,r){var d={"./zego.fileHandler":44,"./zego.fileHandler.ts":44,"./zego.storeHandler":45,"./zego.storeHandler.ts":45};function u(v){return v=c(v),r(v)}function c(v){if(r.o(d,v))return d[v];throw(v=new Error("Cannot find module '"+v+"'")).code="MODULE_NOT_FOUND",v}u.keys=function(){return Object.keys(d)},u.resolve=c,(e.exports=u).id=114},function(e,t,r){t.byteLength=function(n){return 3*((n=o(n))[0]+(n=n[1]))/4-n},t.toByteArray=function(n){var s,i,a=(m=o(n))[0],m=m[1],f=new c(function(_,w){return 3*(_+w)/4-w}(a,m)),b=0,C=0<m?a-4:a;for(i=0;i<C;i+=4)s=u[n.charCodeAt(i)]<<18|u[n.charCodeAt(i+1)]<<12|u[n.charCodeAt(i+2)]<<6|u[n.charCodeAt(i+3)],f[b++]=s>>16&255,f[b++]=s>>8&255,f[b++]=255&s;return m===2&&(s=u[n.charCodeAt(i)]<<2|u[n.charCodeAt(i+1)]>>4,f[b++]=255&s),m===1&&(s=u[n.charCodeAt(i)]<<10|u[n.charCodeAt(i+1)]<<4|u[n.charCodeAt(i+2)]>>2,f[b++]=s>>8&255,f[b++]=255&s),f},t.fromByteArray=function(n){for(var s,i=n.length,a=i%3,m=[],f=0,b=i-a;f<b;f+=16383)m.push(function(C,_,w){for(var M,S=[],I=_;I<w;I+=3)M=(C[I]<<16&16711680)+(C[I+1]<<8&65280)+(255&C[I+2]),S.push(function(x){return d[x>>18&63]+d[x>>12&63]+d[x>>6&63]+d[63&x]}(M));return S.join("")}(n,f,b<f+16383?b:f+16383));return a==1?(s=n[i-1],m.push(d[s>>2]+d[s<<4&63]+"==")):a==2&&(s=(n[i-2]<<8)+n[i-1],m.push(d[s>>10]+d[s>>4&63]+d[s<<2&63]+"=")),m.join("")};for(var d=[],u=[],c=typeof Uint8Array!="undefined"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,y=v.length;g<y;++g)d[g]=v[g],u[v.charCodeAt(g)]=g;function o(n){var s=n.length;if(0<s%4)throw new Error("Invalid string. Length must be a multiple of 4");return s=(n=(n=n.indexOf("="))===-1?s:n)===s?0:4-n%4,[n,s]}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){t.read=function(r,d,u,c,v){var g,y,o=8*v-c-1,n=(1<<o)-1,s=n>>1,i=-7,a=u?v-1:0,m=u?-1:1;for(v=r[d+a],a+=m,g=v&(1<<-i)-1,v>>=-i,i+=o;0<i;g=256*g+r[d+a],a+=m,i-=8);for(y=g&(1<<-i)-1,g>>=-i,i+=c;0<i;y=256*y+r[d+a],a+=m,i-=8);if(g===0)g=1-s;else{if(g===n)return y?NaN:1/0*(v?-1:1);y+=Math.pow(2,c),g-=s}return(v?-1:1)*y*Math.pow(2,g-c)},t.write=function(r,d,u,c,v,g){var y,o,n=8*g-v-1,s=(1<<n)-1,i=s>>1,a=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=c?0:g-1,f=c?1:-1;for(g=d<0||d===0&&1/d<0?1:0,d=Math.abs(d),isNaN(d)||d===1/0?(o=isNaN(d)?1:0,y=s):(y=Math.floor(Math.log(d)/Math.LN2),d*(c=Math.pow(2,-y))<1&&(y--,c*=2),2<=(d+=1<=y+i?a/c:a*Math.pow(2,1-i))*c&&(y++,c/=2),s<=y+i?(o=0,y=s):1<=y+i?(o=(d*c-1)*Math.pow(2,v),y+=i):(o=d*Math.pow(2,i-1)*Math.pow(2,v),y=0));8<=v;r[u+m]=255&o,m+=f,o/=256,v-=8);for(y=y<<v|o,n+=v;0<n;r[u+m]=255&y,m+=f,y/=256,n-=8);r[u+m-f]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(d){return r.call(d)=="[object Array]"}},function(e,t,r){(function(d){var u=d!==void 0&&d||typeof self!="undefined"&&self||window,c=Function.prototype.apply;function v(g,y){this._id=g,this._clearFn=y}t.setTimeout=function(){return new v(c.call(setTimeout,u,arguments),clearTimeout)},t.setInterval=function(){return new v(c.call(setInterval,u,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(g){g&&g.close()},v.prototype.unref=v.prototype.ref=function(){},v.prototype.close=function(){this._clearFn.call(u,this._id)},t.enroll=function(g,y){clearTimeout(g._idleTimeoutId),g._idleTimeout=y},t.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},t._unrefActive=t.active=function(g){clearTimeout(g._idleTimeoutId);var y=g._idleTimeout;0<=y&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},y))},r(119),t.setImmediate=typeof self!="undefined"&&self.setImmediate||d!==void 0&&d.setImmediate||this&&this.setImmediate,t.clearImmediate=typeof self!="undefined"&&self.clearImmediate||d!==void 0&&d.clearImmediate||this&&this.clearImmediate}).call(this,r(11))},function(e,t,r){(function(d,u){(function(c,v){var g,y,o,n,s,i,a,m;function f(C){delete y[C]}function b(C){if(o)setTimeout(b,0,C);else{var _=y[C];if(_){o=!0;try{var w=_,M=w.callback,S=w.args;switch(S.length){case 0:M();break;case 1:M(S[0]);break;case 2:M(S[0],S[1]);break;case 3:M(S[0],S[1],S[2]);break;default:M.apply(void 0,S)}}finally{f(C),o=!1}}}}c.setImmediate||(g=1,o=!(y={}),n=c.document,m=(m=Object.getPrototypeOf&&Object.getPrototypeOf(c))&&m.setTimeout?m:c,{}.toString.call(c.process)==="[object process]"?s=function(C){u.nextTick(function(){b(C)})}:function(){var C,_;if(c.postMessage&&!c.importScripts)return C=!0,_=c.onmessage,c.onmessage=function(){C=!1},c.postMessage("","*"),c.onmessage=_,C}()?function(){function C(w){w.source===c&&typeof w.data=="string"&&w.data.indexOf(_)===0&&b(+w.data.slice(_.length))}var _="setImmediate$"+Math.random()+"$";c.addEventListener?c.addEventListener("message",C,!1):c.attachEvent("onmessage",C),s=function(w){c.postMessage(_+w,"*")}}():s=c.MessageChannel?((a=new MessageChannel).port1.onmessage=function(C){b(C.data)},function(C){a.port2.postMessage(C)}):n&&"onreadystatechange"in n.createElement("script")?(i=n.documentElement,function(C){var _=n.createElement("script");_.onreadystatechange=function(){b(C),_.onreadystatechange=null,i.removeChild(_),_=null},i.appendChild(_)}):function(C){setTimeout(b,0,C)},m.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var _=new Array(arguments.length-1),w=0;w<_.length;w++)_[w]=arguments[w+1];return y[g]={callback:C,args:_},s(g),g++},m.clearImmediate=f)})(typeof self=="undefined"?d===void 0?this:d:self)}).call(this,r(11),r(47))},function(e,t){e.exports={STRING:2,BOOLEAN:4,NUMBER:8}}])})})(zegoZimWeb);const appConfig={appID:3417014186,serverSecret:""};if(window.location.search){const e=new URLSearchParams(window.location.search),t=Number(e.get("a")),r=e.get("s");Object.assign(appConfig,{appID:t,serverSecret:r}),console.log("appConfig",JSON.stringify(appConfig))}const avatarPrefix="https://storage.zego.im/zim/example/web/assets/";zegoZimWeb.exports.ZIM.create(appConfig);const zim=zegoZimWeb.exports.ZIM.getInstance(),SDKVersion=zegoZimWeb.exports.ZIM.getVersion();window.ZIM=zegoZimWeb.exports.ZIM;window.zim=zim;function generateTokenFromServer(e,t){return fetch(`${e}/access_token?userID=${t}&expired_ts=7200`,{method:"GET"}).then(r=>r.json())}const store=defineStore("zimStore",{state:()=>({isLogged:!1,activedTab:"conv",callInfo:{isShow:!1,callID:""},user:{userID:"",userName:"",memberAvatarUrl:""},userMap:{},msgReceiptMap:{},convs:[],groupList:[],memberList:[],totalMemberCount:0,convInfo:{conversationID:"",type:0,unreadMessageCount:0,orderKey:0,notificationStatus:0,lastMessage:null,conversationName:"",notice:""},msgList:[]}),getters:{unreadMessageCount(e){return e.convs.reduce((t,r)=>{const d=r.unreadMessageCount<=0||r.notificationStatus==2?0:r.unreadMessageCount;return t+d},0)}},actions:{async login(e){document.title=`ZIM Example ${SDKVersion} ${e.userID}`,this.user=e;const t=await generateTokenFromServer("https://nextjs-token-zim.vercel.app/api",e.userID);return zim.login(e,t.token).then(r=>(this.isLogged=!0,zim.queryUsersInfo([this.user.userID],{isQueryFromServer:!0}).then(({userList:d})=>{this.user={...d[0].baseInfo,memberAvatarUrl:d[0].userAvatarUrl},this.userMap[this.user.userID]={...this.user}}),r)).catch(on_error)},logout(e=!0){return this.isLogged=!1,e&&zim.logout()},setUserInfo(e){e.name&&zim.updateUserName(e.name).then(()=>this.user.userName=e.name);let t=e.avatar;t&&(t=avatarPrefix+t,this.userMap[this.user.userID]={...this.userMap[this.user.userID],me:t},this.user.memberAvatarUrl=t,zim.updateUserAvatarUrl(t))},setUserMap(e){!e||!e.length||(zim.queryUsersInfo(e,{isQueryFromServer:!0}).then(({userList:t})=>{console.warn({userList:t}),t.forEach(r=>{this.userMap[r.baseInfo.userID]={...r.baseInfo,memberAvatarUrl:r.userAvatarUrl}})}),console.warn("setUserMap",e,JSON.stringify(this.userMap)))},queryConversationList(){return zim.queryConversationList({count:1e3}).then(e=>{console.warn("queryConversationList",e),this.convs=e.conversationList,this.convs.sort((r,d)=>d.orderKey-r.orderKey);const t=[];return e.conversationList.forEach(r=>{r.type==0&&(!r.conversationName||!r.conversationAvatarUrl?t.push(r.conversationID):this.userMap[r.conversationID]={...this.userMap[r.conversationID],userID:r.conversationID,userName:r.conversationName,memberAvatarUrl:r.conversationAvatarUrl})}),this.setUserMap(t),e}).catch(on_error)},conversationChanged(e){console.warn("conversationChanged",e);let t=!1;const r={};this.convs.forEach(d=>r[d.type+d.conversationID]=d),e.infoList.forEach(d=>{const u=d.conversation.type+d.conversation.conversationID;r[u]?(t=!0,Object.assign(r[u],d.conversation)):this.convs.push(d.conversation)}),t&&(this.convs=[...this.convs]),this.convs.sort((d,u)=>u.orderKey-d.orderKey)},messageReceiptChanged(e){const t={...this.msgReceiptMap};e.infos.forEach(r=>t[r.messageID]=r),this.msgReceiptMap=t},setConversationNotificationStatus(e,t,r){return zim.setConversationNotificationStatus(e,t,r).catch(on_error)},clearConversationUnreadMessageCount(e,t){return zim.clearConversationUnreadMessageCount(e,t).catch(on_error)},queryHistoryMessage(e,t,r){return r={count:1e3,reverse:!0,...r},zim.queryHistoryMessage(e,t,r).then(d=>(this.msgList.length=0,d.messageList.forEach(u=>this.msgList.push({...u})),d)).catch(on_error)},sendMessage(e,t,r,d=!0,u=!1){const c=u?Uint8Array.from(Array.from(unescape(encodeURIComponent(e))).map(y=>y.charCodeAt(0))):e;if(!c.length)return Promise.reject();const v={message:c,type:u?2:1},g=u?void 0:{title:"Received [Text] message from "+t,content:e,payload:""};return zim.sendMessage(v,t,r,{priority:2,pushConfig:g,hasReceipt:d}).then(()=>(console.log("sendMessage",{convID:t,convType:r,msgObj:v}),{...v})).catch(y=>(console.warn("sendMessage",{convID:t,convType:r,msgObj:v,error:y}),on_error(y),{...v}))},sendMediaMessage(e,t,r,d,u){var v;const c=r==1?void 0:{title:"Received [Media] message from "+t,content:((v=e.fileLocalPath)==null?void 0:v.name)||e.fileDownloadUrl||"Media File Name",payload:""};return zim.sendMediaMessage(e,t,r,{priority:2,pushConfig:c,hasReceipt:d},{onMessageAttached:console.log,onMediaUploadingProgress:u}).then(()=>(console.log("sendMediaMessage",{message:e,convID:t,convType:r}),{...e})).catch(g=>(console.warn("sendMediaMessage",{message:e,convID:t,convType:r,error:g}),on_error(g),{...e}))},insertMessageToLocalDB(e,t,r,d){zim.insertMessageToLocalDB(e,t,r,d).then(u=>{t==this.convInfo.conversationID&&r==this.convInfo.type&&this.msgList.push(u.message)})},ackMessageReceipt(e){zim.sendMessageReceiptsRead([e],e.conversationID,e.conversationType).then(()=>{e.receiptStatus=2}).catch(on_error)},createGroup(e,t,r={}){return e.groupAvatarUrl&&(e.groupAvatarUrl=avatarPrefix+e.groupAvatarUrl),console.warn("createGroup groupInfo",e),zim.createGroup(e,t,r).catch(on_error)},joinGroup(e){return zim.joinGroup(e).catch(on_error)},setGroupAttributes(e,t){return zim.setGroupAttributes(t,e).catch(on_error)},queryGroupAttributes(e,t){return t!=null&&t.length?zim.queryGroupAttributes(t,e).catch(on_error):zim.queryGroupAllAttributes(e).catch(on_error)},createRoom(e,t={}){const{roomID:r,roomName:d}=e;return zim.createRoom({roomID:r,roomName:d}).catch(on_error)},joinRoom(e){return zim.joinRoom(e).catch(on_error)},leaveRoom(e){return zim.leaveRoom(e).catch(on_error)},setRoomAttributes(e,t){const r={isForce:!0,isUpdateOwner:!0,isDeleteAfterOwnerLeft:!0};return zim.setRoomAttributes(e,t,r).catch(on_error)},queryRoomAllAttributes(e){return zim.queryRoomAllAttributes(e).catch(on_error)},getGroupList(){return zim.queryGroupList().then(e=>(this.groupList.length=0,this.groupList.push(...e.groupList),e)).catch(on_error)},updateGroupName(e,t){return zim.updateGroupName(t,e).catch(on_error)},updateGroupAvatarUrl(e,t){return t=avatarPrefix+t,zim.updateGroupAvatarUrl(t,e).catch(on_error)},updateGroupNotice(e,t){return zim.updateGroupNotice(t,e).catch(on_error)},transferGroupOwner(e,t){return zim.transferGroupOwner(t,e).catch(on_error)},inviteUsersIntoGroup(e,t){return zim.inviteUsersIntoGroup(t,e).catch(on_error)},kickGroupMembers(e,t){return zim.kickGroupMembers(t,e).catch(on_error)},queryGroupMemberList(e="",t={}){e=e||this.convInfo.conversationID;const d={nextFlag:0,count:100,...t};return zim.queryGroupMemberList(e,d).then(u=>{console.warn("queryGroupMemberList",u),this.memberList.length=0,this.memberList.push(...u.userList),u.userList.forEach(c=>{this.userMap[c.userID]={...c}}),console.warn("userMap",JSON.stringify(this.userMap)),u.nextFlag&&this.queryGroupMemberList(e,{nextFlag:u.nextFlag})}).catch(on_error)},queryGroupMemberCount(e=""){return e=e||this.convInfo.conversationID,zim.queryGroupMemberCount(e).then(t=>{this.totalMemberCount=t.count}).catch(on_error)},queryGroupInfo(e){return zim.queryGroupInfo(e).catch(on_error)},deleteConversation(e,t,r){const d={isAlsoDeleteServerConversation:!0,isAlsoDeleteLocalHistoryMessage:!0,...r};return zim.deleteConversation(e,t,d).catch(on_error)},leaveGroup(e){return zim.leaveGroup(e).then(t=>{const r=this.groupList.findIndex(d=>d.groupID==e);return r!==-1&&this.groupList.splice(r,-1),t}).catch(on_error)},dismissGroup(e){return zim.dismissGroup(e).then(t=>{const r=this.groupList.findIndex(d=>d.groupID==e);return r!==-1&&this.groupList.splice(r,-1),t}).catch(on_error)},queryRoomMember(e="",t={}){e=e||this.convInfo.conversationID;const d={nextFlag:"",count:1e3,...t};return zim.queryRoomMemberList(e,d).then(u=>{this.memberList.length=0,this.memberList.push(...u.memberList),u.memberList.forEach(c=>{this.userMap[c.userID]={...c}}),u.nextFlag&&this.queryRoomMember(e,{nextFlag:u.nextFlag})}).catch(on_error)},queryRoomOnlineMemberCount(e){return zim.queryRoomOnlineMemberCount(e).then(t=>{this.totalMemberCount=t.count}).catch(on_error)},queryAllGroupInfo(e){this.queryGroupInfo(e).then(t=>{this.convInfo.conversationName=t.groupInfo.baseInfo.groupName,this.convInfo.notice=t.groupInfo.groupNotice,this.convInfo.notificationStatus=t.groupInfo.notificationStatus||0}),this.queryGroupMemberList(),this.queryGroupAttributes(e).then(t=>{this.convInfo.note=t.groupAttributes.remark})},callInvite(e,t){return zim.callInvite(e,t).then(r=>{this.setCallInfo({...r,isCaller:!0,isShow:!0})}).catch(on_error)},callCancel(e,t,r){return zim.callCancel(e,t,r).catch(on_error)},callAccept(e,t){return zim.callAccept(e,t).catch(on_error)},callReject(e,t){return zim.callReject(e,t).catch(on_error)},setCallInfo(e={}){this.callInfo={...this.callInfo,...e}},revokeMessage(e){return zim.revokeMessage(e,{revokeExtendedData:`\u2728 "${e.senderUserID}" revoked a mesaage. \u2728`}).catch(on_error)},deleteMessage(e,t){return zim.deleteMessages([e],e.conversationID,e.conversationType,{isAlsoDeleteServerMessage:!0}).catch(on_error)}}}),on_error=e=>{console.error(e);const t=store();return(e.code==6000121||e.code==6000111)&&t.logout(!1),ElNotification({title:e.code,message:e.message,type:"error"}),e};window.$store=store;var base="",loading="",form="",button="",formItem="",input="";const _hoisted_1$6={class:"container login-from"},_hoisted_2$5=createBaseVNode("div",{class:"toolbar"},"ZIM Example",-1),_sfc_main$6=defineComponent({__name:"Login",setup(e){const t=ref(!1),r=store(),d=reactive({userID:"",userName:""}),u=()=>{t.value=!0,r.login(d).then(()=>t.value=!1)};return(c,v)=>{const g=ElInput,y=ElFormItem,o=ElButton,n=ElForm,s=ElLoadingDirective;return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$6,[_hoisted_2$5,createVNode(n,{model:d,"label-width":"90px"},{default:withCtx(()=>[createVNode(y,{label:"User ID"},{default:withCtx(()=>[createVNode(g,{modelValue:d.userID,"onUpdate:modelValue":v[0]||(v[0]=i=>d.userID=i)},null,8,["modelValue"])]),_:1}),createVNode(y,{label:"User Name"},{default:withCtx(()=>[createVNode(g,{modelValue:d.userName,"onUpdate:modelValue":v[1]||(v[1]=i=>d.userName=i)},null,8,["modelValue"])]),_:1}),createVNode(y,null,{default:withCtx(()=>[createVNode(o,{type:"primary",onClick:u},{default:withCtx(()=>[createTextVNode("Login")]),_:1})]),_:1})]),_:1},8,["model"])])),[[s,t.value]])}}});var badge="",avatar="",dialog="",overlay="",radioGroup="",radio="",tag="",option="",optionGroup="",scrollbar="",popper="",select="",dropdown="",dropdownMenu="",dropdownItem="",icon="",checkboxGroup="",checkbox="",divider="",Member_vue_vue_type_style_index_0_scoped_true_lang="",_export_sfc=(e,t)=>{const r=e.__vccOpts||e;for(const[d,u]of t)r[d]=u;return r};const _withScopeId$1=e=>(pushScopeId("data-v-732b30fe"),e=e(),popScopeId(),e),_hoisted_1$5={class:"tools"},_hoisted_2$4=_withScopeId$1(()=>createBaseVNode("span",{class:"tips"},"Notice",-1)),_hoisted_3$4={class:"padding"},_hoisted_4$4={key:0,class:"tips padding"},_hoisted_5$4={key:1,class:"padding"},_hoisted_6$4={class:"tools member"},_hoisted_7$4={class:"tips"},_hoisted_8$4={class:"padding"},_sfc_main$5=defineComponent({__name:"Member",setup(e){const t=store(),r=t.convInfo,d=t.user,u=t.userMap,c=t.memberList,v=t.totalMemberCount;ref("conv");const g=["Edit group info","Invite member","Delete member","Change the group owner to","Edit group notice"],y=ref(0),o=ref(""),n=reactive({name:"",notice:"",avatar:"",note:"",ids:""}),s=[{label:"1.jpeg",value:"1.jpeg"},{label:"2.jpeg",value:"2.jpeg"},{label:"3.jpeg",value:"3.jpeg"},{label:"4.jpeg",value:"4.jpeg"},{label:"5.jpeg",value:"5.jpeg"}],i={1:"Joined",2:"Left",4:"KickedOut",5:"Invited"};onMounted(()=>{n.note=r.note,zim.on("groupMemberStateChanged",(x,E)=>{E.groupID==r.conversationID&&r.type==2&&(t.queryGroupMemberList(),t.queryGroupMemberCount());const D=E.userList.map(q=>q.userID).join(),R=`event: ${i[E.event]}, operator: ${E.operatedInfo.userID}, ids: ${D}`;t.insertMessageToLocalDB({type:1,message:R},E.groupID,2,E.operatedInfo.userID)}),zim.on("roomMemberJoined",(x,E)=>{E.roomID==r.conversationID&&r.type==1&&(t.queryRoomMember(),t.queryRoomOnlineMemberCount(E.roomID))}),zim.on("roomMemberLeft",(x,E)=>{E.roomID==r.conversationID&&r.type==1&&(t.queryRoomMember(),t.queryRoomOnlineMemberCount(E.roomID))})});const a=x=>{y.value=x,n.name="",n.notice="",n.avatar="",n.note="",n.ids=""},m=()=>{n.name&&t.updateGroupName(r.conversationID,n.name).then(x=>{x.code||(t.queryConversationList(),ElMessage({message:"Success",type:"success"}))})},f=()=>{n.notice&&t.updateGroupNotice(r.conversationID,n.notice).then(x=>{x.code||(t.queryConversationList(),t.convInfo.notice=n.notice,ElMessage({message:"Success",type:"success"}))})},b=()=>{n.avatar&&t.updateGroupAvatarUrl(r.conversationID,n.avatar).then(x=>{x.code||(t.queryConversationList(),t.convInfo.avatar=n.avatar,ElMessage({message:"Success",type:"success"}))})},C=()=>{n.note&&t.setGroupAttributes(r.conversationID,{remark:n.note}).then(()=>{r.note=n.note})},_=()=>{if(n.ids){const x=n.ids.split(",");t.inviteUsersIntoGroup(r.conversationID,x).then(E=>{E.code||(t.queryGroupMemberList(),ElMessage({message:"Success",type:"success"}))})}},w=()=>{o.value&&t.kickGroupMembers(r.conversationID,[o.value]).then(x=>{x.code||(t.queryGroupMemberList(),ElMessage({message:"Success",type:"success"}))})},M=()=>{!o.value||t.transferGroupOwner(r.conversationID,o.value).then(x=>{x.code||(t.queryGroupMemberList(),ElMessage({message:"Success",type:"success"}))})},S=()=>{n.notice&&t.setRoomAttributes({RoomNotice:n.notice},r.conversationID).then(x=>{x.code||(t.convInfo.notice=n.notice,ElMessage({message:"Success",type:"success"}))})},I=()=>{y.value==1?(m(),f(),C(),b()):y.value==2?_():y.value==3?w():y.value==4?M():y.value==5&&S(),y.value=0};return(x,E)=>{const D=ElButton,R=ElAvatar,q=ElInput,A=ElFormItem,j=ElOption,H=ElSelect,W=ElRadio,X=ElRadioGroup,ee=ElForm,ae=ElDialog,N=ElScrollbar;return openBlock(),createBlock(N,{class:"container-member"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_1$5,[_hoisted_2$4,createVNode(D,{type:"text",icon:unref(edit),onClick:E[0]||(E[0]=k=>a(unref(r).type==2?1:5))},null,8,["icon"])]),createBaseVNode("span",_hoisted_3$4,toDisplayString(unref(r).notice||"Notice"),1),unref(r).type==2?(openBlock(),createElementBlock("p",_hoisted_4$4,"Remark")):createCommentVNode("",!0),unref(r).type==2?(openBlock(),createElementBlock("span",_hoisted_5$4,toDisplayString(unref(r).note||"Remark"),1)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_6$4,[createBaseVNode("span",_hoisted_7$4," Members("+toDisplayString(unref(v))+")",1),unref(r).type==2?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(D,{type:"text",icon:unref(plus),onClick:E[1]||(E[1]=k=>a(2))},null,8,["icon"]),createVNode(D,{type:"text",icon:unref(minus),onClick:E[2]||(E[2]=k=>a(3))},null,8,["icon"]),createVNode(D,{type:"text",icon:unref(_switch),onClick:E[3]||(E[3]=k=>a(4))},null,8,["icon"])],64)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_8$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(c),k=>{var L;return openBlock(),createElementBlock("li",{key:k.userID},[createVNode(R,{size:24,src:(L=unref(u)[k.userID])==null?void 0:L.memberAvatarUrl},null,8,["src"]),createBaseVNode("span",null,toDisplayString(k.userName||k.userID),1)])}),128))]),createVNode(ae,{modelValue:y.value,"onUpdate:modelValue":E[11]||(E[11]=k=>y.value=k),center:!0,title:g[y.value-1],width:"40%",top:"50px"},{footer:withCtx(()=>[createVNode(D,{type:"primary",onClick:I},{default:withCtx(()=>[createTextVNode("OK")]),_:1})]),default:withCtx(()=>[y.value<3?(openBlock(),createBlock(ee,{key:0,model:n,"label-width":"90px"},{default:withCtx(()=>[y.value==1?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(A,{label:"Name"},{default:withCtx(()=>[createVNode(q,{modelValue:n.name,"onUpdate:modelValue":E[4]||(E[4]=k=>n.name=k)},null,8,["modelValue"])]),_:1}),createVNode(A,{label:"Avatar"},{default:withCtx(()=>[createVNode(H,{modelValue:n.avatar,"onUpdate:modelValue":E[5]||(E[5]=k=>n.avatar=k)},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(s,k=>createVNode(j,{key:k.value,label:k.label,value:k.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),createVNode(A,{label:"Notice"},{default:withCtx(()=>[createVNode(q,{modelValue:n.notice,"onUpdate:modelValue":E[6]||(E[6]=k=>n.notice=k)},null,8,["modelValue"])]),_:1}),createVNode(A,{label:"Remark"},{default:withCtx(()=>[createVNode(X,{modelValue:n.note,"onUpdate:modelValue":E[7]||(E[7]=k=>n.note=k)},{default:withCtx(()=>[createVNode(W,{label:"Socialize"}),createVNode(W,{label:"Delicacy"}),createVNode(W,{label:"Fitness"})]),_:1},8,["modelValue"])]),_:1})],64)):(openBlock(),createBlock(A,{key:1,label:"User ID"},{default:withCtx(()=>[createVNode(q,{modelValue:n.ids,"onUpdate:modelValue":E[8]||(E[8]=k=>n.ids=k),placeholder:"Separated by ','",type:"textarea"},null,8,["modelValue"])]),_:1}))]),_:1},8,["model"])):y.value==5?(openBlock(),createBlock(ee,{key:1,model:n,"label-width":"90px"},{default:withCtx(()=>[createVNode(A,{label:"Notice"},{default:withCtx(()=>[createVNode(q,{modelValue:n.notice,"onUpdate:modelValue":E[9]||(E[9]=k=>n.notice=k)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):(openBlock(),createBlock(X,{key:2,modelValue:o.value,"onUpdate:modelValue":E[10]||(E[10]=k=>o.value=k),style:{"max-height":"260px"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(c),k=>(openBlock(),createBlock(W,{key:k.userID,label:k.userID,disabled:k.userID==unref(d).userID},{default:withCtx(()=>[createTextVNode(toDisplayString(k.userName||k.userID),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue"]))]),_:1},8,["modelValue","title"])]),_:1})}}});var Member=_export_sfc(_sfc_main$5,[["__scopeId","data-v-732b30fe"]]),Chat_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$4={class:"container-chat"},_hoisted_2$3={class:"user-list"},_hoisted_3$3={class:"dialog-footer"},_hoisted_4$3={class:"toolbar"},_hoisted_5$3={class:"name"},_hoisted_6$3={class:"content"},_hoisted_7$3={class:"chat"},_hoisted_8$3={class:"msg-wrap"},_hoisted_9$3={class:"name"},_hoisted_10$3=["onContextmenu"],_hoisted_11$2={key:0},_hoisted_12$1={key:4,class:"msg"},_hoisted_13=["src"],_hoisted_14={key:6,class:"msg"},_hoisted_15=["href"],_hoisted_16=["src"],_hoisted_17=["poster","src"],_hoisted_18={key:1,class:"tips msg"},_hoisted_19={class:"msgbox"},_hoisted_20={class:"tool"},_hoisted_21={class:"feature-bar"},_hoisted_22={key:0,class:"call-bar"},_sfc_main$4=defineComponent({__name:"Chat",props:{id:null,type:null,name:null},setup(e){const t=e,r=ref(),d=ref(),u=ref(!1),c=store(),v=c.convInfo,g=ref(!0),y=ref(!1),o=ref(""),n=ref(!1);let s=c.msgList;const i=computed(()=>c.userMap),a=computed(()=>c.memberList),m=computed(()=>c.msgReceiptMap),f=ref(!1),b=ref([]),C=reactive({show:!1,readCount:0,unreadCount:0,readList:[],unreadList:[]});let _="";const w=$=>/^https?:\/\/\w*.(png|jpg|jpeg|svg|webp|gif|bmp)$/i.test($),M=()=>{if(w(o.value)){c.sendMediaMessage({fileDownloadUrl:o.value,type:11},v.conversationID,v.type,g.value,($,B,G)=>{console.warn("file process",{message:$,currentSize:B,totalSize:G})}).then($=>{$.conversationID&&s.push($)});return}c.sendMessage(o.value,v.conversationID,+v.type,g.value,y.value).then($=>{$.conversationID&&s.push($)}),o.value=""},S=$=>{var G,Z;const B=$.senderUserID;if(v.type==0)return $.direction?(G=c.userMap[B])==null?void 0:G.memberAvatarUrl:c.user.memberAvatarUrl;if(v.type==2)return(Z=c.userMap[B])==null?void 0:Z.memberAvatarUrl},I={11:"image/*",13:"audio/*",14:"video/*"},x=$=>{let B=document.createElement("input");B.type="file",$!=12&&(B.accept=I[$]),B.onchange=function(){const G=this.files[0];console.log({file:G,convInfo:v});const Z={fileLocalPath:G,type:$};$==13&&(Z.audioDuration=5),$==14&&(Z.videoDuration=5),u.value=!0,c.sendMediaMessage(Z,v.conversationID,v.type,g.value,(re,z,ie)=>{console.warn("file process",{message:re,currentSize:z,totalSize:ie})}).then(re=>{re.conversationID&&s.push(re),u.value=!1}),B=null},B.click()},E=()=>{zim.on("groupNameUpdated",($,B)=>{const{groupID:G,groupName:Z}=B;G==v.conversationID&&v.type==2&&(v.conversationName=Z);const re=`${B.operatedInfo.userID} updated group name`;c.insertMessageToLocalDB({type:1,message:re},B.groupID,2,B.operatedInfo.userID)}),zim.on("groupNoticeUpdated",($,B)=>{B.groupID==v.conversationID&&v.type==2&&(v.notice=B.groupNotice);const G=`${B.operatedInfo.userID} updated group notice`;c.insertMessageToLocalDB({type:1,message:G},B.groupID,2,B.operatedInfo.userID)}),zim.on("groupAttributesUpdated",($,B)=>{B.groupID==v.conversationID&&v.type==2&&(v.note=B.infoList[0].groupAttributes.remark);const G=`${B.operatedInfo.userID} updated group attributes`;c.insertMessageToLocalDB({type:1,message:G},B.groupID,2,B.operatedInfo.userID)}),zim.on("roomAttributesUpdated",($,B)=>{B.roomID==v.conversationID&&v.type==1&&(v.notice=B.infos[0].roomAttributes.notice)}),zim.on("messageReceiptChanged",($,B)=>{c.messageReceiptChanged(B)})},D=()=>{c.deleteConversation(v.conversationID,v.type).then($=>{$.code||(s.length=0)})},R=()=>{c.leaveGroup(v.conversationID).then($=>{$.code||(c.queryConversationList(),c.convInfo.conversationID="")})},q=()=>{c.dismissGroup(v.conversationID)},A=()=>{c.leaveRoom(v.conversationID)},j=$=>{if(_=$,v.type!==0){b.value=[],f.value=!0;return}const B=[v.conversationID],G={timeout:30,extendedData:$||"",pushConfig:{title:"web platform push title",content:"web platform push content",payload:"web platform push payload",resourcesID:window.__resourceId__||""}};c.callInvite(B,G).then(Z=>{c.setCallInfo({...Z,...G,invitees:B,isCaller:!0,isShow:!0}),ElMessage("Call success!")})},H=()=>{console.log({callTag:_});const $=[...b.value],B={timeout:30,extendedData:_||"",pushConfig:{title:"web platform push title",content:"web platform push content",payload:"web platform push payload",resourcesID:window.__resourceId__||""}};c.callInvite($,B).then(G=>{f.value=!1,c.setCallInfo({...G,...B,invitees:$,isCaller:!0,isShow:!0}),ElMessage("Call success!")})},W=$=>{$.receiptStatus==1&&c.ackMessageReceipt($)},X=($,B)=>{$.conversationType==2&&(zim.queryGroupMessageReceiptReadMemberList($,$.conversationID,{nextFlag:0,count:100}).then(G=>{C.show=!0,C.readList=G.userList,C.readCount=(B==null?void 0:B.readMemberCount)||G.userList.length}),zim.queryGroupMessageReceiptUnreadMemberList($,$.conversationID,{nextFlag:0,count:100}).then(G=>{C.show=!0,C.unreadList=G.userList,C.unreadCount=(B==null?void 0:B.unreadMemberCount)||G.userList.length}))},ee=$=>{$&&(g.value=!1)},ae=$=>{$&&(y.value=!1)},N=$=>{if($.direction||$.sentStatus!=1)return;const B={...$,isRevoke:!$.isRevoke},G=s.indexOf($);s.splice(G,1,B)},k=$=>{c.revokeMessage($).then(B=>{if(B.code||!B.message)return;const G=s.indexOf($);s.splice(G,1,B.message)})},L=$=>{c.deleteMessage($).then(B=>{if(B.code)return;const G=s.indexOf($);s.splice(G,1)})};return onMounted(()=>{E()}),watch(computed(()=>s.length),()=>{setTimeout(()=>{d.value.setScrollTop(r.value.clientHeight)})}),($,B)=>{const G=ElDivider,Z=ElTag,re=ElDialog,z=ElCheckbox,ie=ElCheckboxGroup,se=ElButton,Ce=ElIcon,Se=ElDropdownItem,F=ElDropdownMenu,J=ElDropdown,he=ElAvatar,de=ElBadge,ge=ElInput,_e=ElLoadingDirective;return openBlock(),createElementBlock("div",_hoisted_1$4,[createVNode(re,{modelValue:C.show,"onUpdate:modelValue":B[0]||(B[0]=fe=>C.show=fe),title:"Receipt member info"},{default:withCtx(()=>[createVNode(G,null,{default:withCtx(()=>[createTextVNode("ReadList("+toDisplayString(C.readCount)+")",1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.readList,fe=>(openBlock(),createBlock(Z,{key:fe.userID},{default:withCtx(()=>[createTextVNode(toDisplayString(fe.userID),1)]),_:2},1024))),128)),createVNode(G,null,{default:withCtx(()=>[createTextVNode("UnreadList("+toDisplayString(C.unreadCount)+")",1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.unreadList,fe=>(openBlock(),createBlock(Z,{key:fe.userID},{default:withCtx(()=>[createTextVNode(toDisplayString(fe.userID),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),createVNode(re,{modelValue:f.value,"onUpdate:modelValue":B[3]||(B[3]=fe=>f.value=fe),title:"Choose users"},{footer:withCtx(()=>[createBaseVNode("span",_hoisted_3$3,[createVNode(se,{onClick:B[2]||(B[2]=fe=>f.value=!1)},{default:withCtx(()=>[createTextVNode("Cancel")]),_:1}),createVNode(se,{type:"primary",onClick:H},{default:withCtx(()=>[createTextVNode("Confirm")]),_:1})])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_2$3,[createVNode(ie,{modelValue:b.value,"onUpdate:modelValue":B[1]||(B[1]=fe=>b.value=fe)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a),fe=>(openBlock(),createElementBlock("div",{key:fe.userID},[(openBlock(),createBlock(z,{label:fe.userID,key:fe.userID},null,8,["label"])),createBaseVNode("span",null," - "+toDisplayString(fe.userName),1)]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),createBaseVNode("div",_hoisted_4$3,[createBaseVNode("span",_hoisted_5$3,toDisplayString(unref(v).conversationName)+"["+toDisplayString(unref(v).conversationID)+"]",1),e.type?(openBlock(),createBlock(J,{key:0,trigger:"click"},{dropdown:withCtx(()=>[createVNode(F,null,{default:withCtx(()=>[e.type==2?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(Se,{onClick:D},{default:withCtx(()=>[createTextVNode(" Clear chat history ")]),_:1}),createVNode(Se,{onClick:R},{default:withCtx(()=>[createTextVNode(" Delete and leave ")]),_:1}),n.value?(openBlock(),createBlock(Se,{key:0,onClick:q},{default:withCtx(()=>[createTextVNode(" Ungroup and leave ")]),_:1})):createCommentVNode("",!0)],64)):createCommentVNode("",!0),e.type==1?(openBlock(),createBlock(Se,{key:1,onClick:A},{default:withCtx(()=>[createTextVNode(" Leave room ")]),_:1})):createCommentVNode("",!0)]),_:1})]),default:withCtx(()=>[createVNode(Ce,null,{default:withCtx(()=>[createVNode(unref(moreFilled))]),_:1})]),_:1})):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_6$3,[createBaseVNode("div",_hoisted_7$3,[withDirectives((openBlock(),createBlock(unref(ElScrollbar),{ref_key:"scrollbarRef",ref:d,class:"list"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"innerRef",ref:r},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s),fe=>{var we,ke,Ie;return openBlock(),createElementBlock("div",{key:fe.messageID,class:normalizeClass(fe.direction?"item l":"item r")},[!fe.isUserInserted&&fe.type!=31?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(he,{size:32,src:S(fe)},null,8,["src"]),createBaseVNode("div",_hoisted_8$3,[createBaseVNode("span",_hoisted_9$3,toDisplayString(((we=unref(i)[fe.senderUserID])==null?void 0:we.userName)||fe.senderUserID),1),createBaseVNode("div",{class:"msg-content",onContextmenu:withModifiers(De=>N(fe),["prevent"])},[fe.isRevoke?(openBlock(),createElementBlock("span",_hoisted_11$2,[createVNode(unref(scissor),{color:"green",onClick:De=>k(fe)},null,8,["onClick"]),createVNode(unref(_delete),{color:"red",onClick:De=>L(fe)},null,8,["onClick"])])):createCommentVNode("",!0),fe.conversationType!=1&&fe.direction==1&&fe.receiptStatus?(openBlock(),createBlock(unref(circleCheck),{key:1,color:fe.receiptStatus==1?"gray":"green",onClick:De=>W(fe)},null,8,["color","onClick"])):createCommentVNode("",!0),fe.conversationType!=1&&fe.direction==0&&fe.receiptStatus?(openBlock(),createElementBlock(Fragment,{key:2},[((ke=unref(m)[fe.messageID])==null?void 0:ke.status)==2||fe.receiptStatus==2?(openBlock(),createBlock(unref(circleCheck),{key:0,color:"green",onClick:De=>X(fe,unref(m)[fe.messageID])},null,8,["onClick"])):(openBlock(),createBlock(de,{key:1,value:((Ie=unref(m)[fe.messageID])==null?void 0:Ie.readMemberCount)||0,type:"success",style:{cursor:"pointer","margin-top":"3px"},onClick:De=>X(fe,unref(m)[fe.messageID])},null,8,["value","onClick"]))],64)):createCommentVNode("",!0),fe.sentStatus==2?(openBlock(),createBlock(unref(warning$1),{key:3,color:"red"})):createCommentVNode("",!0),fe.type==1||fe.type==2||fe.type==20||fe.sentStatus==2?(openBlock(),createElementBlock("span",_hoisted_12$1,toDisplayString(fe.message||fe.fileName),1)):fe.type==11?(openBlock(),createElementBlock("img",{key:5,class:"msg",width:"240",src:fe.thumbnailDownloadUrl||fe.fileDownloadUrl},null,8,_hoisted_13)):fe.type==12?(openBlock(),createElementBlock("span",_hoisted_14,[createBaseVNode("a",{target:"_blank",href:fe.fileDownloadUrl},toDisplayString(fe.fileName),9,_hoisted_15)])):fe.type==13?(openBlock(),createElementBlock("audio",{key:7,class:"msg",width:"240",controls:"",src:fe.fileDownloadUrl},null,8,_hoisted_16)):fe.type==14?(openBlock(),createElementBlock("video",{key:8,class:"msg",width:"240",controls:"",poster:fe.videoFirstFrameDownloadUrl,src:fe.fileDownloadUrl},null,8,_hoisted_17)):createCommentVNode("",!0)],40,_hoisted_10$3)])],64)):(openBlock(),createElementBlock("span",_hoisted_18,toDisplayString(fe.type==31?fe.direction?fe.revokeExtendedData:"You revoked a message":fe.message),1))],2)}),128))],512)]),_:1})),[[_e,u.value]]),createBaseVNode("div",_hoisted_19,[createBaseVNode("div",_hoisted_20,[createBaseVNode("ul",_hoisted_21,[createBaseVNode("li",null,[createVNode(Ce,{onClick:B[4]||(B[4]=fe=>x(11))},{default:withCtx(()=>[createVNode(unref(picture))]),_:1})]),createBaseVNode("li",null,[createVNode(Ce,{onClick:B[5]||(B[5]=fe=>x(14))},{default:withCtx(()=>[createVNode(unref(videoCamera))]),_:1})]),createBaseVNode("li",null,[createVNode(Ce,{onClick:B[6]||(B[6]=fe=>x(13))},{default:withCtx(()=>[createVNode(unref(microphone))]),_:1})]),createBaseVNode("li",null,[createVNode(Ce,{onClick:B[7]||(B[7]=fe=>x(12))},{default:withCtx(()=>[createVNode(unref(document$1))]),_:1})]),createVNode(G,{direction:"vertical"}),createBaseVNode("li",null,[createVNode(z,{modelValue:g.value,"onUpdate:modelValue":B[8]||(B[8]=fe=>g.value=fe),onChange:ae},{default:withCtx(()=>[createTextVNode("receipt")]),_:1},8,["modelValue"])]),createBaseVNode("li",null,[createVNode(z,{modelValue:y.value,"onUpdate:modelValue":B[9]||(B[9]=fe=>y.value=fe),onChange:ee},{default:withCtx(()=>[createTextVNode("byte")]),_:1},8,["modelValue"])])]),unref(v).type!==1?(openBlock(),createElementBlock("ul",_hoisted_22,[createBaseVNode("li",null,[createVNode(Ce,{onClick:B[10]||(B[10]=fe=>j("voice"))},{default:withCtx(()=>[createVNode(unref(phone))]),_:1})]),createBaseVNode("li",null,[createVNode(Ce,{onClick:B[11]||(B[11]=fe=>j("video"))},{default:withCtx(()=>[createVNode(unref(videoCamera))]),_:1})])])):createCommentVNode("",!0)]),createVNode(ge,{modelValue:o.value,"onUpdate:modelValue":B[12]||(B[12]=fe=>o.value=fe),placeholder:"Shift + Enter",rows:4,type:"textarea",resize:"none","input-style":"border: none",onKeydown:withKeys(withModifiers(M,["exact","prevent"]),["enter"])},null,8,["modelValue","onKeydown"])])]),e.type?(openBlock(),createBlock(Member,normalizeProps(mergeProps({key:0},t)),null,16)):createCommentVNode("",!0)])])}}});var Chat=_export_sfc(_sfc_main$4,[["__scopeId","data-v-7fa4b883"]]),Conversation_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$3={class:"content"},_hoisted_2$2={class:"sidebar"},_hoisted_3$2={class:"toolbar"},_hoisted_4$2={class:"title"},_hoisted_5$2=["onClick"],_hoisted_6$2={class:"right"},_hoisted_7$2={class:"flex"},_hoisted_8$2={class:"title ellipsis"},_hoisted_9$2={class:"tips"},_hoisted_10$2={class:"flex"},_hoisted_11$1={class:"tips ellipsis"},_hoisted_12={key:1,class:"nodata"},_sfc_main$3=defineComponent({__name:"Conversation",setup(e){const t=store(),r=computed(()=>t.convs),d=t.convInfo,u=t.msgList,c=M=>new Date(M).toLocaleString().slice(5,-3),v=M=>{const S=M.lastMessage;if(!S)return"";let I=S.message;switch(S.type){case 11:I=`[Image]-${S.fileName}`;break;case 12:I=`[File]-${S.fileName}`;break;case 13:I=`[Audio]-${S.fileName}`;break;case 14:I=`[Video]-${S.fileName}`;break;case 31:I=S.revokeExtendedData||"Revoked message";break}return S.receiptStatus&&(I="[Receipt]-"+I),M.type?`[${S.senderUserID}]: ${I}`:I},g=[{label:"1.jpeg",value:"1.jpeg"},{label:"2.jpeg",value:"2.jpeg"},{label:"3.jpeg",value:"3.jpeg"},{label:"4.jpeg",value:"4.jpeg"},{label:"5.jpeg",value:"5.jpeg"}],y={1:"Created",2:"Dismissed",3:"Joined",4:"Invited",5:"Left",6:"KickedOut"},o=()=>{zim.on("receivePeerMessage",(M,S)=>{console.warn("receivePeerMessage",S);const{messageList:I,fromConversationID:x}=S;x==d.conversationID&&d.type==0&&I.forEach(E=>{u.push({...E})})}),zim.on("receiveGroupMessage",(M,S)=>{const{messageList:I,fromConversationID:x}=S;x==d.conversationID&&d.type==2&&I.forEach(E=>{u.push({...E})})}),zim.on("receiveRoomMessage",(M,S)=>{const{messageList:I,fromConversationID:x}=S;x==d.conversationID&&d.type==1&&I.forEach(E=>{u.push({...E})})}),zim.on("conversationChanged",(M,S)=>{t.conversationChanged(S)}),zim.on("groupStateChanged",(M,S)=>{if(!t.isLogin)return;const I=`event: ${y[S.event]}, operator: ${S.operatedInfo.userID}`;t.insertMessageToLocalDB({type:1,message:I},S.groupID,2,S.operatedInfo.userID),S.event==4&&t.queryConversationList()}),zim.on("groupAvatarUrlUpdated",(M,S)=>{t.queryConversationList(),t.getGroupList();const I=`${S.operatedInfo.userID} updated group avatar url`;t.insertMessageToLocalDB({type:1,message:I},S.groupID,2,S.operatedInfo.userID)}),zim.on("messageRevokeReceived",(M,S)=>{S.messageList.forEach(I=>{const x=u.findIndex(E=>E.messageID==I.messageID);x!=-1&&u.splice(x,1,I),console.warn("messageRevokeReceived",x,I)})})};onMounted(async()=>{t.isLogged&&await t.queryConversationList(),o()});const n=["Update user info","Create a 1v1 chat","Create a group chat","Join a group","Create a room","Join a room"],s=ref(0),i=reactive({id:"",name:"",avatar:"",note:"Fitness",ids:""}),a=computed(()=>{switch(s.value){case 2:return"User ID";case 3:case 4:return"Group ID";case 5:case 6:return"Room ID"}}),m=M=>M.type+M.conversationID===d.type+d.conversationID?"item active":"item",f=M=>{t.queryRoomAllAttributes(M).then(S=>{if(!S.code){const{roomAttributes:I,roomID:x}=S;x==d.conversationID&&I.notice&&(d.notice=I.notice)}})},b=M=>{d.type=M.type,d.conversationID=M.conversationID,d.conversationName=M.conversationName,M.type==0&&t.setUserMap([t.user.userID,M.conversationID]),M.type==1&&(t.queryRoomMember(),f(d.conversationID)),M.type==2&&t.queryAllGroupInfo(M.conversationID),t.queryHistoryMessage(M.conversationID,M.type),t.clearConversationUnreadMessageCount(M.conversationID,M.type)},C=M=>{const S=M.notificationStatus==2?1:2;t.setConversationNotificationStatus(S,M.conversationID,M.type)},_=M=>{s.value=M,i.id="",i.name="",i.avatar=i.avatar||Math.ceil(Math.random()*5)+".jpeg",i.note=i.note||"",i.ids=""},w=()=>{if(d.note="",d.notice="",s.value==1)s.value=0,t.setUserInfo({name:i.name,avatar:i.avatar});else if(s.value==2)d.conversationID=i.id,d.conversationName=i.id,d.type=0,s.value=0,t.queryHistoryMessage(i.id,0);else if(s.value==3){const M={groupID:i.id||"",groupName:i.name||"",groupAvatarUrl:i.avatar||""},S=i.ids.split(",");t.createGroup(M,S,{groupAttributes:{remark:i.note}}).then(I=>{if(!I.code){const x=I.groupInfo.baseInfo.groupID;d.conversationID=x,d.conversationName=I.groupInfo.baseInfo.groupName,d.type=2,s.value=0,t.queryHistoryMessage(x,2),t.queryAllGroupInfo(x)}})}else if(s.value==4)t.joinGroup(i.id).then(M=>{if(!M.code){const S=M.groupInfo.baseInfo.groupID;d.conversationID=S,d.conversationName=M.groupInfo.baseInfo.groupName,d.type=2,s.value=0,t.queryHistoryMessage(S,2),t.queryAllGroupInfo(S)}});else if(s.value==5){const M={roomID:i.id,roomName:i.name};t.createRoom(M,{attr:i.note}).then(S=>{S.code||(d.conversationID=i.id,d.conversationName=i.name,d.type=1,s.value=0,t.msgList.length=0,t.queryRoomMember(),t.queryHistoryMessage(i.id,1))})}else s.value==6&&t.joinRoom(i.id).then(M=>{M.code||(d.conversationID=i.id,d.conversationName=M.roomInfo.baseInfo.roomName,d.type=1,s.value=0,t.queryRoomMember(),t.queryHistoryMessage(i.id,1),f(i.id))})};return(M,S)=>{const I=ElIcon,x=ElDropdownItem,E=ElDropdownMenu,D=ElDropdown,R=ElAvatar,q=ElBadge,A=ElScrollbar,j=ElOption,H=ElSelect,W=ElFormItem,X=ElInput,ee=ElRadio,ae=ElRadioGroup,N=ElForm,k=ElButton,L=ElDialog;return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("span",_hoisted_4$2,"Conversation list("+toDisplayString(unref(r).length)+")",1),createVNode(D,{trigger:"click"},{dropdown:withCtx(()=>[createVNode(E,null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(n,($,B)=>createVNode(x,{key:B,onClick:G=>_(B+1)},{default:withCtx(()=>[createTextVNode(toDisplayString($),1)]),_:2},1032,["onClick"])),64))]),_:1})]),default:withCtx(()=>[createVNode(I,null,{default:withCtx(()=>[createVNode(unref(plus))]),_:1})]),_:1})]),createVNode(A,{class:"list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r),$=>(openBlock(),createElementBlock("div",{class:normalizeClass(m($)),key:$.conversationID,onClick:B=>b($)},[createVNode(q,{value:$.unreadMessageCount,"is-dot":$.notificationStatus==2,hidden:!$.unreadMessageCount},{default:withCtx(()=>[createVNode(R,{size:46,shape:"square",src:$.conversationAvatarUrl},null,8,["src"])]),_:2},1032,["value","is-dot","hidden"]),createBaseVNode("div",_hoisted_6$2,[createBaseVNode("div",_hoisted_7$2,[createBaseVNode("span",_hoisted_8$2,toDisplayString($.conversationName),1),createBaseVNode("span",_hoisted_9$2,toDisplayString(c($.orderKey)),1)]),createBaseVNode("div",_hoisted_10$2,[createBaseVNode("span",_hoisted_11$1,toDisplayString(v($)),1),$.type==2?(openBlock(),createBlock(I,{key:0,size:16,color:"gray",onClick:withModifiers(B=>C($),["stop"])},{default:withCtx(()=>[$.notificationStatus==2?(openBlock(),createBlock(unref(muteNotification),{key:0})):(openBlock(),createBlock(unref(bell),{key:1}))]),_:2},1032,["onClick"])):createCommentVNode("",!0)])])],10,_hoisted_5$2))),128))]),_:1})]),unref(d).conversationID?(openBlock(),createBlock(Chat,{key:0,id:unref(d).conversationID,type:unref(d).type,name:unref(d).name},null,8,["id","type","name"])):(openBlock(),createElementBlock("div",_hoisted_12,"No data")),createVNode(L,{modelValue:s.value,"onUpdate:modelValue":S[5]||(S[5]=$=>s.value=$),center:!0,title:n[s.value-1],width:"50%",top:"50px"},{footer:withCtx(()=>[createVNode(k,{type:"primary",onClick:w},{default:withCtx(()=>[createTextVNode("OK")]),_:1})]),default:withCtx(()=>[createVNode(N,{model:i,"label-width":"90px"},{default:withCtx(()=>[s.value==1||s.value==3?(openBlock(),createBlock(W,{key:0,label:"Avatar"},{default:withCtx(()=>[createVNode(H,{modelValue:i.avatar,"onUpdate:modelValue":S[0]||(S[0]=$=>i.avatar=$)},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(g,$=>createVNode(j,{key:$.value,label:$.label,value:$.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})):createCommentVNode("",!0),s.value!==1?(openBlock(),createBlock(W,{key:1,label:unref(a)},{default:withCtx(()=>[createVNode(X,{modelValue:i.id,"onUpdate:modelValue":S[1]||(S[1]=$=>i.id=$)},null,8,["modelValue"])]),_:1},8,["label"])):createCommentVNode("",!0),s.value==1||s.value==3||s.value==5?(openBlock(),createElementBlock(Fragment,{key:2},[createVNode(W,{label:"Name"},{default:withCtx(()=>[createVNode(X,{modelValue:i.name,"onUpdate:modelValue":S[2]||(S[2]=$=>i.name=$)},null,8,["modelValue"])]),_:1}),s.value==3?(openBlock(),createBlock(W,{key:0,label:"Remark"},{default:withCtx(()=>[createVNode(ae,{modelValue:i.note,"onUpdate:modelValue":S[3]||(S[3]=$=>i.note=$)},{default:withCtx(()=>[createVNode(ee,{label:"Socialize"}),createVNode(ee,{label:"Delicacy"}),createVNode(ee,{label:"Fitness"})]),_:1},8,["modelValue"])]),_:1})):createCommentVNode("",!0)],64)):createCommentVNode("",!0),s.value==3?(openBlock(),createBlock(W,{key:3,label:"User ID"},{default:withCtx(()=>[createVNode(X,{modelValue:i.ids,"onUpdate:modelValue":S[4]||(S[4]=$=>i.ids=$),placeholder:"Separated by ','",type:"textarea"},null,8,["modelValue"])]),_:1})):createCommentVNode("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}});var Conversation=_export_sfc(_sfc_main$3,[["__scopeId","data-v-1587d2b6"]]),Group_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$2={class:"content"},_hoisted_2$1={class:"sidebar"},_hoisted_3$1={class:"toolbar"},_hoisted_4$1={class:"title"},_hoisted_5$1=["onClick"],_hoisted_6$1={class:"right"},_hoisted_7$1={class:"title ellipsis"},_hoisted_8$1={key:0,class:"container-group"},_hoisted_9$1={class:"name"},_hoisted_10$1={key:1,class:"nodata"},_sfc_main$2=defineComponent({__name:"Group",setup(e){const t=store(),r=t.groupList,d=reactive({groupID:"",groupName:"",groupNotice:""});onMounted(()=>{t.getGroupList()});const u=g=>g.groupID===d.groupID?"item active":"item",c=g=>{Object.assign(d,g.baseInfo)},v=g=>{t.convInfo.conversationID=g.groupID,t.convInfo.conversationName=g.groupName,t.convInfo.type=2,t.activedTab="conv",t.queryAllGroupInfo(g.groupID),t.queryHistoryMessage(g.groupID,2)};return(g,y)=>{const o=ElAvatar,n=ElScrollbar,s=ElButton;return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("span",_hoisted_4$1,"Groups("+toDisplayString(unref(r).length)+")",1)]),createVNode(n,{class:"list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r),i=>(openBlock(),createElementBlock("div",{class:normalizeClass(u(i)),key:i.baseInfo.groupID,onClick:a=>c(i)},[createVNode(o,{size:26,shape:"square",src:i.baseInfo.groupAvatarUrl},null,8,["src"]),createBaseVNode("div",_hoisted_6$1,[createBaseVNode("span",_hoisted_7$1,toDisplayString(i.baseInfo.groupName),1)])],10,_hoisted_5$1))),128))]),_:1})]),d.groupID?(openBlock(),createElementBlock("div",_hoisted_8$1,[createTextVNode("g "),createVNode(o,{size:108,shape:"square",src:d.groupAvatarUrl},null,8,["src"]),createBaseVNode("div",_hoisted_9$1,toDisplayString(d.groupName),1),createVNode(s,{type:"primary",onClick:y[0]||(y[0]=i=>v(d))},{default:withCtx(()=>[createTextVNode("Join a group")]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_10$1,"No data"))])}}});var Group=_export_sfc(_sfc_main$2,[["__scopeId","data-v-86199b82"]]),Layout_vue_vue_type_style_index_0_scoped_true_lang="";const _withScopeId=e=>(pushScopeId("data-v-02659c26"),e=e(),popScopeId(),e),_hoisted_1$1={class:"container layout"},_hoisted_2={key:0,class:"call-mask"},_hoisted_3={class:"call-content"},_hoisted_4={class:"avatar"},_hoisted_5={class:"name"},_hoisted_6={class:"text"},_hoisted_7=_withScopeId(()=>createBaseVNode("div",{class:"lds-ellipsis"},[createBaseVNode("div"),createBaseVNode("div"),createBaseVNode("div"),createBaseVNode("div")],-1)),_hoisted_8={class:"sidebar"},_hoisted_9={class:"name ellipsis"},_hoisted_10={class:"name ellipsis"},_hoisted_11={class:"menu"},_sfc_main$1=defineComponent({__name:"Layout",setup(e){const t=store(),r=computed(()=>t.unreadMessageCount),d=computed(()=>t.activedTab),u=computed(()=>t.user),c=computed(()=>t.callInfo),v=i=>{t.activedTab=i,i=="conv"&&t.queryConversationList(),i=="group"&&t.getGroupList()},g=()=>{t.logout(),t.$reset(),location.reload()},y=()=>{zim.on("callInvitationReceived",(i,a)=>{console.log("==callInvitationReceived==",a),t.setCallInfo({...a,isCaller:!1,isShow:!0})}),zim.on("callInvitationCancelled",(i,a)=>{console.log("==callInvitationCancelled==",a),ElNotification({title:"Tips",message:`Cancelled: callID[${a.callID}]`,duration:0}),t.setCallInfo({...a,isCaller:!1,isShow:!1})}),zim.on("callInvitationAccepted",(i,a)=>{console.log("==callInvitationAccepted==",a),ElNotification({title:"Tips",message:`Accepted: callID[${a.callID}]-invitee[${a.invitee}]`,duration:0}),t.setCallInfo({...a,isCaller:!1,isShow:!1})}),zim.on("callInvitationRejected",(i,a)=>{console.log("==callInvitationRejected==",a),ElNotification({title:"Tips",message:`Rejected: callID[${a.callID}]-invitee[${a.invitee}]`,duration:0}),t.setCallInfo({...a,isCaller:!1,isShow:!1})}),zim.on("callInvitationTimeout",(i,a)=>{console.log("==callInvitationTimeout==",a),ElNotification({title:"Tips",message:`Timeouted: callID[${a.callID}]`,duration:0}),t.setCallInfo({isShow:!1})}),zim.on("callInviteesAnsweredTimeout",(i,a)=>{console.log("==callInviteesAnsweredTimeout==",a),ElNotification({title:"Tips",message:`AnsweredTimeouted: callID[${a.callID}]`,duration:0}),t.setCallInfo({isShow:!1})})},o=()=>{t.callAccept(c.value.callID,{extendedData:""}).then(()=>{t.setCallInfo({isShow:!1}),ElNotification({title:"Tips",message:`Accepted: callID[${c.value.callID}]`,duration:0})})},n=()=>{t.callReject(c.value.callID,{extendedData:""}).then(()=>{t.setCallInfo({isShow:!1}),ElNotification({title:"Tips",message:`Rejected: callID[${c.value.callID}]`,duration:0})})},s=()=>{console.warn("callCancel",JSON.stringify(c.value),c.value.callID),t.callCancel(c.value.invitees,c.value.callID,{extendedData:c.value.extendedData}).then(()=>{t.setCallInfo({isShow:!1}),ElNotification({title:"Tips",message:`Canceled: callID[${c.value.callID}]`,duration:0})})};return onMounted(()=>{y()}),(i,a)=>{const m=ElAvatar,f=ElButton,b=ElBadge;return openBlock(),createElementBlock("div",_hoisted_1$1,[unref(c).isShow?(openBlock(),createElementBlock("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createVNode(m,{shape:"square",src:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png",fit:"fit"})]),createBaseVNode("p",_hoisted_5,toDisplayString(unref(c).inviter||""),1),createBaseVNode("p",_hoisted_6,"Invite a "+toDisplayString(unref(c).extendedData)+" call",1),_hoisted_7,createBaseVNode("div",{class:"action",style:normalizeStyle({justifyContent:unref(c).isCaller?"center":"space-between"})},[createVNode(f,{size:"large",type:"danger",icon:unref(close$2),circle:"",onClick:a[0]||(a[0]=C=>unref(c).isCaller?s():n())},null,8,["icon"]),unref(c).isCaller?createCommentVNode("",!0):(openBlock(),createBlock(f,{key:0,size:"large",type:"success",icon:unref(check),circle:"",onClick:o},null,8,["icon"]))],4)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8,[createVNode(m,{src:unref(u).memberAvatarUrl},null,8,["src"]),createBaseVNode("span",_hoisted_9,"id:"+toDisplayString(unref(u).userID),1),createBaseVNode("span",_hoisted_10,toDisplayString(unref(u).userName),1),createBaseVNode("div",_hoisted_11,[createVNode(b,{value:unref(r),hidden:unref(r)==0},{default:withCtx(()=>[createVNode(f,{type:"text",icon:unref(chatRound),onClick:a[1]||(a[1]=C=>v("conv"))},null,8,["icon"])]),_:1},8,["value","hidden"]),createVNode(f,{type:"text",icon:unref(user),onClick:a[2]||(a[2]=C=>v("group"))},null,8,["icon"])]),createVNode(f,{style:{color:"red"},type:"text",icon:unref(close$2),onClick:g},null,8,["icon"])]),withDirectives(createVNode(Conversation,null,null,512),[[vShow,unref(d)=="conv"]]),withDirectives(createVNode(Group,null,null,512),[[vShow,unref(d)=="group"]])])}}});var Layout=_export_sfc(_sfc_main$1,[["__scopeId","data-v-02659c26"]]);const _hoisted_1=createBaseVNode("div",{class:"bg"},null,-1),_sfc_main=defineComponent({__name:"App",setup(e){const t=store(),r=computed(()=>t.isLogged);return(d,u)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1,unref(r)?(openBlock(),createBlock(Layout,{key:"layout"})):(openBlock(),createBlock(_sfc_main$6,{key:"login"}))],64))}});var index$1="",index="";const app=createApp(_sfc_main);app.use(createPinia());app.mount("#app")});export default ur();
